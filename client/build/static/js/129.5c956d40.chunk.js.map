{"version":3,"file":"static/js/129.5c956d40.chunk.js","mappings":";gIAaM,MAAAA,GAAWC,E,SAAAA,GAAiB,WAAY,CAC5C,CAAC,OAAQ,CAAEC,GAAI,IAAKC,GAAI,KAAMC,GAAI,KAAMC,GAAI,KAAMC,IAAK,UACvD,CAAC,OAAQ,CAAEJ,GAAI,IAAKC,GAAI,IAAKC,GAAI,KAAMC,GAAI,KAAMC,IAAK,WACtD,CAAC,OAAQ,CAAEJ,GAAI,KAAMC,GAAI,KAAMC,GAAI,KAAMC,GAAI,KAAMC,IAAK,WACxD,CAAC,OAAQ,CAAEJ,GAAI,KAAMC,GAAI,KAAMC,GAAI,KAAMC,GAAI,KAAMC,IAAK,SACxD,CAAC,OAAQ,CAAEJ,GAAI,KAAMC,GAAI,KAAMC,GAAI,KAAMC,GAAI,KAAMC,IAAK,WACxD,CAAC,UAAW,CAAEC,OAAQ,gBAAiBD,IAAK,Y,yDCZvC,SAASE,EAAiBC,EAAiBC,GAChD,MAAMC,GAAOC,EAAAA,EAAAA,GAAcC,GAAMA,EAAEF,MACnC,QAAKA,IACEG,EAAAA,EAAAA,IAAcH,EAAKI,YAAaJ,EAAKK,KAAMP,EAASC,EAC7D,C,gCCEM,MAAAO,GAAShB,E,SAAAA,GAAiB,SAAU,CACxC,CAAC,UAAW,CAAEM,OAAQ,8CAA+CD,IAAK,Y,gCCDtE,MAAAY,GAASjB,E,SAAAA,GAAiB,SAAU,CACxC,CAAC,SAAU,CAAEkB,GAAI,KAAMC,GAAI,KAAMC,EAAG,IAAKf,IAAK,WAC9C,CAAC,OAAQ,CAAEgB,EAAG,iBAAkBhB,IAAK,Y,gCCFjC,MAAAiB,GAAYtB,E,SAAAA,GAAiB,YAAa,CAC9C,CAAC,OAAQ,CAAEqB,EAAG,4CAA6ChB,IAAK,WAChE,CAAC,OAAQ,CAAEgB,EAAG,0CAA2ChB,IAAK,WAC9D,CAAC,OAAQ,CAAEgB,EAAG,2CAA4ChB,IAAK,WAC/D,CAAC,OAAQ,CAAEgB,EAAG,UAAWhB,IAAK,WAC9B,CAAC,OAAQ,CAAEgB,EAAG,WAAYhB,IAAK,WAC/B,CAAC,OAAQ,CAAEgB,EAAG,WAAYhB,IAAK,WAC/B,CAAC,OAAQ,CAAEgB,EAAG,WAAYhB,IAAK,Y,wDClBlB,SAASkB,EAAOC,GAAmC,IAAlC,QAAEC,EAAU,0EAAmBD,EAC7D,OACEE,EAAAA,EAAAA,MAAA,OAAKC,UAAU,kBAAiBC,SAAA,EAC9BC,EAAAA,EAAAA,KAAA,OAAKF,UAAU,qBACfE,EAAAA,EAAAA,KAAA,KAAGF,UAAU,kBAAiBC,SAAEH,MAGtC,C,gCCIM,MAAAK,GAAc9B,E,SAAAA,GAAiB,cAAe,CAClD,CAAC,OAAQ,CAAEqB,EAAG,eAAgBhB,IAAK,Y,+CCXrC,MAAM0B,EAAUC,CAAAA,SAAAA,aAAAA,WAAAA,GAAAA,qBAAAA,EAAAA,qBAAAA,EAAAA,qBAAAA,EAAAA,cAAAA,EAAAA,iBAAAA,uBAAYC,mBAAqB,OAE3CC,EAAMC,EAAAA,EAAMC,OAAO,CACvBC,QAASN,EACTO,QAAS,CACP,eAAgB,sBAKpBJ,EAAIK,aAAaC,QAAQC,IACtBC,IACC,MAAMC,EAAQC,aAAaC,QAAQ,SAGnC,OAFIF,IAAOD,EAAOJ,QAAQQ,cAAa,UAAAC,OAAaJ,IAChDD,EAAOM,gBAAgBC,iBAAiBP,EAAOJ,QAAQ,gBACpDI,GAERQ,GAAUC,QAAQC,OAAOF,IAI5BhB,EAAIK,aAAac,SAASZ,IACvBY,GAAaA,EACbH,IAAW,IAADI,EAAAC,EAAAC,EAMT,OAL+B,OAAb,QAAdF,EAAAJ,EAAMG,gBAAQ,IAAAC,OAAA,EAAdA,EAAgBG,SAA+B,QAAbF,EAACL,EAAMR,cAAM,IAAAa,GAAK,QAALC,EAAZD,EAAcG,WAAG,IAAAF,GAAjBA,EAAmBG,SAAS,iBACjEf,aAAagB,WAAW,SACxBhB,aAAagB,WAAW,QACxBC,OAAOC,SAASC,KAAO,UAElBZ,QAAQC,OAAOF,KAI1B,S,oLCvBM,MAAAc,GAAShE,EAAAA,EAAAA,GAAiB,SAAU,CACxC,CAAC,OAAQ,CAAEqB,EAAG,iDAAkDhB,IAAK,WACrE,CAAC,SAAU,CAAEa,GAAI,KAAMC,GAAI,KAAMC,EAAG,IAAKf,IAAK,a,0BCF1C,MAAA4D,GAAYjE,EAAAA,EAAAA,GAAiB,YAAa,CAC9C,CAAC,OAAQ,CAAEkE,MAAO,KAAMC,OAAQ,KAAMC,EAAG,IAAKC,EAAG,IAAKC,GAAI,IAAKC,GAAI,IAAKlE,IAAK,WAC7E,CAAC,OAAQ,CAAEgB,EAAG,6CAA8ChB,IAAK,a,0BCF7D,MAAAmE,GAAcxE,EAAAA,EAAAA,GAAiB,cAAe,CAClD,CAAC,OAAQ,CAAEqB,EAAG,gBAAiBhB,IAAK,WACpC,CAAC,OAAQ,CAAEgB,EAAG,UAAWhB,IAAK,WAC9B,CAAC,OAAQ,CAAEgB,EAAG,WAAYhB,IAAK,WAC/B,CAAC,OAAQ,CAAEgB,EAAG,kCAAmChB,IAAK,WACtD,CAAC,OAAQ,CAAEgB,EAAG,kBAAmBhB,IAAK,aCLlCoE,GAAYzE,EAAAA,EAAAA,GAAiB,YAAa,CAC9C,CAAC,OAAQ,CAAEqB,EAAG,eAAgBhB,IAAK,WACnC,CAAC,OAAQ,CAAEgB,EAAG,UAAWhB,IAAK,WAC9B,CAAC,OAAQ,CAAEgB,EAAG,WAAYhB,IAAK,WAC/B,CAAC,OAAQ,CAAEgB,EAAG,kCAAmChB,IAAK,WACtD,CAAC,OAAQ,CAAEgB,EAAG,kBAAmBhB,IAAK,a,0BCFxC,MAAMqE,EAAoB,CACxB,CAAEC,MAAO,WAAYC,MAAO,qDAC5B,CAAED,MAAO,SAAUC,MAAO,kCAC1B,CAAED,MAAO,aAAcC,MAAO,0CAGzB,SAASC,EAAiBrD,GAUL,IAVM,UAChCsD,EAAS,YACTC,EAAW,QACXC,EAAO,MACPL,EAAK,SACLM,EAAQ,cACRC,EAAa,aACbC,EAAY,QACZC,EAAO,UACPzD,GACuBH,EACvB,MAAO6D,EAAMC,GAAWC,EAAAA,UAAe,IAChCC,EAAQC,GAAaF,EAAAA,SAAe,KACpCG,EAAWC,GAAgBJ,EAAAA,SAAe,aAC1CK,EAAWC,GAAgBN,EAAAA,UAAe,IAC1CO,EAAOC,GAAYR,EAAAA,SAAeZ,GACnCqB,EAAeT,EAAAA,OAA6B,MAC5CU,EAAeV,EAAAA,OAAsC,MAE3DA,EAAAA,UAAgB,KACdQ,EAASpB,IACR,CAACA,EAAOU,IAEX,MAAMa,EAAcX,EAAAA,QAAc,KAChC,MAAM3E,GAAKkF,GAAS,IAAIK,MAAM,KAAKC,IAAKhC,GAAMA,EAAEiC,QAAQC,OAAOC,SAC/D,OAAO,IAAIC,IAAI5F,IACd,CAACkF,IAEEW,EAAkBlB,EAAAA,QAAc,KACpC,IAAImB,EAAO1B,EACX,GAAIQ,EAAOa,OAAQ,CACjB,MAAMM,EAAInB,EAAOoB,cACjBF,EAAOA,EAAKJ,OAAQO,IAClB,MAAMC,GAAKD,GAAO,IAAID,cACtB,MAAkB,aAAdlB,EAAiCoB,EAAEnD,SAASgD,GAC9B,WAAdjB,EAA+BoB,IAAMH,EACvB,eAAdjB,EAAmCoB,EAAEC,WAAWJ,GAC7CG,EAAEnD,SAASgD,IAEtB,CACA,OAAOD,GACN,CAAC1B,EAASQ,EAAQE,IAEfsB,EACJP,EAAgBQ,OAAS,GACzBR,EAAgBS,MAAOL,GAAQX,EAAYiB,IAAIN,IAC3CO,EACJX,EAAgBY,KAAMR,GAAQX,EAAYiB,IAAIN,MAAUG,EAE1DzB,EAAAA,UAAgB,KACVU,EAAaqB,UAASrB,EAAaqB,QAAQC,cAAgBH,IAC9D,CAACA,IA2CJ,OACE1F,EAAAA,EAAAA,MAAA,OAAK8F,IAAKxB,EAAcrE,WAAW8F,EAAAA,EAAAA,IAAG,WAAY9F,GAAWC,SAAA,EAC3DC,EAAAA,EAAAA,KAAA,OAAK6F,QAASA,IAAMpC,GAASD,GAAO1D,UAAU,iBAAgBC,SAC3DwD,IAEFC,IACC3D,EAAAA,EAAAA,MAAAiG,EAAAA,SAAA,CAAA/F,SAAA,EACEF,EAAAA,EAAAA,MAAA,OACEC,UAAU,4GACViG,MAAO,CAAEC,KAAM,EAAGC,IAAK,QAASlG,SAAA,EAGhCF,EAAAA,EAAAA,MAAA,OAAKC,UAAU,YAAWC,SAAA,EACxBC,EAAAA,EAAAA,KAAA,KAAGF,UAAU,0CAAyCC,SAAC,wBACvDF,EAAAA,EAAAA,MAAA,OAAKC,UAAU,aAAYC,SAAA,EACzBF,EAAAA,EAAAA,MAAA,UACEqG,KAAK,SACLL,QAASA,IACPvC,EAA+B,SAAlBD,EAA2B,KAAO,QAEjDvD,WAAW8F,EAAAA,EAAAA,IACT,uFACkB,SAAlBvC,EACI,0BACA,kDACJtD,SAAA,EAEFC,EAAAA,EAAAA,KAAC2C,EAAW,CAAC7C,UAAU,gBAAgB,2CAGzCD,EAAAA,EAAAA,MAAA,UACEqG,KAAK,SACLL,QAASA,IACPvC,EAA+B,QAAlBD,EAA0B,KAAO,OAEhDvD,WAAW8F,EAAAA,EAAAA,IACT,uFACkB,QAAlBvC,EACI,0BACA,kDACJtD,SAAA,EAEFC,EAAAA,EAAAA,KAAC4C,EAAS,CAAC9C,UAAU,gBAAgB,iDAO3CD,EAAAA,EAAAA,MAAA,OAAKC,UAAU,YAAWC,SAAA,EACxBC,EAAAA,EAAAA,KAAA,KAAGF,UAAU,0CAAyCC,SAAC,oCACvDF,EAAAA,EAAAA,MAAA,OAAKC,UAAU,eAAcC,SAAA,EAC3BF,EAAAA,EAAAA,MAAA,OAAKC,UAAU,kBAAiBC,SAAA,EAC9BC,EAAAA,EAAAA,KAACZ,EAAAA,EAAM,CAACU,UAAU,0EAClBE,EAAAA,EAAAA,KAAA,SACEkG,KAAK,OACLC,YAAY,qBACZrD,MAAOa,EACPP,SAAWgD,GAAMxC,EAAUwC,EAAEC,OAAOvD,OACpChD,UAAU,mKAGdE,EAAAA,EAAAA,KAAA,UACE8C,MAAOe,EACPT,SAAWgD,GAAMtC,EAAasC,EAAEC,OAAOvD,OACvChD,UAAU,0HAAyHC,SAElI8C,EAAkB0B,IAAK+B,IACtBtG,EAAAA,EAAAA,KAAA,UAAsB8C,MAAOwD,EAAExD,MAAM/C,SAClCuG,EAAEvD,OADQuD,EAAExD,iBASvB9C,EAAAA,EAAAA,KAAA,OAAKF,UAAU,YAAWC,UACxBF,EAAAA,EAAAA,MAAA,OAAKC,UAAU,8DAA6DC,SAAA,EAC1EF,EAAAA,EAAAA,MAAA,SAAOC,UAAU,+FAA8FC,SAAA,EAC7GC,EAAAA,EAAAA,KAAA,SACEkG,KAAK,WACLP,IAAKvB,EACLmC,QAASpB,EACT/B,SAnHMoD,KACtB,GAAIrB,EAAkB,CACpB,MAAMsB,EAAO,IAAI9B,IAAIN,GACrBO,EAAgB8B,QAASC,GAAMF,EAAKG,OAAOD,IAC3C,MACME,EADM1D,EAAQsB,OAAQkC,GAAMF,EAAKnB,IAAIqB,IACxBG,KAAK,KACxB5C,EAAS2C,GACL9C,GAAWX,EAASyD,EAC1B,KAAO,CACL,MAAMJ,EAAO,IAAI9B,IAAIN,GACrBO,EAAgB8B,QAASC,GAAMF,EAAKM,IAAIJ,IACxC,MACME,EADM1D,EAAQsB,OAAQkC,GAAMF,EAAKnB,IAAIqB,IACxBG,KAAK,KACxB5C,EAAS2C,GACL9C,GAAWX,EAASyD,EAC1B,GAqGgB/G,UAAU,kEAEZE,EAAAA,EAAAA,KAAA,QAAMF,UAAU,uCAAsCC,SAAC,+DAI7B,IAA3B6E,EAAgBQ,QACfpF,EAAAA,EAAAA,KAAA,OAAKF,UAAU,0CAAyCC,SAAC,yEAIzD6E,EAAgBL,IAAKS,IACnBnF,EAAAA,EAAAA,MAAA,SAEEC,UAAU,+EAA8EC,SAAA,EAExFC,EAAAA,EAAAA,KAAA,SACEkG,KAAK,WACLK,QAASlC,EAAYiB,IAAIN,GACzB5B,SAAUA,IAjJV4B,KACpB,MAAMyB,EAAO,IAAI9B,IAAIN,GACjBoC,EAAKnB,IAAIN,GAAMyB,EAAKG,OAAO5B,GAC1ByB,EAAKM,IAAI/B,GACd,MACM6B,EADM1D,EAAQsB,OAAQkC,GAAMF,EAAKnB,IAAIqB,IACxBG,KAAK,KACxB5C,EAAS2C,GACL9C,GAAWX,EAASyD,IA0IYG,CAAahC,GAC7BlF,UAAU,kEAEZE,EAAAA,EAAAA,KAAA,QAAMF,UAAU,0BAAyBC,SAAEiF,GAAO,QAT7CA,UAiBfnF,EAAAA,EAAAA,MAAA,OAAKC,UAAU,yCAAwCC,SAAA,EACrDF,EAAAA,EAAAA,MAAA,SAAOC,UAAU,2CAA0CC,SAAA,EACzDC,EAAAA,EAAAA,KAAA,SACEkG,KAAK,WACLK,QAASxC,EACTX,SAAWgD,GAAMpC,EAAaoC,EAAEC,OAAOE,SACvCzG,UAAU,kEAEZE,EAAAA,EAAAA,KAAA,QAAMF,UAAU,yBAAwBC,SAAC,4EAE3CF,EAAAA,EAAAA,MAAA,OAAKC,UAAU,uBAAsBC,SAAA,EACnCC,EAAAA,EAAAA,KAAA,UACEkG,KAAK,SACLL,QA7IIoB,KAClB7D,EAASa,GACTR,GAAQ,GACRG,EAAU,KA2II9D,UAAU,wDACViG,MAAO,CAAEmB,WAAY,6CAA8CnH,SACpE,wGAGDC,EAAAA,EAAAA,KAAA,UACEkG,KAAK,SACLL,QA/IIsB,KAClBjD,EAAS,IACTd,EAAS,IACTK,GAAQ,GACRG,EAAU,KA4II9D,UAAU,4FAA2FC,SACtG,gJAMPC,EAAAA,EAAAA,KAAA,OACEF,UAAU,qBACV+F,QAASA,IAAMpC,GAAQ,GACvB,wBAMZ,C,eCnQA,MAAM2D,EAAYzH,IAAA,IAAC,SAAEI,GAAUJ,EAAA,OAC7BE,EAAAA,EAAAA,MAAA,QAAMC,UAAU,iCAAgCC,SAAA,CAC7CA,GACDC,EAAAA,EAAAA,KAACC,EAAAA,EAAW,CAACH,UAAU,gDAAgDuH,YAAa,UAKlFC,EAAgBC,IAAuB,IAAtB,MAAEzE,EAAK,MAAEC,GAAOwE,EACrC,MAAMC,EAAQ1E,EAAQA,EAAMwB,MAAM,KAAKG,OAAOC,SAASU,OAAS,EAC1DqC,EAAYD,EAAQ,EAC1B,OACE3H,EAAAA,EAAAA,MAAA,OACEC,UAAS,wGAAAoB,OAA0GuG,EAAY,iCAAmC,2BAA4B1H,SAAA,EAE9LC,EAAAA,EAAAA,KAACb,EAAAA,EAAM,CAACW,UAAS,6BAAAoB,OAA+BuG,EAAY,iBAAmB,qBAC/EzH,EAAAA,EAAAA,KAAA,QAAMF,UAAS,oBAAAoB,OAAsBuG,EAAY,6BAA+B,kBAAmB1H,SAChGyH,EAAQ,EAAC,GAAAtG,OAAMsG,EAAK,6BAAUzE,QA2oCvC,EAroCkB2E,KAAO,IAADC,EAAAC,EAAAC,EACtB,MAAOC,EAAWC,IAAgBC,EAAAA,EAAAA,UAAS,KACpCC,EAASC,IAAcF,EAAAA,EAAAA,WAAS,IAChCG,EAAYC,IAAiBJ,EAAAA,EAAAA,UAAS,CAAEK,KAAM,EAAGC,MAAO,GAAIC,MAAO,EAAGC,WAAY,KAClFC,EAASC,IAAcV,EAAAA,EAAAA,UAAS,CACrCrE,OAAQ,GACRgF,YAAa,GACbC,SAAU,GACVC,UAAW,GACXC,gBAAiB,MAGZC,EAAeC,IAAoBhB,EAAAA,EAAAA,UAAS,CACjDiB,YAAa,GACbN,YAAa,GACbC,SAAU,GACVM,iBAAkB,GAClBL,UAAW,GACXM,gBAAiB,GACjBL,gBAAiB,GACjBM,aAAc,GACdC,KAAM,GACNC,eAAgB,GAChBC,YAAa,MAERC,EAAWC,IAAgBzB,EAAAA,EAAAA,UAAS,CAAE0B,OAAQ,KAAMC,UAAW,QAC/DC,EAAeC,IAAoB7B,EAAAA,EAAAA,UAAS,CACjD8B,aAAc,GAAIC,WAAY,GAAIC,UAAW,GAC7CC,YAAa,GAAIC,aAAc,GAAIC,YAAa,GAAIC,aAAc,GAAIC,MAAO,GAAIC,eAAgB,GAAIC,SAAU,MAE3G,MAAEC,IAAUC,EAAAA,EAAAA,MACZC,GAAYhM,EAAAA,EAAAA,GAAiB,YAAa,UAG1CiM,IAFUjM,EAAAA,EAAAA,GAAiB,YAAa,SAC5BA,EAAAA,EAAAA,GAAiB,YAAa,WAC9BA,EAAAA,EAAAA,GAAiB,YAAa,WAC1CkM,GAAYlM,EAAAA,EAAAA,GAAiB,YAAa,WACzCmM,EAAWC,IAAgB9C,EAAAA,EAAAA,WAAS,IACpC+C,EAAiBC,IAAsBhD,EAAAA,EAAAA,WAAS,IAChDiD,EAAiBC,IAAsBlD,EAAAA,EAAAA,UAAS,OAChDmD,EAAWC,IAAgBpD,EAAAA,EAAAA,WAAS,IACpCqD,EAAeC,IAAoBtD,EAAAA,EAAAA,UAAS,MAC7CuD,GAAeC,EAAAA,EAAAA,QAAO,OACrBC,EAAUC,KAAe1D,EAAAA,EAAAA,UAAS,CACvCiB,YAAa,GACbN,YAAa,GACbC,SAAU,GACVM,iBAAkB,GAClByC,QAAS,GACTvC,aAAc,EACdC,KAAM,GACNuC,YAAa,GACbtC,eAAgB,GAChBC,YAAa,GACbsC,cAAe,GACfhD,UAAW,GACXiD,UAAW,GACXC,cAAe,GACfC,kBAAmB,GACnBC,MAAO,GACP9C,gBAAiB,GACjBL,gBAAiB,oCAGnBoD,EAAAA,EAAAA,WAAU,KACRC,KACAC,MACC,CAACjE,EAAWE,KAAMI,EAASM,IAE9B,MAAMoD,GAAiBE,UACrB,IAAK,IAADC,EAAAC,EACFrE,GAAW,GACX,MAAMsE,GAASC,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAA,CACbpE,KAAMF,EAAWE,KACjBC,MAAOH,EAAWG,OACfoE,OAAOC,YAAYD,OAAOE,QAAQnE,GAAShE,OAAOoI,IAAA,IAAEC,EAAG7H,GAAE4H,EAAA,OAAK5H,MAE7D8D,EAAcE,aAAe,CAAEA,YAAaF,EAAcE,cAC1DF,EAAcM,MAAQ,CAAEA,KAAMN,EAAcM,OAC5CN,EAAcG,kBAAoB,CAAEA,iBAAkBH,EAAcG,mBACpEH,EAAcI,iBAAmB,CAAEA,gBAAiBJ,EAAcI,kBAClEJ,EAAcK,cAAgB,CAAEA,aAAcL,EAAcK,eAC5DL,EAAcO,gBAAkB,CAAEA,eAAgBP,EAAcO,iBAChEP,EAAcQ,aAAe,CAAEA,YAAaR,EAAcQ,eACzDR,EAAcJ,aAAeF,EAAQE,cAAgB,CAAEA,YAAaI,EAAcJ,aAAeF,EAAQE,eACzGI,EAAcH,UAAYH,EAAQG,WAAa,CAAEA,SAAUG,EAAcH,UAAYH,EAAQG,YAC7FG,EAAcF,WAAaJ,EAAQI,YAAc,CAAEA,UAAWE,EAAcF,WAAaJ,EAAQI,aACjGE,EAAcD,iBAAmBL,EAAQK,kBAAoB,CAAEA,gBAAiBC,EAAcD,iBAAmBL,EAAQK,kBAE1HiE,EAAS,IAAIC,gBAAgBN,OAAOC,YAAYD,OAAOE,QAAQJ,GAAW/H,OAAOwI,IAAA,IAAEH,EAAG7H,GAAEgI,EAAA,OAAU,MAALhI,GAAmB,KAANA,MAC1GzD,QAAiBnB,EAAAA,EAAI6M,IAAI,cAADhM,OAAe6L,IAC7ChF,GAA0B,QAAbuE,EAAA9K,EAASL,YAAI,IAAAmL,OAAA,EAAbA,EAAexE,YAAa,IACzCM,GAA2B,QAAbmE,EAAA/K,EAASL,YAAI,IAAAoL,OAAA,EAAbA,EAAepE,aAAc,CAAEE,KAAM,EAAGC,MAAO,GAAIC,MAAO,EAAGC,WAAY,GACzF,CAAE,MAAOnH,GAAQ,IAADI,EAAA0L,EAAAC,EAAAC,EACdC,QAAQjM,MAAM,4BAA6BA,GAC3C,MAAMkM,GAAoB,QAAd9L,EAAAJ,EAAMG,gBAAQ,IAAAC,GAAM,QAAN0L,EAAd1L,EAAgBN,YAAI,IAAAgM,OAAN,EAAdA,EAAsB9L,SAAuB,QAAlB+L,EAAI/L,EAAMG,gBAAQ,IAAA4L,GAAM,QAANC,EAAdD,EAAgBjM,YAAI,IAAAkM,OAAN,EAAdA,EAAsB1B,UAAWtK,EAAMzB,SAAW,0FACvF4N,EAAQnM,EAAMG,SAAsF,GAA3E,4VAC/BgJ,EAAM,CACJiD,MAAO,qBACPC,YAAaH,EAAMC,EACnBG,QAAS,gBAEX5F,EAAa,IACbK,EAAc,CAAEC,KAAM,EAAGC,MAAO,GAAIC,MAAO,EAAGC,WAAY,GAC5D,CAAC,QACCN,GAAW,EACb,GAGIkE,GAAqBC,UACzB,IACE,MACMlL,SADiBd,EAAAA,EAAI6M,IAAI,8BACT/L,MAAQ,CAAC,EAC/B0I,EAAiB,CACfC,aAAc3I,EAAK2I,cAAgB,GACnCC,WAAY5I,EAAK4I,YAAc,GAC/BC,UAAW7I,EAAK6I,WAAa,GAC7BC,YAAa9I,EAAK8I,aAAe,GACjCC,aAAc/I,EAAK+I,cAAgB,GACnCC,YAAahJ,EAAKgJ,aAAe,GACjCC,aAAcjJ,EAAKiJ,cAAgB,GACnCC,MAAOlJ,EAAKkJ,OAAS,GACrBC,eAAgBnJ,EAAKmJ,gBAAkB,GACvCC,SAAUpJ,EAAKoJ,UAAY,IAE/B,CAAE,MAAOlJ,GACPiM,QAAQjM,MAAM,sIAA8BA,EAC9C,GAkTIuM,GAAYA,KAChB1C,EAAmB,MACnBQ,GAAY,CACVzC,YAAa,GACbN,YAAa,GACbC,SAAU,GACVM,iBAAkB,GAClByC,QAAS,GACTvC,aAAc,EACdC,KAAM,GACNuC,YAAa,GACbtC,eAAgB,GAChBC,YAAa,GACbsC,cAAe,GACfhD,UAAW,GACXiD,UAAW,GACXC,cAAe,GACfC,kBAAmB,GACnBC,MAAO,GACP9C,gBAAiB,GACjBL,gBAAiB,oCAIf+E,GAAqBA,CAACrP,EAAKsE,KAC/B4F,EAAWoF,IAAIrB,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAA,GAAUqB,GAAI,IAAE,CAACtP,GAAMsE,KACtCsF,EAAc0F,IAAIrB,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAA,GAAUqB,GAAI,IAAEzF,KAAM,MAGpC0F,GAA2BA,CAACvP,EAAKsE,KAIrC,GAHAkG,EAAiB8E,IAAIrB,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAA,GAAUqB,GAAI,IAAE,CAACtP,GAAMsE,KAC5CsF,EAAc0F,IAAIrB,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAA,GAAUqB,GAAI,IAAEzF,KAAM,KAEpC,CAAC,cAAe,WAAY,YAAa,mBAAmBvG,SAAStD,GAAM,CAAC,IAADwP,EAC7E,MAAMC,GAAmC,QAA3BD,GAAClL,GAAS,IAAIwB,MAAM,KAAK,UAAE,IAAA0J,OAAA,EAA3BA,EAA6BxJ,SAAU,GACrDkE,EAAWoF,IAAIrB,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAA,GAAUqB,GAAI,IAAE,CAACtP,GAAMyP,IACxC,CACY,gBAARzP,GAAuBkK,EAAWoF,IAAI,IAAAI,EAAA,OAAAzB,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAA,GAAUqB,GAAI,IAAEnK,QAAmC,QAA3BuK,GAACpL,GAAS,IAAIwB,MAAM,KAAK,UAAE,IAAA4J,OAAA,EAA3BA,EAA6B1J,SAAU,QAGrG2J,GAAmBA,CAACzE,EAAQC,KAChCF,EAAa,CAAEC,SAAQC,eAKnByE,IAAoBC,EAAAA,EAAAA,SAAQ,KAChC,IAAIxJ,EAAOiD,EACX,MAIMwG,EAAWA,CAACC,EAAQC,KACxB,MAAMzP,EALOkG,KACb,MAAMwJ,GAAOxJ,GAAK,IAAIX,MAAM,KAAKC,IAAIxF,GAAKA,EAAEyF,QAAQC,OAAOC,SAC3D,OAAO+J,EAAIrJ,OAAS,IAAIT,IAAI8J,GAAO,MAGzBC,CAAMF,GACZzP,IAAG8F,EAAOA,EAAKJ,OAAOkK,GAAK5P,EAAEuG,IAAIsJ,OAAOL,EAAOI,IAAM,QAgB3D,GAbAL,EAASK,GAAKA,EAAE1F,YAAaF,EAAcE,aAC3CqF,EAASK,GAAKA,EAAEhG,YAAaI,EAAcJ,aAAeF,EAAQE,aAClE2F,EAASK,GAAKA,EAAE/F,SAAUG,EAAcH,UAAYH,EAAQG,UAC5D0F,EAASK,GAAKA,EAAEzF,iBAAkBH,EAAcG,kBAChDoF,EAASK,GAAKA,EAAE9F,WAAa8F,EAAE7C,UAAW/C,EAAcF,WAAaJ,EAAQI,WAC7EyF,EAASK,GAAKA,EAAExF,gBAAiBJ,EAAcI,iBAC/CmF,EAASK,GAAKA,EAAE7F,gBAAiBC,EAAcD,iBAAmBL,EAAQK,iBAC1EwF,EAASK,GAAKC,OAAOD,EAAEvF,cAAeL,EAAcK,cACpDkF,EAASK,GAAKA,EAAEtF,KAAMN,EAAcM,MACpCiF,EAASK,GAAKA,EAAErF,eAAgBP,EAAcO,gBAC9CgF,EAASK,GAAKA,EAAEpF,YAAaR,EAAcQ,aAGvCC,EAAUE,QAAUF,EAAUG,UAAW,CAC3C,MAAMnL,EAAMgL,EAAUE,OAChBmF,EAA8B,QAAxBrF,EAAUG,UAAsB,GAAK,EACjD9E,EAAO,IAAIA,GAAMiK,KAAK,CAACC,EAAGC,KAAO,IAADC,EAAAC,EAC9B,MAAMC,EAAW,QAATF,EAAGF,EAAEvQ,UAAI,IAAAyQ,EAAAA,EAAI,GACfG,EAAW,QAATF,EAAGF,EAAExQ,UAAI,IAAA0Q,EAAAA,EAAI,GACrB,MAAkB,kBAAPC,GAAiC,kBAAPC,GAAyBD,EAAKC,GAAMP,EAClED,OAAOO,GAAIE,cAAcT,OAAOQ,IAAOP,GAElD,CACA,OAAOhK,GACN,CAACiD,EAAWW,EAASM,EAAeS,IAEjC8F,IAAQjB,EAAAA,EAAAA,SAAQ,KAKb,CAAE9F,MAJKJ,EAAWI,OAAST,EAAU1C,QAAU,EAItCmK,SAHCzH,EAAUrD,OAAOkK,GAA2B,mCAAtBA,EAAE7F,iBAA6B1D,OAG5CoK,aAFL1H,EAAUrD,OAAOkK,GAA2B,uBAAtBA,EAAE7F,iBAA2B1D,OAEhCqK,mBADb,IAAI9K,IAAImD,EAAUvD,IAAIoK,GAAKA,EAAEhG,aAAalE,OAAOC,UAAUgL,OAErF,CAAC5H,EAAWK,EAAWI,QAEpBoH,GACJjD,OAAOkD,OAAOnH,GAASjD,KAAKd,UAC5BgI,OAAOkD,OAAO7G,GAAevD,KAAKd,UAClC8E,EAAUE,OA+EZ,OACE1J,EAAAA,EAAAA,KAAA,OAAKF,UAAU,eAAe+O,IAAI,MAAM9I,MAAO,CAAE8J,QAAS,cAAe3I,WAAY,qDAAsDnH,UACzIF,EAAAA,EAAAA,MAAA,OAAKC,UAAU,UAAUiG,MAAO,CAAE1D,MAAO,OAAQyN,SAAU,UAAW/P,SAAA,EAEpEF,EAAAA,EAAAA,MAAA,OACEC,UAAU,yFACViG,MAAO,CAAEmB,WAAY,oDAAqD6I,MAAO,UAAWC,UAAW,sCAAuCjQ,SAAA,EAE9IF,EAAAA,EAAAA,MAAA,OAAAE,SAAA,EACEC,EAAAA,EAAAA,KAAA,MAAIF,UAAU,oCAAmCC,SAAC,yEAClDC,EAAAA,EAAAA,KAAA,KAAGF,UAAU,yCAAwCC,SAAC,keAExDF,EAAAA,EAAAA,MAAA,OAAKC,UAAU,oCAAmCC,SAAA,CAC/C6K,IAAa5K,EAAAA,EAAAA,KAAA,UAAQkG,KAAK,SAASL,QA1FzBwG,UACnB,IAAK,IAAD4D,EACF,MAAMlD,EAAS,IAAIC,iBAAeP,EAAAA,EAAAA,GAAC,CACjCpE,KAAM,EACNC,MAAO,KACJoE,OAAOC,YAAYD,OAAOE,QAAQnE,GAAShE,OAAOyL,IAAA,IAAEpD,EAAG7H,GAAEiL,EAAA,OAAKjL,OAI7DkL,GAA4B,QAAbF,SADE5P,EAAAA,EAAI6M,IAAI,cAADhM,OAAe6L,EAAOqD,cACtBjP,YAAI,IAAA8O,OAAA,EAAbA,EAAenI,YAAa,GAEjD,IAAKqI,GAAwC,IAAxBA,EAAa/K,OAMhC,YALAoF,EAAM,CACJiD,MAAO,iCACPC,YAAa,sQACbC,QAAS,YAKb,MAAM0C,EAAeF,EAAa1L,OAAOkK,GAA2B,mCAAtBA,EAAE7F,iBAC1CwH,EAAmBH,EAAa1L,OAAOkK,GAA2B,uBAAtBA,EAAE7F,iBAE9CyH,EAAa1L,GACjBA,EAAKN,IAAIoK,IAAC,CACR,cAAeA,EAAE1F,aAAe,GAChC,mDAAY0F,EAAEhG,aAAe,GAC7B,6CAAWgG,EAAE/F,UAAY,GACzB,sEAAgB+F,EAAEzF,kBAAoB,GACtC,mDAAYyF,EAAEhD,SAAW,GACzB,gEAAegD,EAAEvF,cAAgB,EACjC,KAAQuF,EAAEtF,MAAQ,GAClB,0DAAcsF,EAAErF,gBAAkB,GAClC,oDAAaqF,EAAEpF,aAAe,GAC9B,oDAAaoF,EAAE9C,eAAiB,GAChC,0DAAc8C,EAAE9F,WAAa,GAC7B,0DAAc8F,EAAE7C,WAAa,GAC7B,gEAAe6C,EAAExF,iBAAmB,GACpC,uGAAwBwF,EAAE7F,iBAAmB,MAG3C0H,EAAWC,EAAAA,GAAWC,WAGtBC,EAAWF,EAAAA,GAAWG,cAAcL,EAAUJ,IAIpD,GAHAM,EAAAA,GAAWI,kBAAkBL,EAAUG,EAAU,4BAG7CN,EAAajL,OAAS,EAAG,CAC3B,MAAM0L,EAAWL,EAAAA,GAAWG,cAAcL,EAAUF,IACpDI,EAAAA,GAAWI,kBAAkBL,EAAUM,EAAU,iCACnD,CAGA,GAAIR,EAAiBlL,OAAS,EAAG,CAC/B,MAAM2L,EAAeN,EAAAA,GAAWG,cAAcL,EAAUD,IACxDG,EAAAA,GAAWI,kBAAkBL,EAAUO,EAAc,qBACvD,CAEA,MAAMC,GAAQ,IAAIC,MAAOC,cAAcC,MAAM,EAAG,IAChDV,EAAAA,GAAeD,EAAS,aAADtP,OAAe8P,EAAK,UAE3CxG,EAAM,CACJiD,MAAO,qBACPC,YAAY,+CAADxM,OAAciP,EAAa/K,OAAM,iKAC5CuI,QAAS,WAEb,CAAE,MAAOtM,GACPiM,QAAQjM,MAAM,gBAAiBA,GAC/BmJ,EAAM,CACJiD,MAAO,qBACPC,YAAa,gLACbC,QAAS,eAEb,GAgBmE7N,UAAU,2GAA0GC,SAAC,4DAC/K4K,IAAa3K,EAAAA,EAAAA,KAAA,UAAQkG,KAAK,SAASL,QAASA,IAAMmF,GAAmB,GAAOlL,UAAU,mEAAkEC,SAAC,kEACzJ2K,IAAa1K,EAAAA,EAAAA,KAAA,UAAQkG,KAAK,SAASL,QAASA,KAAQ+H,KAAa9C,GAAa,IAAUhL,UAAU,6HAA4HC,SAAC,4FAKpOC,EAAAA,EAAAA,KAAA,OAAKF,UAAU,kBAAkBiG,MAAO,CAAEqL,oBAAqB,wCAAyCrR,SACrG,CACC,CAAEgD,MAAO,4EAAiBD,MAAOwM,GAAM/G,MAAO8I,KAAMC,EAAAA,EAAOC,GAAI,oDAAqDC,OAAQ,UAAWC,OAAQ,oDAAqDC,UAAW,WAC/M,CAAE3O,MAAO,2GAAuBD,MAAOwM,GAAMC,SAAU8B,KAAM5R,EAAAA,EAAW8R,GAAI,oDAAqDC,OAAQ,UAAWC,OAAQ,oDAAqDC,UAAW,WAC5N,CAAE3O,MAAO,+FAAqBD,MAAOwM,GAAME,aAAc6B,KAAMM,EAAAA,EAAOJ,GAAI,oDAAqDC,OAAQ,UAAWC,OAAQ,oDAAqDC,UAAW,WAC1N,CAAE3O,MAAO,6HAA0BD,MAAOwM,GAAMG,mBAAoB4B,KAAMlP,EAAQoP,GAAI,oDAAqDC,OAAQ,UAAWC,OAAQ,oDAAqDC,UAAW,YACtOnN,IAAI,CAACqN,EAAMC,KACX7R,EAAAA,EAAAA,KAAA,OAAaF,UAAU,0GAA0GiG,MAAO,CAAEmB,WAAY0K,EAAKL,GAAIO,YAAaF,EAAKJ,OAAQxB,UAAW,+BAAgCjQ,UAClOF,EAAAA,EAAAA,MAAA,OAAKC,UAAU,0BAAyBC,SAAA,EACtCC,EAAAA,EAAAA,KAAA,OAAKF,UAAU,sEAAsEiG,MAAO,CAAEmB,WAAY0K,EAAKH,QAAS1R,UACtHC,EAAAA,EAAAA,KAAC4R,EAAKP,KAAI,CAACvR,UAAU,qBAAqBuH,YAAa,SAEzDxH,EAAAA,EAAAA,MAAA,OAAAE,SAAA,EACEC,EAAAA,EAAAA,KAAA,KAAGF,UAAU,+BAA+BiG,MAAO,CAAEgK,MAAO,qBAAsBhQ,SAAE6R,EAAK7O,SACzF/C,EAAAA,EAAAA,KAAA,KAAGF,UAAU,2CAA2CiG,MAAO,CAAEgK,MAAO6B,EAAKF,WAAa7C,IAAI,MAAK9O,SAAE6R,EAAK9O,eAPtG+O,OAedhS,EAAAA,EAAAA,MAAA,OACEC,UAAU,6CACViG,MAAO,CAAEmB,WAAY,oDAAqD8I,UAAW,oCAAqCwB,OAAQ,qBAAsBzR,SAAA,EAExJF,EAAAA,EAAAA,MAAA,OAAKC,UAAU,yDAAwDC,SAAA,EACrEF,EAAAA,EAAAA,MAAA,OAAKC,UAAU,0BAAyBC,SAAA,EACtCC,EAAAA,EAAAA,KAAA,OAAKF,UAAU,sDAAsDiG,MAAO,CAAEmB,WAAY,qDAAsDnH,UAC9IC,EAAAA,EAAAA,KAACb,EAAAA,EAAM,CAACW,UAAU,qBAAqBuH,YAAa,SAEtDrH,EAAAA,EAAAA,KAAA,QAAMF,UAAU,sBAAsBiG,MAAO,CAAEgK,MAAO,WAAYhQ,SAAC,8HAErEC,EAAAA,EAAAA,KAAA,UACEkG,KAAK,SACLL,QAASA,KACP6C,EAAW,CAAE/E,OAAQ,GAAIgF,YAAa,GAAIC,SAAU,GAAIC,UAAW,GAAIC,gBAAiB,KACxFE,EAAiB,CAAEC,YAAa,GAAIN,YAAa,GAAIC,SAAU,GAAIM,iBAAkB,GAAIL,UAAW,GAAIM,gBAAiB,GAAIL,gBAAiB,GAAIM,aAAc,GAAIC,KAAM,GAAIC,eAAgB,GAAIC,YAAa,KAC/ME,EAAa,CAAEC,OAAQ,KAAMC,UAAW,OACxCvB,EAAc0F,IAAIrB,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAA,GAAUqB,GAAI,IAAEzF,KAAM,MAE1C0J,UAAWpC,GACX7P,UAAU,8BAA6BC,SACxC,sEAIHF,EAAAA,EAAAA,MAAA,OAAKC,UAAU,aAAaiG,MAAO,CAAEqL,oBAAqB,2DAA4DrR,SAAA,EACpHF,EAAAA,EAAAA,MAAA,OAAKC,UAAU,iCAAgCC,SAAA,EAC7CC,EAAAA,EAAAA,KAACZ,EAAAA,EAAM,CAACU,UAAU,uCAAuCuH,YAAa,KACtErH,EAAAA,EAAAA,KAAA,SAAOkG,KAAK,OAAOC,YAAY,uHAA4CrD,MAAO2F,EAAQ9E,OAAQP,SAAWgD,GAAMyH,GAAmB,SAAUzH,EAAEC,OAAOvD,OAAQhD,UAAU,+BAE7KD,EAAAA,EAAAA,MAAA,OAAKC,UAAU,kCAAiCC,SAAA,EAC9CC,EAAAA,EAAAA,KAACmC,EAAM,CAACrC,UAAU,uCAAuCuH,YAAa,KACtExH,EAAAA,EAAAA,MAAA,UAAQiD,MAAO2F,EAAQE,YAAavF,SAAWgD,GAAMyH,GAAmB,cAAezH,EAAEC,OAAOvD,OAAQhD,UAAU,0BAAyBC,SAAA,EACzIC,EAAAA,EAAAA,KAAA,UAAQ8C,MAAM,GAAE/C,SAAC,oFACU,QADa4H,EACvCiC,EAAcE,oBAAY,IAAAnC,OAAA,EAA1BA,EAA4BpD,IAAIyN,IAAKhS,EAAAA,EAAAA,KAAA,UAAgB8C,MAAOkP,EAAEjS,SAAEiS,GAAdA,WAGvDnS,EAAAA,EAAAA,MAAA,OAAKC,UAAU,kCAAiCC,SAAA,EAC9CC,EAAAA,EAAAA,KAACP,EAAAA,EAAS,CAACK,UAAU,uCAAuCuH,YAAa,KACzExH,EAAAA,EAAAA,MAAA,UAAQiD,MAAO2F,EAAQG,SAAUxF,SAAWgD,GAAMyH,GAAmB,WAAYzH,EAAEC,OAAOvD,OAAQhD,UAAU,0BAAyBC,SAAA,EACnIC,EAAAA,EAAAA,KAAA,UAAQ8C,MAAM,GAAE/C,SAAC,8EACQ,QADc6H,EACtCgC,EAAcG,kBAAU,IAAAnC,OAAA,EAAxBA,EAA0BrD,IAAIoK,IAAK3O,EAAAA,EAAAA,KAAA,UAAgB8C,MAAO6L,EAAE5O,SAAE4O,GAAdA,WAGrD9O,EAAAA,EAAAA,MAAA,OAAKC,UAAU,kCAAiCC,SAAA,EAC9CC,EAAAA,EAAAA,KAAC9B,EAAAA,EAAQ,CAAC4B,UAAU,uCAAuCuH,YAAa,KACxExH,EAAAA,EAAAA,MAAA,UAAQiD,MAAO2F,EAAQI,UAAWzF,SAAWgD,GAAMyH,GAAmB,YAAazH,EAAEC,OAAOvD,OAAQhD,UAAU,0BAAyBC,SAAA,EACrIC,EAAAA,EAAAA,KAAA,UAAQ8C,MAAM,GAAE/C,SAAC,wEACO,QADc8H,EACrC+B,EAAcI,iBAAS,IAAAnC,OAAA,EAAvBA,EAAyBtD,IAAIyK,IAAKhP,EAAAA,EAAAA,KAAA,UAAgB8C,MAAOkM,EAAEjP,SAAEiP,GAAdA,WAGpDnP,EAAAA,EAAAA,MAAA,OAAKC,UAAU,kCAAiCC,SAAA,EAC9CC,EAAAA,EAAAA,KAACoC,EAAS,CAACtC,UAAU,uCAAuCuH,YAAa,KACzExH,EAAAA,EAAAA,MAAA,UAAQiD,MAAO2F,EAAQK,gBAAiB1F,SAAWgD,GAAMyH,GAAmB,kBAAmBzH,EAAEC,OAAOvD,OAAQhD,UAAU,0BAAyBC,SAAA,EACjJC,EAAAA,EAAAA,KAAA,UAAQ8C,MAAM,GAAE/C,SAAC,mEACjBC,EAAAA,EAAAA,KAAA,UAAQ8C,MAAM,iCAAO/C,SAAC,oCACtBC,EAAAA,EAAAA,KAAA,UAAQ8C,MAAM,qBAAK/C,SAAC,mCAO3BkI,GAAgC,IAArBH,EAAU1C,SACpBpF,EAAAA,EAAAA,KAAA,OAAKF,UAAU,2BAA0BC,UAACC,EAAAA,EAAAA,KAACN,EAAAA,EAAO,CAACE,QAAQ,uGAI3DqI,IACApI,EAAAA,EAAAA,MAAA,OACEC,UAAU,wDACViG,MAAO,CAAEmB,WAAY,iBAAkB8I,UAAW,qBAAsBwB,OAAQ,gCAAiCzR,SAAA,EAEjHC,EAAAA,EAAAA,KAAA,OAAKF,UAAU,yCAAyCiG,MAAO,CAAEkM,UAAW,WAAYlS,SAChE,IAArB+H,EAAU1C,QACTvF,EAAAA,EAAAA,MAAA,OAAKC,UAAU,mBAAkBC,SAAA,EAC/BC,EAAAA,EAAAA,KAAA,KAAGF,UAAU,wBAAwBiG,MAAO,CAAEgK,MAAO,sBAAuBhQ,SAAC,8NAC7EF,EAAAA,EAAAA,MAAA,KAAGC,UAAU,mBAAmBiG,MAAO,CAAEgK,MAAO,qBAAsBhQ,SAAA,CAAC,kHAC/C,KACtBC,EAAAA,EAAAA,KAAA,UAAQkG,KAAK,SAASL,QAASA,KAAQ6C,EAAW,CAAE/E,OAAQ,GAAIgF,YAAa,GAAIC,SAAU,GAAIC,UAAW,GAAIC,gBAAiB,KAAOE,EAAiB,CAAEC,YAAa,GAAIN,YAAa,GAAIC,SAAU,GAAIM,iBAAkB,GAAIL,UAAW,GAAIM,gBAAiB,GAAIL,gBAAiB,GAAIM,aAAc,GAAIC,KAAM,GAAIC,eAAgB,GAAIC,YAAa,KAAOE,EAAa,CAAEC,OAAQ,KAAMC,UAAW,OAASvB,EAAc0F,IAAIrB,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAA,GAAUqB,GAAI,IAAEzF,KAAM,MAAUvI,UAAU,qFAAoFC,SAAC,kGAIliBF,EAAAA,EAAAA,MAAA,SAAOC,UAAU,iEAAiE+O,IAAI,MAAM9I,MAAO,CAAEmM,SAAU,UAAWnS,SAAA,EACxHF,EAAAA,EAAAA,MAAA,SAAAE,SAAA,EACEF,EAAAA,EAAAA,MAAA,MAAIC,UAAU,gDAAgDiG,MAAO,CAAEmB,WAAY,qDAAsDnH,SAAA,EACvIC,EAAAA,EAAAA,KAAA,MAAIF,UAAU,0CAAyCC,UAACC,EAAAA,EAAAA,KAACoH,EAAS,CAAArH,SAAC,mBACnEC,EAAAA,EAAAA,KAAA,MAAIF,UAAU,0CAAyCC,UAACC,EAAAA,EAAAA,KAACoH,EAAS,CAAArH,SAAC,wDACnEC,EAAAA,EAAAA,KAAA,MAAIF,UAAU,0CAAyCC,UAACC,EAAAA,EAAAA,KAACoH,EAAS,CAAArH,SAAC,kDACnEC,EAAAA,EAAAA,KAAA,MAAIF,UAAU,0CAAyCC,UAACC,EAAAA,EAAAA,KAACoH,EAAS,CAAArH,SAAC,2EACnEC,EAAAA,EAAAA,KAAA,MAAIF,UAAU,0CAAyCC,UAACC,EAAAA,EAAAA,KAACoH,EAAS,CAAArH,SAAC,wDACnEC,EAAAA,EAAAA,KAAA,MAAIF,UAAU,0CAAyCC,UAACC,EAAAA,EAAAA,KAACoH,EAAS,CAAArH,SAAC,4CACnEC,EAAAA,EAAAA,KAAA,MAAIF,UAAU,0CAAyCC,UAACC,EAAAA,EAAAA,KAACoH,EAAS,CAAArH,SAAC,qEACnEC,EAAAA,EAAAA,KAAA,MAAIF,UAAU,0CAAyCC,UAACC,EAAAA,EAAAA,KAACoH,EAAS,CAAArH,SAAC,+DACnEC,EAAAA,EAAAA,KAAA,MAAIF,UAAU,6CAA4CC,UAACC,EAAAA,EAAAA,KAACoH,EAAS,CAAArH,SAAC,qEACtEC,EAAAA,EAAAA,KAAA,MAAIF,UAAU,0CAAyCC,UAACC,EAAAA,EAAAA,KAACoH,EAAS,CAAArH,SAAC,YACnEC,EAAAA,EAAAA,KAAA,MAAIF,UAAU,0CAAyCC,UAACC,EAAAA,EAAAA,KAACoH,EAAS,CAAArH,SAAC,+DACnEC,EAAAA,EAAAA,KAAA,MAAIF,UAAU,0CAAyCC,UAACC,EAAAA,EAAAA,KAACoH,EAAS,CAAArH,SAAC,yDACnEC,EAAAA,EAAAA,KAAA,MAAIF,UAAU,6CAA4CC,SAAC,+DAG7DF,EAAAA,EAAAA,MAAA,MAAIC,UAAU,+CAA8CC,SAAA,EAC1DC,EAAAA,EAAAA,KAAA,MAAIF,UAAU,oBAAmBC,UAC/BC,EAAAA,EAAAA,KAACgD,EAAiB,CAChBC,UAAU,cACVC,YAAY,cACZC,QAASyG,EAAcK,aAAe,GACtCnH,MAAOiG,EAAcE,aAAeR,EAAQ9E,OAC5CP,SAAW6B,IAAQ+D,EAAiBmJ,IAAC1F,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAA,GAAU0F,GAAC,IAAElJ,YAAahE,KAAOyD,EAAWyJ,IAAC,IAAAC,EAAA,OAAA3F,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAA,GAAU0F,GAAC,IAAExO,QAA+B,QAAvByO,GAACnN,GAAK,IAAIX,MAAM,KAAK,UAAE,IAAA8N,OAAA,EAAvBA,EAAyB5N,SAAU,OAAQ4D,EAAc+J,IAAC1F,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAA,GAAU0F,GAAC,IAAE9J,KAAM,MACpLhF,cAAoC,gBAArBmG,EAAUE,OAA2BF,EAAUG,UAAY,KAC1ErG,aAAe9D,GAAM2O,GAAiB3O,EAAI,cAAgB,KAAMA,GAChE+D,SAASvD,EAAAA,EAAAA,KAACsH,EAAa,CAACxE,MAAOiG,EAAcE,aAAeR,EAAQ9E,OAAQZ,MAAM,kCAGtF/C,EAAAA,EAAAA,KAAA,MAAIF,UAAU,oBAAmBC,UAC/BC,EAAAA,EAAAA,KAACgD,EAAiB,CAChBC,UAAU,cACVC,YAAY,mDACZC,QAASyG,EAAcE,cAAgB,GACvChH,MAAOiG,EAAcJ,aAAeF,EAAQE,YAC5CvF,SAAW6B,GAAM8I,GAAyB,cAAe9I,GACzD5B,cAAoC,gBAArBmG,EAAUE,OAA2BF,EAAUG,UAAY,KAC1ErG,aAAe9D,GAAM2O,GAAiB3O,EAAI,cAAgB,KAAMA,GAChE+D,SAASvD,EAAAA,EAAAA,KAACsH,EAAa,CAACxE,MAAOiG,EAAcJ,aAAeF,EAAQE,YAAa5F,MAAM,kCAG3F/C,EAAAA,EAAAA,KAAA,MAAIF,UAAU,oBAAmBC,UAC/BC,EAAAA,EAAAA,KAACgD,EAAiB,CAChBC,UAAU,WACVC,YAAY,6CACZC,QAASyG,EAAcG,YAAc,GACrCjH,MAAOiG,EAAcH,UAAYH,EAAQG,SACzCxF,SAAW6B,GAAM8I,GAAyB,WAAY9I,GACtD5B,cAAoC,aAArBmG,EAAUE,OAAwBF,EAAUG,UAAY,KACvErG,aAAe9D,GAAM2O,GAAiB3O,EAAI,WAAa,KAAMA,GAC7D+D,SAASvD,EAAAA,EAAAA,KAACsH,EAAa,CAACxE,MAAOiG,EAAcH,UAAYH,EAAQG,SAAU7F,MAAM,kCAGrF/C,EAAAA,EAAAA,KAAA,MAAIF,UAAU,oBAAmBC,UAC/BC,EAAAA,EAAAA,KAACgD,EAAiB,CAChBC,UAAU,mBACVC,YAAY,sEACZC,QAASyG,EAAcM,cAAgB,GACvCpH,MAAOiG,EAAcG,iBACrB9F,SAAW6B,GAAM8I,GAAyB,mBAAoB9I,GAC9D5B,cAAoC,qBAArBmG,EAAUE,OAAgCF,EAAUG,UAAY,KAC/ErG,aAAe9D,GAAM2O,GAAiB3O,EAAI,mBAAqB,KAAMA,GACrE+D,SAASvD,EAAAA,EAAAA,KAACsH,EAAa,CAACxE,MAAOiG,EAAcG,iBAAkBnG,MAAM,kCAGzE/C,EAAAA,EAAAA,KAAA,MAAIF,UAAU,uBACdE,EAAAA,EAAAA,KAAA,MAAIF,UAAU,oBAAmBC,UAC/BC,EAAAA,EAAAA,KAACgD,EAAiB,CAChBC,UAAU,YACVC,YAAY,uCACZC,QAASyG,EAAcI,WAAa,GACpClH,MAAOiG,EAAcF,WAAaJ,EAAQI,UAC1CzF,SAAW6B,GAAM8I,GAAyB,YAAa9I,GACvD5B,cAAoC,cAArBmG,EAAUE,OAAyBF,EAAUG,UAAY,KACxErG,aAAe9D,GAAM2O,GAAiB3O,EAAI,YAAc,KAAMA,GAC9D+D,SAASvD,EAAAA,EAAAA,KAACsH,EAAa,CAACxE,MAAOiG,EAAcF,WAAaJ,EAAQI,UAAW9F,MAAM,kCAGvF/C,EAAAA,EAAAA,KAAA,MAAIF,UAAU,oBAAmBC,UAC/BC,EAAAA,EAAAA,KAACgD,EAAiB,CAChBC,UAAU,kBACVC,YAAY,gEACZC,QAASyG,EAAcO,aAAe,GACtCrH,MAAOiG,EAAcI,gBACrB/F,SAAW6B,GAAM8I,GAAyB,kBAAmB9I,GAC7D5B,cAAoC,oBAArBmG,EAAUE,OAA+BF,EAAUG,UAAY,KAC9ErG,aAAe9D,GAAM2O,GAAiB3O,EAAI,kBAAoB,KAAMA,GACpE+D,SAASvD,EAAAA,EAAAA,KAACsH,EAAa,CAACxE,MAAOiG,EAAcI,gBAAiBpG,MAAM,kCAGxE/C,EAAAA,EAAAA,KAAA,MAAIF,UAAU,oBAAmBC,UAC/BC,EAAAA,EAAAA,KAACgD,EAAiB,CAChBC,UAAU,kBACVC,YAAY,0DACZC,QAAS,CAAC,iCAAS,sBACnBL,MAAOiG,EAAcD,iBAAmBL,EAAQK,gBAChD1F,SAAW6B,GAAM8I,GAAyB,kBAAmB9I,GAC7D5B,cAAoC,oBAArBmG,EAAUE,OAA+BF,EAAUG,UAAY,KAC9ErG,aAAe9D,GAAM2O,GAAiB3O,EAAI,kBAAoB,KAAMA,GACpE+D,SAASvD,EAAAA,EAAAA,KAACsH,EAAa,CAACxE,MAAOiG,EAAcD,iBAAmBL,EAAQK,gBAAiB/F,MAAM,kCAGnG/C,EAAAA,EAAAA,KAAA,MAAIF,UAAU,oBAAmBC,UAC/BC,EAAAA,EAAAA,KAACgD,EAAiB,CAChBC,UAAU,eACVC,YAAY,gEACZC,QAASyG,EAAcQ,cAAgB,GACvCtH,MAAOiG,EAAcK,aACrBhG,SAAW6B,GAAM8I,GAAyB,eAAgB9I,GAC1D5B,cAAoC,iBAArBmG,EAAUE,OAA4BF,EAAUG,UAAY,KAC3ErG,aAAe9D,GAAM2O,GAAiB3O,EAAI,eAAiB,KAAMA,GACjE+D,SAASvD,EAAAA,EAAAA,KAACsH,EAAa,CAACxE,MAAOiG,EAAcK,aAAcrG,MAAM,kCAGrE/C,EAAAA,EAAAA,KAAA,MAAIF,UAAU,oBAAmBC,UAC/BC,EAAAA,EAAAA,KAACgD,EAAiB,CAChBC,UAAU,OACVC,YAAY,OACZC,QAASyG,EAAcS,OAAS,GAChCvH,MAAOiG,EAAcM,KACrBjG,SAAW6B,GAAM8I,GAAyB,OAAQ9I,GAClD5B,cAAoC,SAArBmG,EAAUE,OAAoBF,EAAUG,UAAY,KACnErG,aAAe9D,GAAM2O,GAAiB3O,EAAI,OAAS,KAAMA,GACzD+D,SAASvD,EAAAA,EAAAA,KAACsH,EAAa,CAACxE,MAAOiG,EAAcM,KAAMtG,MAAM,kCAG7D/C,EAAAA,EAAAA,KAAA,MAAIF,UAAU,oBAAmBC,UAC/BC,EAAAA,EAAAA,KAACgD,EAAiB,CAChBC,UAAU,iBACVC,YAAY,0DACZC,QAASyG,EAAcU,gBAAkB,GACzCxH,MAAOiG,EAAcO,eACrBlG,SAAW6B,GAAM8I,GAAyB,iBAAkB9I,GAC5D5B,cAAoC,mBAArBmG,EAAUE,OAA8BF,EAAUG,UAAY,KAC7ErG,aAAe9D,GAAM2O,GAAiB3O,EAAI,iBAAmB,KAAMA,GACnE+D,SAASvD,EAAAA,EAAAA,KAACsH,EAAa,CAACxE,MAAOiG,EAAcO,eAAgBvG,MAAM,kCAGvE/C,EAAAA,EAAAA,KAAA,MAAIF,UAAU,oBAAmBC,UAC/BC,EAAAA,EAAAA,KAACgD,EAAiB,CAChBC,UAAU,cACVC,YAAY,oDACZC,QAASyG,EAAcW,UAAY,GACnCzH,MAAOiG,EAAcQ,YACrBnG,SAAW6B,GAAM8I,GAAyB,cAAe9I,GACzD5B,cAAoC,gBAArBmG,EAAUE,OAA2BF,EAAUG,UAAY,KAC1ErG,aAAe9D,GAAM2O,GAAiB3O,EAAI,cAAgB,KAAMA,GAChE+D,SAASvD,EAAAA,EAAAA,KAACsH,EAAa,CAACxE,MAAOiG,EAAcQ,YAAaxG,MAAM,kCAGpE/C,EAAAA,EAAAA,KAAA,MAAIF,UAAU,6BAGlBE,EAAAA,EAAAA,KAAA,SAAAD,SACgC,IAA7BqO,GAAkBhJ,QACjBpF,EAAAA,EAAAA,KAAA,MAAAD,UACEC,EAAAA,EAAAA,KAAA,MAAIqS,QAAS,GAAIvS,UAAU,mBAAmBiG,MAAO,CAAEgK,MAAO,qBAAsBhQ,SAAC,qJAErFqO,GAAkB7J,IAAI,CAAC+N,EAAUC,KACnC,MAAMC,EAAqC,mCAA7BF,EAASxJ,gBACvB,OACEjJ,EAAAA,EAAAA,MAAA,MAAsBC,UAAS,GAAAoB,OAAKqR,EAAM,IAAM,EAAI,WAAa,iBAAgB,2CAA2CxM,MAAO,CAAE0M,aAAc,2BAA4B1S,SAAA,EAC7KC,EAAAA,EAAAA,KAAA,MAAIF,UAAU,YAAYiG,MAAO,CAAEgK,MAAO,eAAgBhQ,SAAEuS,EAASrJ,eACrEjJ,EAAAA,EAAAA,KAAA,MAAIF,UAAU,YAAYiG,MAAO,CAAEgK,MAAO,eAAgBhQ,SAAEuS,EAAS3J,aAAe,OACpF3I,EAAAA,EAAAA,KAAA,MAAIF,UAAU,YAAYiG,MAAO,CAAEgK,MAAO,eAAgBhQ,SAAEuS,EAAS1J,UAAY,OACjF5I,EAAAA,EAAAA,KAAA,MAAIF,UAAU,0BAA0BiG,MAAO,CAAEgK,MAAO,eAAgBhQ,SAAEuS,EAASpJ,kBAAoB,OACvGlJ,EAAAA,EAAAA,KAAA,MAAIF,UAAU,mCAAmCiG,MAAO,CAAEgK,MAAO,eAAiBtC,MAAO6E,EAAS3G,cAAW+G,EAAU3S,SAAEuS,EAAS3G,SAAW,OAC7I3L,EAAAA,EAAAA,KAAA,MAAIF,UAAU,YAAYiG,MAAO,CAAEgK,MAAO,eAAgBhQ,SAAEuS,EAASxG,WAAawG,EAASzJ,WAAa,OACxG7I,EAAAA,EAAAA,KAAA,MAAIF,UAAU,0BAA0BiG,MAAO,CAAEgK,MAAO,eAAgBhQ,SAAEuS,EAASnJ,iBAAmB,OACtGnJ,EAAAA,EAAAA,KAAA,MAAIF,UAAU,0BAA0BiG,MAAO,CAAEgK,MAAOyC,EAAQ,iBAAmB,WAAYzS,SAAEuS,EAASxJ,iBAAmB,OAC7H9I,EAAAA,EAAAA,KAAA,MAAIF,UAAU,wBAAwBiG,MAAO,CAAEgK,MAAO,eAAgBhQ,SAAEuS,EAASlJ,cAAgB,KACjGpJ,EAAAA,EAAAA,KAAA,MAAIF,UAAU,8BAA8BiG,MAAO,CAAEgK,MAAO,eAAiBlB,IAAI,MAAK9O,SAAEuS,EAASjJ,MAAQ,OACzGrJ,EAAAA,EAAAA,KAAA,MAAIF,UAAU,YAAYiG,MAAO,CAAEgK,MAAO,eAAgBhQ,SAAEuS,EAAShJ,gBAAkB,OACvFtJ,EAAAA,EAAAA,KAAA,MAAIF,UAAU,YAAYiG,MAAO,CAAEgK,MAAO,eAAgBhQ,SAAEuS,EAAS/I,aAAe,OACpFvJ,EAAAA,EAAAA,KAAA,MAAIF,UAAU,YAAWC,UACvBF,EAAAA,EAAAA,MAAA,OAAKC,UAAU,4BAA2BC,SAAA,EACxCC,EAAAA,EAAAA,KAAA,UAAQkG,KAAK,SAASL,QAASA,IA7uBvCyM,KAClBpH,EAAmBoH,GACnB5G,GAAY,CACVzC,YAAaqJ,EAASrJ,aAAe,GACrCN,YAAa2J,EAAS3J,aAAe,GACrCC,SAAU0J,EAAS1J,UAAY,GAC/BM,iBAAkBoJ,EAASpJ,kBAAoB,GAC/CyC,QAAS2G,EAAS3G,SAAW,GAC7BvC,aAAckJ,EAASlJ,cAAgB,EACvCC,KAAMiJ,EAASjJ,MAAQ,GACvBuC,YAAa0G,EAAS1G,aAAe,GACrCtC,eAAgBgJ,EAAShJ,gBAAkB,GAC3CC,YAAa+I,EAAS/I,aAAe,GACrCsC,cAAeyG,EAASzG,eAAiB,GACzChD,UAAWyJ,EAASzJ,WAAa,GACjCiD,UAAWwG,EAASxG,WAAa,GACjCC,cAAeuG,EAASvG,eAAiB,GACzCC,kBAAmBsG,EAAStG,mBAAqB,GACjDC,MAAOqG,EAASrG,OAAS,GACzB9C,gBAAiBmJ,EAASnJ,iBAAmB,GAC7CL,gBAAiBwJ,EAASxJ,iBAAmB,mCAE/CgC,GAAa,IAutBkD6H,CAAWL,GAAWxS,UAAU,uDAAsDC,SAAC,oCAC5HC,EAAAA,EAAAA,KAAA,UAAQkG,KAAK,SAASL,QAASA,IArtBtCwG,WACnB,GAAKrK,OAAO4Q,QAAQ,gKACpB,UACQvS,EAAAA,EAAIuG,OAAO,cAAD1F,OAAe2R,IAC/BrI,EAAM,CACJiD,MAAO,qBACPC,YAAa,sGACbC,QAAS,YAEXxB,IACF,CAAE,MAAO9K,GAAQ,IAADyR,EAAAC,EACdvI,EAAM,CACJiD,MAAO,qBACPC,aAA2B,QAAdoF,EAAAzR,EAAMG,gBAAQ,IAAAsR,GAAM,QAANC,EAAdD,EAAgB3R,YAAI,IAAA4R,OAAN,EAAdA,EAAsB1R,QAAS,wCAC5CsM,QAAS,eAEb,GAqsB+DqF,CAAaV,EAASO,IAAK/S,UAAU,8GAA6GC,SAAC,8BAhBrLuS,EAASO,aA0B7B1K,EAAWK,WAAa,IACvB3I,EAAAA,EAAAA,MAAA,OAAKC,UAAU,+DAA+DiG,MAAO,CAAE+L,YAAa,qBAAsB5K,WAAY,qDAAsDnH,SAAA,EAC1LF,EAAAA,EAAAA,MAAA,QAAMkG,MAAO,CAAEgK,MAAO,qBAAuBlB,IAAI,MAAK9O,SAAA,CAAC,wCAAQoI,EAAWE,KAAK,iBAAKF,EAAWK,WAAW,gDAAWL,EAAWI,MAAM,gCACtI1I,EAAAA,EAAAA,MAAA,OAAKC,UAAU,aAAYC,SAAA,EACzBC,EAAAA,EAAAA,KAAA,UAAQkG,KAAK,SAASL,QAASA,IAAMuC,EAAc0F,IAAIrB,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAA,GAAUqB,GAAI,IAAEzF,KAAMyF,EAAKzF,KAAO,KAAO0J,SAA8B,IAApB5J,EAAWE,KAAYvI,UAAU,iEAAgEC,SAAC,0CAC5MC,EAAAA,EAAAA,KAAA,UAAQkG,KAAK,SAASL,QAASA,IAAMuC,EAAc0F,IAAIrB,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAA,GAAUqB,GAAI,IAAEzF,KAAMyF,EAAKzF,KAAO,KAAO0J,SAAU5J,EAAWE,OAASF,EAAWK,WAAY1I,UAAU,iEAAgEC,SAAC,kDAQ3O8K,IACC7K,EAAAA,EAAAA,KAAA,OAAKF,UAAU,2GAA2GiG,MAAO,CAAEmB,WAAY,0BAA2BnH,UACxKF,EAAAA,EAAAA,MAAA,OAAKC,UAAU,wHAAwHiG,MAAO,CAAEmB,WAAY,iBAAkBsK,OAAQ,+BAAgCxB,UAAW,4CAA6CjQ,SAAA,EAE5QF,EAAAA,EAAAA,MAAA,OAAKC,UAAU,qEAAqEiG,MAAO,CAAEmB,WAAY,qDAAsDnH,SAAA,EAC7JF,EAAAA,EAAAA,MAAA,MAAIC,UAAU,2DAA0DC,SAAA,EACtEC,EAAAA,EAAAA,KAAA,QAAMF,UAAU,wDAAwDiG,MAAO,CAAEmB,WAAY,yBAA0BnH,UACrHC,EAAAA,EAAAA,KAACP,EAAAA,EAAS,CAACK,UAAU,yBAEtBmL,EAAkB,0DAAe,uFAEpCjL,EAAAA,EAAAA,KAAA,UAAQkG,KAAK,SAASL,QAASA,KAAQiF,GAAa,GAAQ8C,MAAgB9N,UAAU,uGAAuG,aAAW,iCAAOC,UAC7MC,EAAAA,EAAAA,KAACiT,EAAAA,EAAC,CAACnT,UAAU,kBAIjBD,EAAAA,EAAAA,MAAA,QAAMqT,SAnzBK7G,UACnBjG,EAAE+M,iBACF,IACMlI,SACI5K,EAAAA,EAAI+S,IAAI,cAADlS,OAAe+J,EAAgB4H,IAAMpH,GAClDjB,EAAM,CACJiD,MAAO,qBACPC,YAAa,kHACbC,QAAS,oBAGLtN,EAAAA,EAAIgT,KAAK,aAAc5H,GAC7BjB,EAAM,CACJiD,MAAO,qBACPC,YAAa,kHACbC,QAAS,aAGb7C,GAAa,GACb8C,KACAzB,IACF,CAAE,MAAO9K,GAAQ,IAADiS,EAAAC,EACd/I,EAAM,CACJiD,MAAO,qBACPC,aAA2B,QAAd4F,EAAAjS,EAAMG,gBAAQ,IAAA8R,GAAM,QAANC,EAAdD,EAAgBnS,YAAI,IAAAoS,OAAN,EAAdA,EAAsBlS,QAAS,wCAC5CsM,QAAS,eAEb,GAwxBsC7N,UAAU,+CAA8CC,SAAA,EACpFF,EAAAA,EAAAA,MAAA,OAAKC,UAAU,gBAAeC,SAAA,EAE5BF,EAAAA,EAAAA,MAAA,OAAKC,UAAU,0BAA0BiG,MAAO,CAAE+L,YAAa,qBAAsB5K,WAAY,qDAAsDnH,SAAA,EACrJF,EAAAA,EAAAA,MAAA,OAAKC,UAAU,+BAA8BC,SAAA,EAC3CC,EAAAA,EAAAA,KAACP,EAAAA,EAAS,CAACK,UAAU,UAAUiG,MAAO,CAAEgK,MAAO,yBAC/C/P,EAAAA,EAAAA,KAAA,MAAIF,UAAU,0BAA0BiG,MAAO,CAAEgK,MAAO,sBAAuBhQ,SAAC,0GAElFF,EAAAA,EAAAA,MAAA,OAAKC,UAAU,aAAaiG,MAAO,CAAEqL,oBAAqB,kBAAmBrR,SAAA,EAC3EF,EAAAA,EAAAA,MAAA,OAAAE,SAAA,EACEF,EAAAA,EAAAA,MAAA,SAAOC,UAAU,qCAAqCiG,MAAO,CAAEgK,MAAO,sBAAuBhQ,SAAA,CAAC,gBAAYC,EAAAA,EAAAA,KAAA,QAAMF,UAAU,eAAcC,SAAC,UACzIC,EAAAA,EAAAA,KAAA,SAAOkG,KAAK,OAAOsN,UAAQ,EAAC1Q,MAAO2I,EAASxC,YAAa7F,SAAWgD,GAAMsF,IAAWe,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAC,CAAC,EAAIhB,GAAQ,IAAExC,YAAa7C,EAAEC,OAAOvD,SAAUhD,UAAU,6HAA6HqG,YAAY,kDAE1RtG,EAAAA,EAAAA,MAAA,OAAAE,SAAA,EACEC,EAAAA,EAAAA,KAAA,SAAOF,UAAU,qCAAqCiG,MAAO,CAAEgK,MAAO,sBAAuBhQ,SAAC,sDAC9FC,EAAAA,EAAAA,KAAA,SAAOkG,KAAK,OAAOpD,MAAO2I,EAAS9C,YAAavF,SAAWgD,GAAMsF,IAAWe,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAC,CAAC,EAAIhB,GAAQ,IAAE9C,YAAavC,EAAEC,OAAOvD,SAAUhD,UAAU,mIAExID,EAAAA,EAAAA,MAAA,OAAAE,SAAA,EACEC,EAAAA,EAAAA,KAAA,SAAOF,UAAU,qCAAqCiG,MAAO,CAAEgK,MAAO,sBAAuBhQ,SAAC,gDAC9FC,EAAAA,EAAAA,KAAA,SAAOkG,KAAK,OAAOpD,MAAO2I,EAAS7C,SAAUxF,SAAWgD,GAAMsF,IAAWe,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAC,CAAC,EAAIhB,GAAQ,IAAE7C,SAAUxC,EAAEC,OAAOvD,SAAUhD,UAAU,mIAElID,EAAAA,EAAAA,MAAA,OAAAE,SAAA,EACEC,EAAAA,EAAAA,KAAA,SAAOF,UAAU,qCAAqCiG,MAAO,CAAEgK,MAAO,sBAAuBhQ,SAAC,yEAC9FC,EAAAA,EAAAA,KAAA,SAAOkG,KAAK,OAAOpD,MAAO2I,EAASvC,iBAAkB9F,SAAWgD,GAAMsF,IAAWe,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAC,CAAC,EAAIhB,GAAQ,IAAEvC,iBAAkB9C,EAAEC,OAAOvD,SAAUhD,UAAU,mIAElJD,EAAAA,EAAAA,MAAA,OAAKC,UAAU,aAAYC,SAAA,EACzBC,EAAAA,EAAAA,KAAA,SAAOF,UAAU,qCAAqCiG,MAAO,CAAEgK,MAAO,sBAAuBhQ,SAAC,sDAC9FC,EAAAA,EAAAA,KAAA,YAAU8C,MAAO2I,EAASE,QAASvI,SAAWgD,GAAMsF,IAAWe,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAC,CAAC,EAAIhB,GAAQ,IAAEE,QAASvF,EAAEC,OAAOvD,SAAUhD,UAAU,sJAAsJ2T,KAAM,QAEnR5T,EAAAA,EAAAA,MAAA,OAAAE,SAAA,EACEC,EAAAA,EAAAA,KAAA,SAAOF,UAAU,qCAAqCiG,MAAO,CAAEgK,MAAO,sBAAuBhQ,SAAC,mEAC9FC,EAAAA,EAAAA,KAAA,SAAOkG,KAAK,SAASwN,IAAK,EAAG5Q,MAAO2I,EAASrC,aAAchG,SAAWgD,GAAMsF,IAAWe,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAC,CAAC,EAAIhB,GAAQ,IAAErC,aAAcuK,SAASvN,EAAEC,OAAOvD,QAAU,KAAMhD,UAAU,6HAA6H+O,IAAI,YAEpShP,EAAAA,EAAAA,MAAA,OAAAE,SAAA,EACEC,EAAAA,EAAAA,KAAA,SAAOF,UAAU,qCAAqCiG,MAAO,CAAEgK,MAAO,sBAAuBhQ,SAAC,mEAC9FF,EAAAA,EAAAA,MAAA,UAAQiD,MAAO2I,EAAS3C,gBAAiB1F,SAAWgD,GAAMsF,IAAWe,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAC,CAAC,EAAIhB,GAAQ,IAAE3C,gBAAiB1C,EAAEC,OAAOvD,SAAUhD,UAAU,6HAA4HC,SAAA,EAC7PC,EAAAA,EAAAA,KAAA,UAAQ8C,MAAM,iCAAO/C,SAAC,oCACtBC,EAAAA,EAAAA,KAAA,UAAQ8C,MAAM,qBAAK/C,SAAC,oCAO5BF,EAAAA,EAAAA,MAAA,OAAKC,UAAU,0BAA0BiG,MAAO,CAAE+L,YAAa,qBAAsB5K,WAAY,qDAAsDnH,SAAA,EACrJF,EAAAA,EAAAA,MAAA,OAAKC,UAAU,+BAA8BC,SAAA,EAC3CC,EAAAA,EAAAA,KAAC9B,EAAAA,EAAQ,CAAC4B,UAAU,UAAUiG,MAAO,CAAEgK,MAAO,yBAC9C/P,EAAAA,EAAAA,KAAA,MAAIF,UAAU,0BAA0BiG,MAAO,CAAEgK,MAAO,sBAAuBhQ,SAAC,0GAElFF,EAAAA,EAAAA,MAAA,OAAKC,UAAU,aAAaiG,MAAO,CAAEqL,oBAAqB,kBAAmBrR,SAAA,EAC3EF,EAAAA,EAAAA,MAAA,OAAKC,UAAU,aAAYC,SAAA,EACzBC,EAAAA,EAAAA,KAAA,SAAOF,UAAU,qCAAqCiG,MAAO,CAAEgK,MAAO,sBAAuBhQ,SAAC,UAC9FC,EAAAA,EAAAA,KAAA,SAAOkG,KAAK,OAAOpD,MAAO2I,EAASpC,KAAMjG,SAAWgD,GAAMsF,IAAWe,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAC,CAAC,EAAIhB,GAAQ,IAAEpC,KAAMjD,EAAEC,OAAOvD,SAAUhD,UAAU,uIAAuI+O,IAAI,MAAM1I,YAAY,cAEvRtG,EAAAA,EAAAA,MAAA,OAAAE,SAAA,EACEC,EAAAA,EAAAA,KAAA,SAAOF,UAAU,qCAAqCiG,MAAO,CAAEgK,MAAO,sBAAuBhQ,SAAC,6DAC9FC,EAAAA,EAAAA,KAAA,SAAOkG,KAAK,OAAOpD,MAAO2I,EAASnC,eAAgBlG,SAAWgD,GAAMsF,IAAWe,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAC,CAAC,EAAIhB,GAAQ,IAAEnC,eAAgBlD,EAAEC,OAAOvD,SAAUhD,UAAU,6HAA6H+O,IAAI,YAE/QhP,EAAAA,EAAAA,MAAA,OAAAE,SAAA,EACEC,EAAAA,EAAAA,KAAA,SAAOF,UAAU,qCAAqCiG,MAAO,CAAEgK,MAAO,sBAAuBhQ,SAAC,6DAC9FC,EAAAA,EAAAA,KAAA,SAAOkG,KAAK,OAAOpD,MAAO2I,EAAS5C,UAAWzF,SAAWgD,GAAMsF,IAAWe,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAC,CAAC,EAAIhB,GAAQ,IAAE5C,UAAWzC,EAAEC,OAAOvD,SAAUhD,UAAU,mIAEpID,EAAAA,EAAAA,MAAA,OAAAE,SAAA,EACEC,EAAAA,EAAAA,KAAA,SAAOF,UAAU,qCAAqCiG,MAAO,CAAEgK,MAAO,sBAAuBhQ,SAAC,6DAC9FC,EAAAA,EAAAA,KAAA,SAAOkG,KAAK,OAAOpD,MAAO2I,EAASK,UAAW1I,SAAWgD,GAAMsF,IAAWe,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAC,CAAC,EAAIhB,GAAQ,IAAEK,UAAW1F,EAAEC,OAAOvD,SAAUhD,UAAU,mIAEpID,EAAAA,EAAAA,MAAA,OAAAE,SAAA,EACEC,EAAAA,EAAAA,KAAA,SAAOF,UAAU,qCAAqCiG,MAAO,CAAEgK,MAAO,sBAAuBhQ,SAAC,uDAC9FC,EAAAA,EAAAA,KAAA,SAAOkG,KAAK,OAAOpD,MAAO2I,EAASlC,YAAanG,SAAWgD,GAAMsF,IAAWe,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAC,CAAC,EAAIhB,GAAQ,IAAElC,YAAanD,EAAEC,OAAOvD,SAAUhD,UAAU,mIAExID,EAAAA,EAAAA,MAAA,OAAAE,SAAA,EACEC,EAAAA,EAAAA,KAAA,SAAOF,UAAU,qCAAqCiG,MAAO,CAAEgK,MAAO,sBAAuBhQ,SAAC,uDAC9FC,EAAAA,EAAAA,KAAA,SAAOkG,KAAK,OAAOpD,MAAO2I,EAASI,cAAezI,SAAWgD,GAAMsF,IAAWe,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAC,CAAC,EAAIhB,GAAQ,IAAEI,cAAezF,EAAEC,OAAOvD,SAAUhD,UAAU,6HAA6H+O,IAAI,YAE7QhP,EAAAA,EAAAA,MAAA,OAAKC,UAAU,aAAYC,SAAA,EACzBC,EAAAA,EAAAA,KAAA,SAAOF,UAAU,qCAAqCiG,MAAO,CAAEgK,MAAO,sBAAuBhQ,SAAC,mEAC9FC,EAAAA,EAAAA,KAAA,SAAOkG,KAAK,OAAOpD,MAAO2I,EAAStC,gBAAiB/F,SAAWgD,GAAMsF,IAAWe,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAC,CAAC,EAAIhB,GAAQ,IAAEtC,gBAAiB/C,EAAEC,OAAOvD,SAAUhD,UAAU,yIAMpJD,EAAAA,EAAAA,MAAA,OAAKC,UAAU,0BAA0BiG,MAAO,CAAE+L,YAAa,qBAAsB5K,WAAY,qDAAsDnH,SAAA,EACrJF,EAAAA,EAAAA,MAAA,OAAKC,UAAU,+BAA8BC,SAAA,EAC3CC,EAAAA,EAAAA,KAAC4T,EAAAA,EAAQ,CAAC9T,UAAU,UAAUiG,MAAO,CAAEgK,MAAO,yBAC9C/P,EAAAA,EAAAA,KAAA,MAAIF,UAAU,0BAA0BiG,MAAO,CAAEgK,MAAO,sBAAuBhQ,SAAC,wFAElFC,EAAAA,EAAAA,KAAA,YAAU8C,MAAO2I,EAASQ,MAAO7I,SAAWgD,GAAMsF,IAAWe,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAC,CAAC,EAAIhB,GAAQ,IAAEQ,MAAO7F,EAAEC,OAAOvD,SAAUhD,UAAU,sJAAsJ2T,KAAM,EAAGtN,YAAY,6JAKhStG,EAAAA,EAAAA,MAAA,OAAKC,UAAU,qDAAqDiG,MAAO,CAAE+L,YAAa,qBAAsB5K,WAAY,qDAAsDnH,SAAA,EAChLC,EAAAA,EAAAA,KAAA,UAAQkG,KAAK,SAASL,QAASA,KAAQiF,GAAa,GAAQ8C,MAAgB9N,UAAU,6DAA4DC,SAAC,oCACnJC,EAAAA,EAAAA,KAAA,UAAQkG,KAAK,SAASpG,UAAU,uEAAuEiG,MAAO,CAAEmB,WAAY,qDAAsDnH,SAAEkL,EAAkB,sEAAiB,mFAQhOF,IACC/K,EAAAA,EAAAA,KAAA,OAAKF,UAAU,2EAA2EiG,MAAO,CAAEmB,WAAY,yBAA0BnH,UACvIF,EAAAA,EAAAA,MAAA,OAAKC,UAAU,4EAA4EiG,MAAO,CAAEmB,WAAY,iBAAkBsK,OAAQ,gCAAiCzR,SAAA,EACzKC,EAAAA,EAAAA,KAAA,OAAKF,UAAU,0BAA0BiG,MAAO,CAAEmB,WAAY,qDAAsDnH,UAClHC,EAAAA,EAAAA,KAAA,MAAIF,UAAU,mCAAkCC,SAAC,kKAEnDF,EAAAA,EAAAA,MAAA,OAAKC,UAAU,MAAKC,SAAA,CAClBsL,GAsBAxL,EAAAA,EAAAA,MAAAiG,EAAAA,SAAA,CAAA/F,SAAA,EACEF,EAAAA,EAAAA,MAAA,OAAKC,UAAU,+BAA+BiG,MAAO,CAAEmB,WAAY,iBAAkB4K,YAAa,kBAAmB/R,SAAA,EACnHC,EAAAA,EAAAA,KAAA,MAAIF,UAAU,+BAA+BiG,MAAO,CAAEgK,MAAO,sBAAuBhQ,SAAC,4FACrFF,EAAAA,EAAAA,MAAA,OAAKC,UAAU,aAAaiG,MAAO,CAAEqL,oBAAqB,kBAAmBrR,SAAA,EAC3EF,EAAAA,EAAAA,MAAA,OAAKC,UAAU,wBAAwBiG,MAAO,CAAE+L,YAAa,qBAAsB5K,WAAY,aAAcnH,SAAA,EAC3GC,EAAAA,EAAAA,KAAA,KAAGF,UAAU,6BAA6BiG,MAAO,CAAEgK,MAAO,qBAAsBhQ,SAAC,+EACjFC,EAAAA,EAAAA,KAAA,KAAGF,UAAU,0CAA0CiG,MAAO,CAAEgK,MAAO,sBAAwBlB,IAAI,MAAK9O,SAAEsL,EAAc9C,YAE1H1I,EAAAA,EAAAA,MAAA,OAAKC,UAAU,wBAAwBiG,MAAO,CAAE+L,YAAa,qBAAsB5K,WAAY,aAAcnH,SAAA,EAC3GC,EAAAA,EAAAA,KAAA,KAAGF,UAAU,6BAA6BiG,MAAO,CAAEgK,MAAO,qBAAsBhQ,SAAC,qFACjFC,EAAAA,EAAAA,KAAA,KAAGF,UAAU,0CAA0CiG,MAAO,CAAEgK,MAAO,kBAAoBlB,IAAI,MAAK9O,SAAEsL,EAAcwI,aAEtHhU,EAAAA,EAAAA,MAAA,OAAKC,UAAU,wBAAwBiG,MAAO,CAAE+L,YAAa,qBAAsB5K,WAAY,aAAcnH,SAAA,EAC3GC,EAAAA,EAAAA,KAAA,KAAGF,UAAU,6BAA6BiG,MAAO,CAAEgK,MAAO,qBAAsBhQ,SAAC,uFACjFC,EAAAA,EAAAA,KAAA,KAAGF,UAAU,uDAAuD+O,IAAI,MAAK9O,SAAEsL,EAAcyI,sBAKlGzI,EAAcvD,UAAU1C,OAAS,IAChCvF,EAAAA,EAAAA,MAAA,OAAKC,UAAU,yEAAyEiG,MAAO,CAAE+L,YAAa,sBAAuB/R,SAAA,EACnIF,EAAAA,EAAAA,MAAA,SAAOC,UAAU,0CAAyCC,SAAA,EACxDC,EAAAA,EAAAA,KAAA,SAAAD,UACEF,EAAAA,EAAAA,MAAA,MAAIC,UAAU,oBAAoBiG,MAAO,CAAEmB,WAAY,qDAAsDnH,SAAA,EAC3GC,EAAAA,EAAAA,KAAA,MAAIF,UAAU,0CAAyCC,SAAC,iBACxDC,EAAAA,EAAAA,KAAA,MAAIF,UAAU,0CAAyCC,SAAC,sDACxDC,EAAAA,EAAAA,KAAA,MAAIF,UAAU,0CAAyCC,SAAC,gDACxDC,EAAAA,EAAAA,KAAA,MAAIF,UAAU,0CAAyCC,SAAC,8EAG5DC,EAAAA,EAAAA,KAAA,SAAAD,SACGsL,EAAcvD,UAAUqJ,MAAM,EAAG,IAAI5M,IAAI,CAAC+N,EAAUC,KACnD,MACMwB,EAAazB,EADMjH,EAAc5K,QAAQuT,KAAKC,GAAKA,GAAMA,EAAElP,cAAcjD,SAAS,aAAemS,EAAElP,cAAcjD,SAAS,QAAW,gBAC1FwQ,EAAS,gBAAkBA,EAAsB,YAClG,OACEzS,EAAAA,EAAAA,MAAA,MAAcC,UAAWyS,EAAM,IAAM,EAAI,WAAa,iBAAkBxM,MAAO,CAAE0M,aAAc,2BAA4B1S,SAAA,EACzHC,EAAAA,EAAAA,KAAA,MAAIF,UAAU,YAAYiG,MAAO,CAAEgK,MAAO,eAAgBhQ,SAAEgU,KAC5D/T,EAAAA,EAAAA,KAAA,MAAIF,UAAU,YAAYiG,MAAO,CAAEgK,MAAO,eAAgBhQ,SAAEuS,EAAS,qDAAeA,EAAsB,aAAK,OAC/GtS,EAAAA,EAAAA,KAAA,MAAIF,UAAU,YAAYiG,MAAO,CAAEgK,MAAO,eAAgBhQ,SAAEuS,EAAS,+CAAcA,EAAmB,UAAK,OAC3GtS,EAAAA,EAAAA,KAAA,MAAIF,UAAU,YAAYiG,MAAO,CAAEgK,MAAO,eAAgBhQ,SAAEuS,EAAS,wEAAmBA,EAA2B,kBAAK,QAJjHC,UAUhBlH,EAAcvD,UAAU1C,OAAS,KAChCvF,EAAAA,EAAAA,MAAA,OAAKC,UAAU,2BAA2BiG,MAAO,CAAEgK,MAAO,qBAAsBhQ,SAAA,CAAC,cAAOsL,EAAcvD,UAAU1C,OAAS,GAAG,yDAnEpIvF,EAAAA,EAAAA,MAAAiG,EAAAA,SAAA,CAAA/F,SAAA,EACEF,EAAAA,EAAAA,MAAA,OAAKC,UAAU,sBAAsBiG,MAAO,CAAEmB,WAAY,YAAasK,OAAQ,gCAAiCzR,SAAA,EAC9GC,EAAAA,EAAAA,KAAA,MAAIF,UAAU,+BAA+BiG,MAAO,CAAEgK,MAAO,sBAAuBhQ,SAAC,wGACrFF,EAAAA,EAAAA,MAAA,MAAIC,UAAU,mBAAmBiG,MAAO,CAAEgK,MAAO,qBAAsBhQ,SAAA,EACrEC,EAAAA,EAAAA,KAAA,MAAAD,SAAI,yGACJF,EAAAA,EAAAA,MAAA,MAAAE,SAAA,CAAI,8IAA4BC,EAAAA,EAAAA,KAAA,UAAAD,SAAQ,gBAAoB,uEAC5DC,EAAAA,EAAAA,KAAA,MAAAD,SAAI,4OACJC,EAAAA,EAAAA,KAAA,MAAAD,SAAI,2OAGRC,EAAAA,EAAAA,KAAA,SAAOF,UAAU,mCAAmCiG,MAAO,CAAEgK,MAAO,sBAAuBhQ,SAAC,wDAC5FC,EAAAA,EAAAA,KAAA,SACE2F,IAAK4F,EACLrF,KAAK,OACLgO,OAAO,kBACP9Q,SAr2BUgD,IACxB,MAAM+N,EAAO/N,EAAEC,OAAO+N,MAAM,GAC5B,IAAKD,EAAM,OAEX,MAAME,EAAgBF,EAAKG,KAAKhQ,MAAM,KAAKiQ,MAAMxP,cACjD,IAAK,CAAC,OAAQ,MAAO,OAAOjD,SAASuS,GAMnC,YALA7J,EAAM,CACJiD,MAAO,qBACPC,YAAa,sGACbC,QAAS,gBAKb,MAAM6G,EAAS,IAAIC,WACnBD,EAAOE,OAAUC,IACf,IACE,MAAMxT,EAAO,IAAIyT,WAAWD,EAAMtO,OAAOwO,QACnCrE,EAAWC,EAAAA,GAAUtP,EAAM,CAAE+E,KAAM,UAGnC4O,EAAiBtE,EAASuE,WAAW,GACrCC,EAAYxE,EAASyE,OAAOH,GAG5BI,EAAWzE,EAAAA,GAAW0E,cAAcH,EAAW,CACnDI,OAAQ,EACRC,OAAQ,KAGV,GAAIH,EAAS9P,OAAS,EAMpB,YALAoF,EAAM,CACJiD,MAAO,qBACPC,YAAa,2KACbC,QAAS,gBAMb,MAAMlN,EAAUyU,EAAS,GAAG3Q,IAAI0P,GAAKrF,OAAOqF,GAAGzP,QAGzC8Q,EAAkB7U,EAAQ8U,UAAUtB,GACxCA,GAAMA,EAAElP,cAAcjD,SAAS,aAAemS,EAAElP,cAAcjD,SAAS,OACjE,gBAANmS,GAA6B,gBAANA,GAA6B,gBAANA,GAGhD,IAAyB,IAArBqB,EAMF,YALA9K,EAAM,CACJiD,MAAO,qBACPC,YAAa,2KACbC,QAAS,gBAMb,MAAM7F,EAAYoN,EAAS/D,MAAM,GAC9B1M,OAAO+Q,GAAOA,GAAOA,EAAIF,IACzB/Q,IAAI,CAACiR,EAAKC,KACT,MAAMnD,EAAW,CAAC,EAMlB,OALA7R,EAAQiG,QAAQ,CAAC0O,EAAQ7C,KACvB,MAAMzP,EAAQ0S,EAAIjD,GAClBD,EAAS8C,QAAoB1C,IAAV5P,GAAiC,OAAVA,EAAiB8L,OAAO9L,GAAO0B,OAAS,KAEpF8N,EAASoD,WAAaD,EAAQ,EACvBnD,IAGX,GAAyB,IAArBxK,EAAU1C,OAMZ,YALAoF,EAAM,CACJiD,MAAO,qBACPC,YAAa,wJACbC,QAAS,gBAMb,MAAM1D,EAAcnC,EAAUvD,IAAIoK,GACbA,EAAElO,EAAQ6U,KAAqB3G,EAAE,gBAAkBA,EAAe,aAGjFmF,EAAa7J,EAAYxF,OAAO,CAACoO,EAAI4C,IAAUxL,EAAY0L,QAAQ9C,KAAQ4C,GAEjF,GAAI3B,EAAW1O,OAAS,EAAG,CACzB,MAAMwQ,EAAmB,IAAI,IAAIjR,IAAImP,IACrCtJ,EAAM,CACJiD,MAAO,iCACPC,YAAY,gKAADxM,OAAqC0U,EAAiB9O,KAAK,MAAK,qHAC3E6G,QAAS,WAEb,CAGA,MAAMkI,EAAU,IAAIlR,IACdmR,EAAkBhO,EAAUrD,OAAO6N,IACvC,MAAMyB,EAAazB,EAAS7R,EAAQ6U,KAAqBhD,EAAS,gBAAkBA,EAAsB,YAC1G,SAAKyB,GAAc8B,EAAQvQ,IAAIyO,MAG/B8B,EAAQ9O,IAAIgN,IACL,KAGTzI,EAAiB,CACf/C,MAAOT,EAAU1C,OACjByO,OAAQiC,EAAgB1Q,OACxB0O,WAAYhM,EAAU1C,OAAS0Q,EAAgB1Q,OAC/C0C,UAAWgO,EACXrV,WAEJ,CAAE,MAAOY,GACPiM,QAAQjM,MAAM,sBAAuBA,GACrCmJ,EAAM,CACJiD,MAAO,qBACPC,YAAa,gOACbC,QAAS,eAEb,GAGoB,QAAlB0G,EACFG,EAAOuB,WAAW5B,EAAM,SAExBK,EAAOwB,kBAAkB7B,IAwuBbrU,UAAU,oEACViG,MAAO,CAAE+L,YAAa,qBAAsB5K,WAAY,mBAyD9DrH,EAAAA,EAAAA,MAAA,OAAKC,UAAU,8BAA6BC,SAAA,EAC1CC,EAAAA,EAAAA,KAAA,UACEkG,KAAK,SACLL,QAASA,KAAQmF,GAAmB,GAAQM,EAAiB,MAAWC,EAAa9F,UAAS8F,EAAa9F,QAAQ3C,MAAQ,KAC3HiP,SAAU5G,EACVrL,UAAU,mEAAkEC,SAE3EsL,EAAgB,iCAAU,mCAE5BA,IACCxL,EAAAA,EAAAA,MAAAiG,EAAAA,SAAA,CAAA/F,SAAA,EACEC,EAAAA,EAAAA,KAAA,UAAQkG,KAAK,SAASL,QAASA,KAAQyF,EAAiB,MAAWC,EAAa9F,UAAS8F,EAAa9F,QAAQ3C,MAAQ,KAAOiP,SAAU5G,EAAWrL,UAAU,mEAAkEC,SAAC,8DAC/NC,EAAAA,EAAAA,KAAA,UAAQkG,KAAK,SAASL,QAzyBjBwG,UACnB,GAAKhB,GAAoD,IAAnCA,EAAcvD,UAAU1C,OAA9C,CASAgG,GAAa,GACb,IAEE,MAAM6K,EAAoB5K,EAAcvD,UAAUvD,IAAI+N,IAK7C,CACLrJ,YAAaqJ,EALUjH,EAAc5K,QAAQuT,KAAKC,GAClDA,GAAMA,EAAElP,cAAcjD,SAAS,aAAemS,EAAElP,cAAcjD,SAAS,QACpE,gBAGwCwQ,EAAS,gBAAkBA,EAAsB,YAC5F3J,YAAa2J,EAAS,qDAAeA,EAAsB,aAAK,GAChE1J,SAAU0J,EAAS,+CAAcA,EAAmB,UAAK,GACzDpJ,iBAAkBoJ,EAAS,wEAAmBA,EAA2B,kBAAKA,EAAS,qDAAe,GACtG3G,QAAS2G,EAAS,qDAAeA,EAAkB,SAAK,GACxDlJ,aAAcuK,SAASrB,EAAS,kEAAkBA,EAAuB,cAAK,GAC9EjJ,KAAMiJ,EAAe,MAAKA,EAAe,MAAK,GAC9C1G,YAAa0G,EAAc,KAAKA,EAAsB,aAAK,GAC3DhJ,eAAgBgJ,EAAS,oFAAqBA,EAAS,4DAAiBA,EAAyB,gBAAK,GACtG/I,YAAa+I,EAAS,sDAAgBA,EAAsB,aAAK,GACjEzG,cAAeyG,EAAS,sDAAgBA,EAAwB,eAAK,GACrEzJ,UAAWyJ,EAAS,yCAAaA,EAAoB,WAAK,GAC1DxG,UAAWwG,EAAS,0CAAcA,EAAoB,WAAK,GAC3DvG,cAAeuG,EAAS,0CAAcA,EAAwB,eAAK,GACnEtG,kBAAmB2H,SAASrB,EAAS,oHAA4BA,EAA4B,mBAAK,IAClGrG,MAAOqG,EAAS,2DAAgBA,EAAgB,OAAK,GACrDnJ,gBAAiBmJ,EAAS,kEAAkBA,EAA0B,iBAAK,GAC3ExJ,gBAAiBwJ,EAAS,kEAAkBA,EAA0B,iBAAK,oCAIzE9Q,QAAiBnB,EAAAA,EAAIgT,KAAK,oBAAqB,CACnDvL,UAAWmO,EACXC,kBAAkB,IAIpB,GAAI1U,EAASL,KAAKgV,QAAU3U,EAASL,KAAKgV,OAAO/Q,OAAS,EAAG,CAC3D,MAAMgR,EAAkB5U,EAASL,KAAKgV,OAAO1R,OAAO2B,GAClDA,EAAE/E,OAAS+E,EAAE/E,MAAMS,SAAS,mCAAYsE,EAAE/E,OAAS+E,EAAE/E,MAAMS,SAAS,cAEhEuU,EAAc7U,EAASL,KAAKgV,OAAO1R,OAAO2B,IAC7CA,EAAE/E,QAAW+E,EAAE/E,MAAMS,SAAS,oCAAasE,EAAE/E,MAAMS,SAAS,cAG3DsU,EAAgBhR,OAAS,GAC3BoF,EAAM,CACJiD,MAAO,iCACPC,YAAY,mCAADxM,OAAYkV,EAAgBhR,OAAM,iGAC7CuI,QAAS,YAIT0I,EAAYjR,OAAS,GACvBoF,EAAM,CACJiD,MAAO,iCACPC,YAAY,iEAADxM,OAAiBmV,EAAYjR,OAAM,8GAC9CuI,QAAS,WAGf,CAEInM,EAASL,KAAKmV,SAAW,GAC3B9L,EAAM,CACJiD,MAAO,qBACPC,YAAY,2DAADxM,OAAgBM,EAASL,KAAKmV,SAAQ,4DACjD3I,QAAS,YAIb3C,GAAmB,GACnBM,EAAiB,MACbC,EAAa9F,UACf8F,EAAa9F,QAAQ3C,MAAQ,IAE/BqJ,IACF,CAAE,MAAO9K,GAAQ,IAADkV,EAAAC,EACdlJ,QAAQjM,MAAM,gBAAiBA,GAC/BmJ,EAAM,CACJiD,MAAO,qBACPC,aAA2B,QAAd6I,EAAAlV,EAAMG,gBAAQ,IAAA+U,GAAM,QAANC,EAAdD,EAAgBpV,YAAI,IAAAqV,OAAN,EAAdA,EAAsBnV,QAAS,4GAC5CsM,QAAS,eAEb,CAAC,QACCvC,GAAa,EACf,CAtFA,MANEZ,EAAM,CACJiD,MAAO,qBACPC,YAAa,oIACbC,QAAS,iBAoyB8CoE,SAAU5G,EAAWrL,UAAU,mEAAkEC,SAAEoL,EAAY,qFAAmB,8CAAAjK,OAAcmK,EAAcwI,OAAM,kD","sources":["../node_modules/lucide-react/src/icons/landmark.ts","hooks/useHasPermission.ts","../node_modules/lucide-react/src/icons/filter.ts","../node_modules/lucide-react/src/icons/search.ts","../node_modules/lucide-react/src/icons/building-2.ts","components/Loading.js","../node_modules/lucide-react/src/icons/chevron-down.ts","services/api.js","../node_modules/lucide-react/src/icons/map-pin.ts","../node_modules/lucide-react/src/icons/briefcase.ts","../node_modules/lucide-react/src/icons/arrow-down-a-z.ts","../node_modules/lucide-react/src/icons/arrow-up-a-z.ts","components/ui/excel-column-filter.tsx","pages/admin/Merchants.js"],"sourcesContent":["import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name Landmark\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8bGluZSB4MT0iMyIgeDI9IjIxIiB5MT0iMjIiIHkyPSIyMiIgLz4KICA8bGluZSB4MT0iNiIgeDI9IjYiIHkxPSIxOCIgeTI9IjExIiAvPgogIDxsaW5lIHgxPSIxMCIgeDI9IjEwIiB5MT0iMTgiIHkyPSIxMSIgLz4KICA8bGluZSB4MT0iMTQiIHgyPSIxNCIgeTE9IjE4IiB5Mj0iMTEiIC8+CiAgPGxpbmUgeDE9IjE4IiB4Mj0iMTgiIHkxPSIxOCIgeTI9IjExIiAvPgogIDxwb2x5Z29uIHBvaW50cz0iMTIgMiAyMCA3IDQgNyIgLz4KPC9zdmc+Cg==) - https://lucide.dev/icons/landmark\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Landmark = createLucideIcon('Landmark', [\n  ['line', { x1: '3', x2: '21', y1: '22', y2: '22', key: 'j8o0r' }],\n  ['line', { x1: '6', x2: '6', y1: '18', y2: '11', key: '10tf0k' }],\n  ['line', { x1: '10', x2: '10', y1: '18', y2: '11', key: '54lgf6' }],\n  ['line', { x1: '14', x2: '14', y1: '18', y2: '11', key: '380y' }],\n  ['line', { x1: '18', x2: '18', y1: '18', y2: '11', key: '1kevvc' }],\n  ['polygon', { points: '12 2 20 7 4 7', key: 'jkujk7' }],\n]);\n\nexport default Landmark;\n","import { useAuthStore } from '@/store/useAuthStore';\nimport { hasPermission } from '@/lib/permissions';\n\n/**\n * التحقق من صلاحية المستخدم لصفحة + إجراء\n * admin يملك كل الصلاحيات تلقائياً\n */\nexport function useHasPermission(pageKey: string, actionKey: string): boolean {\n  const user = useAuthStore((s) => s.user);\n  if (!user) return false;\n  return hasPermission(user.permissions, user.role, pageKey, actionKey);\n}\n\n/**\n * التحقق من صلاحية عرض صفحة (view)\n */\nexport function useCanViewPage(pageKey: string): boolean {\n  return useHasPermission(pageKey, 'view');\n}\n","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name Filter\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cG9seWdvbiBwb2ludHM9IjIyIDMgMiAzIDEwIDEyLjQ2IDEwIDE5IDE0IDIxIDE0IDEyLjQ2IDIyIDMiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/filter\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Filter = createLucideIcon('Filter', [\n  ['polygon', { points: '22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3', key: '1yg77f' }],\n]);\n\nexport default Filter;\n","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name Search\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8Y2lyY2xlIGN4PSIxMSIgY3k9IjExIiByPSI4IiAvPgogIDxwYXRoIGQ9Im0yMSAyMS00LjMtNC4zIiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/search\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Search = createLucideIcon('Search', [\n  ['circle', { cx: '11', cy: '11', r: '8', key: '4ej97u' }],\n  ['path', { d: 'm21 21-4.3-4.3', key: '1qie3q' }],\n]);\n\nexport default Search;\n","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name Building2\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNNiAyMlY0YTIgMiAwIDAgMSAyLTJoOGEyIDIgMCAwIDEgMiAydjE4WiIgLz4KICA8cGF0aCBkPSJNNiAxMkg0YTIgMiAwIDAgMC0yIDJ2NmEyIDIgMCAwIDAgMiAyaDIiIC8+CiAgPHBhdGggZD0iTTE4IDloMmEyIDIgMCAwIDEgMiAydjlhMiAyIDAgMCAxLTIgMmgtMiIgLz4KICA8cGF0aCBkPSJNMTAgNmg0IiAvPgogIDxwYXRoIGQ9Ik0xMCAxMGg0IiAvPgogIDxwYXRoIGQ9Ik0xMCAxNGg0IiAvPgogIDxwYXRoIGQ9Ik0xMCAxOGg0IiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/building-2\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Building2 = createLucideIcon('Building2', [\n  ['path', { d: 'M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z', key: '1b4qmf' }],\n  ['path', { d: 'M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2', key: 'i71pzd' }],\n  ['path', { d: 'M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2', key: '10jefs' }],\n  ['path', { d: 'M10 6h4', key: '1itunk' }],\n  ['path', { d: 'M10 10h4', key: 'tcdvrf' }],\n  ['path', { d: 'M10 14h4', key: 'kelpxr' }],\n  ['path', { d: 'M10 18h4', key: '1ulq68' }],\n]);\n\nexport default Building2;\n","import React from 'react';\n\nexport default function Loading({ message = 'جاري التحميل...' }) {\n  return (\n    <div className=\"loading-wrapper\">\n      <div className=\"loading-spinner\" />\n      <p className=\"loading-message\">{message}</p>\n    </div>\n  );\n}\n","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name ChevronDown\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJtNiA5IDYgNiA2LTYiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/chevron-down\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst ChevronDown = createLucideIcon('ChevronDown', [\n  ['path', { d: 'm6 9 6 6 6-6', key: 'qrunsl' }],\n]);\n\nexport default ChevronDown;\n","import axios from 'axios';\n\n// في الإنتاج نستخدم نفس الدومين (/api). لا نستخدم localhost إلا في التطوير مع proxy\nconst API_URL = process.env.REACT_APP_API_URL || '/api';\n\nconst api = axios.create({\n  baseURL: API_URL,\n  headers: {\n    'Content-Type': 'application/json'\n  }\n});\n\n// إضافة التوكن تلقائياً؛ عدم فرض JSON عند إرسال FormData (مرفقات)\napi.interceptors.request.use(\n  (config) => {\n    const token = localStorage.getItem('token');\n    if (token) config.headers.Authorization = `Bearer ${token}`;\n    if (config.data instanceof FormData) delete config.headers['Content-Type'];\n    return config;\n  },\n  (error) => Promise.reject(error)\n);\n\n// معالجة الأخطاء\napi.interceptors.response.use(\n  (response) => response,\n  (error) => {\n    if (error.response?.status === 401 && !error.config?.url?.includes('/auth/login')) {\n      localStorage.removeItem('token');\n      localStorage.removeItem('user');\n      window.location.href = '/login';\n    }\n    return Promise.reject(error);\n  }\n);\n\nexport default api;","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name MapPin\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMjAgMTBjMCA2LTggMTItOCAxMnMtOC02LTgtMTJhOCA4IDAgMCAxIDE2IDBaIiAvPgogIDxjaXJjbGUgY3g9IjEyIiBjeT0iMTAiIHI9IjMiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/map-pin\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst MapPin = createLucideIcon('MapPin', [\n  ['path', { d: 'M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z', key: '2oe9fu' }],\n  ['circle', { cx: '12', cy: '10', r: '3', key: 'ilqhr7' }],\n]);\n\nexport default MapPin;\n","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name Briefcase\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cmVjdCB3aWR0aD0iMjAiIGhlaWdodD0iMTQiIHg9IjIiIHk9IjciIHJ4PSIyIiByeT0iMiIgLz4KICA8cGF0aCBkPSJNMTYgMjFWNWEyIDIgMCAwIDAtMi0yaC00YTIgMiAwIDAgMC0yIDJ2MTYiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/briefcase\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Briefcase = createLucideIcon('Briefcase', [\n  ['rect', { width: '20', height: '14', x: '2', y: '7', rx: '2', ry: '2', key: 'eto64e' }],\n  ['path', { d: 'M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16', key: 'zwj3tp' }],\n]);\n\nexport default Briefcase;\n","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name ArrowDownAZ\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJtMyAxNiA0IDQgNC00IiAvPgogIDxwYXRoIGQ9Ik03IDIwVjQiIC8+CiAgPHBhdGggZD0iTTIwIDhoLTUiIC8+CiAgPHBhdGggZD0iTTE1IDEwVjYuNWEyLjUgMi41IDAgMCAxIDUgMFYxMCIgLz4KICA8cGF0aCBkPSJNMTUgMTRoNWwtNSA2aDUiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/arrow-down-a-z\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst ArrowDownAZ = createLucideIcon('ArrowDownAZ', [\n  ['path', { d: 'm3 16 4 4 4-4', key: '1co6wj' }],\n  ['path', { d: 'M7 20V4', key: '1yoxec' }],\n  ['path', { d: 'M20 8h-5', key: '1vsyxs' }],\n  ['path', { d: 'M15 10V6.5a2.5 2.5 0 0 1 5 0V10', key: 'ag13bf' }],\n  ['path', { d: 'M15 14h5l-5 6h5', key: 'ur5jdg' }],\n]);\n\nexport default ArrowDownAZ;\n","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name ArrowUpAZ\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJtMyA4IDQtNCA0IDQiIC8+CiAgPHBhdGggZD0iTTcgNHYxNiIgLz4KICA8cGF0aCBkPSJNMjAgOGgtNSIgLz4KICA8cGF0aCBkPSJNMTUgMTBWNi41YTIuNSAyLjUgMCAwIDEgNSAwVjEwIiAvPgogIDxwYXRoIGQ9Ik0xNSAxNGg1bC01IDZoNSIgLz4KPC9zdmc+Cg==) - https://lucide.dev/icons/arrow-up-a-z\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst ArrowUpAZ = createLucideIcon('ArrowUpAZ', [\n  ['path', { d: 'm3 8 4-4 4 4', key: '11wl7u' }],\n  ['path', { d: 'M7 4v16', key: '1glfcx' }],\n  ['path', { d: 'M20 8h-5', key: '1vsyxs' }],\n  ['path', { d: 'M15 10V6.5a2.5 2.5 0 0 1 5 0V10', key: 'ag13bf' }],\n  ['path', { d: 'M15 14h5l-5 6h5', key: 'ur5jdg' }],\n]);\n\nexport default ArrowUpAZ;\n","import * as React from 'react';\nimport { Search, ArrowDownAZ, ArrowUpAZ, Filter } from 'lucide-react';\nimport { cn } from '@/lib/utils';\n\nexport interface ExcelColumnFilterProps {\n  columnKey: string;\n  columnLabel: string;\n  options: string[];\n  value: string; // comma-separated selected values, empty = all\n  onChange: (value: string) => void;\n  sortDirection: 'asc' | 'desc' | null;\n  onSortChange: (dir: 'asc' | 'desc' | null) => void;\n  trigger: React.ReactNode;\n  className?: string;\n}\n\nconst FILTER_CONDITIONS = [\n  { value: 'contains', label: 'يحتوي على' },\n  { value: 'equals', label: 'يساوي' },\n  { value: 'startsWith', label: 'يبدأ بـ' },\n];\n\nexport function ExcelColumnFilter({\n  columnKey,\n  columnLabel,\n  options,\n  value,\n  onChange,\n  sortDirection,\n  onSortChange,\n  trigger,\n  className,\n}: ExcelColumnFilterProps) {\n  const [open, setOpen] = React.useState(false);\n  const [search, setSearch] = React.useState('');\n  const [condition, setCondition] = React.useState('contains');\n  const [autoApply, setAutoApply] = React.useState(true);\n  const [draft, setDraft] = React.useState(value);\n  const containerRef = React.useRef<HTMLDivElement>(null);\n  const selectAllRef = React.useRef<HTMLInputElement | null>(null);\n\n  React.useEffect(() => {\n    setDraft(value);\n  }, [value, open]);\n\n  const selectedSet = React.useMemo(() => {\n    const s = (draft || '').split(',').map((x) => x.trim()).filter(Boolean);\n    return new Set(s);\n  }, [draft]);\n\n  const filteredOptions = React.useMemo(() => {\n    let list = options;\n    if (search.trim()) {\n      const q = search.toLowerCase();\n      list = list.filter((opt) => {\n        const v = (opt || '').toLowerCase();\n        if (condition === 'contains') return v.includes(q);\n        if (condition === 'equals') return v === q;\n        if (condition === 'startsWith') return v.startsWith(q);\n        return v.includes(q);\n      });\n    }\n    return list;\n  }, [options, search, condition]);\n\n  const selectAllChecked =\n    filteredOptions.length > 0 &&\n    filteredOptions.every((opt) => selectedSet.has(opt));\n  const selectAllIndeterminate =\n    filteredOptions.some((opt) => selectedSet.has(opt)) && !selectAllChecked;\n\n  React.useEffect(() => {\n    if (selectAllRef.current) selectAllRef.current.indeterminate = selectAllIndeterminate;\n  }, [selectAllIndeterminate]);\n\n  const toggleOption = (opt: string) => {\n    const next = new Set(selectedSet);\n    if (next.has(opt)) next.delete(opt);\n    else next.add(opt);\n    const arr = options.filter((o) => next.has(o));\n    const newVal = arr.join(',');\n    setDraft(newVal);\n    if (autoApply) onChange(newVal);\n  };\n\n  const toggleSelectAll = () => {\n    if (selectAllChecked) {\n      const next = new Set(selectedSet);\n      filteredOptions.forEach((o) => next.delete(o));\n      const arr = options.filter((o) => next.has(o));\n      const newVal = arr.join(',');\n      setDraft(newVal);\n      if (autoApply) onChange(newVal);\n    } else {\n      const next = new Set(selectedSet);\n      filteredOptions.forEach((o) => next.add(o));\n      const arr = options.filter((o) => next.has(o));\n      const newVal = arr.join(',');\n      setDraft(newVal);\n      if (autoApply) onChange(newVal);\n    }\n  };\n\n  const handleApply = () => {\n    onChange(draft);\n    setOpen(false);\n    setSearch('');\n  };\n\n  const handleClear = () => {\n    setDraft('');\n    onChange('');\n    setOpen(false);\n    setSearch('');\n  };\n\n  return (\n    <div ref={containerRef} className={cn('relative', className)}>\n      <div onClick={() => setOpen(!open)} className=\"cursor-pointer\">\n        {trigger}\n      </div>\n      {open && (\n        <>\n          <div\n            className=\"absolute z-50 mt-1 rounded-xl border border-slate-200 bg-white shadow-xl py-3 min-w-[280px] max-w-[320px]\"\n            style={{ left: 0, top: '100%' }}\n          >\n            {/* فرز */}\n            <div className=\"px-3 mb-2\">\n              <p className=\"text-xs font-bold text-slate-600 mb-1.5\">فرز</p>\n              <div className=\"flex gap-2\">\n                <button\n                  type=\"button\"\n                  onClick={() =>\n                    onSortChange(sortDirection === 'desc' ? null : 'desc')\n                  }\n                  className={cn(\n                    'flex items-center gap-1 px-2 py-1.5 rounded-lg text-xs font-medium transition-colors',\n                    sortDirection === 'desc'\n                      ? 'bg-[#026174] text-white'\n                      : 'bg-slate-100 text-slate-700 hover:bg-slate-200'\n                  )}\n                >\n                  <ArrowDownAZ className=\"w-3.5 h-3.5\" />\n                  تنازلي\n                </button>\n                <button\n                  type=\"button\"\n                  onClick={() =>\n                    onSortChange(sortDirection === 'asc' ? null : 'asc')\n                  }\n                  className={cn(\n                    'flex items-center gap-1 px-2 py-1.5 rounded-lg text-xs font-medium transition-colors',\n                    sortDirection === 'asc'\n                      ? 'bg-[#026174] text-white'\n                      : 'bg-slate-100 text-slate-700 hover:bg-slate-200'\n                  )}\n                >\n                  <ArrowUpAZ className=\"w-3.5 h-3.5\" />\n                  تصاعدي\n                </button>\n              </div>\n            </div>\n\n            {/* تصفية — بحث */}\n            <div className=\"px-3 mb-2\">\n              <p className=\"text-xs font-bold text-slate-600 mb-1.5\">تصفية</p>\n              <div className=\"flex gap-1.5\">\n                <div className=\"relative flex-1\">\n                  <Search className=\"absolute right-2 top-1/2 -translate-y-1/2 w-3.5 h-3.5 text-slate-500\" />\n                  <input\n                    type=\"text\"\n                    placeholder=\"بحث\"\n                    value={search}\n                    onChange={(e) => setSearch(e.target.value)}\n                    className=\"w-full pr-8 pl-2 py-1.5 text-xs border border-slate-300 rounded-lg bg-white focus:outline-none focus:ring-2 focus:ring-[#026174]/30 focus:border-[#026174]\"\n                  />\n                </div>\n                <select\n                  value={condition}\n                  onChange={(e) => setCondition(e.target.value)}\n                  className=\"px-2 py-1.5 text-xs border border-slate-300 rounded-lg bg-white focus:outline-none focus:ring-1 focus:ring-[#026174]/30\"\n                >\n                  {FILTER_CONDITIONS.map((c) => (\n                    <option key={c.value} value={c.value}>\n                      {c.label}\n                    </option>\n                  ))}\n                </select>\n              </div>\n            </div>\n\n            {/* قائمة الاختيار */}\n            <div className=\"px-3 mb-2\">\n              <div className=\"max-h-48 overflow-y-auto border border-slate-200 rounded-lg\">\n                <label className=\"flex items-center gap-2 px-3 py-2 hover:bg-slate-50 cursor-pointer border-b border-slate-100\">\n                  <input\n                    type=\"checkbox\"\n                    ref={selectAllRef}\n                    checked={selectAllChecked}\n                    onChange={toggleSelectAll}\n                    className=\"rounded border-slate-300 text-[#026174] focus:ring-[#026174]\"\n                  />\n                  <span className=\"text-xs font-semibold text-slate-800\">\n                    تحديد الكل\n                  </span>\n                </label>\n                {filteredOptions.length === 0 ? (\n                  <div className=\"py-4 text-center text-xs text-slate-500\">\n                    لا توجد نتائج\n                  </div>\n                ) : (\n                  filteredOptions.map((opt) => (\n                    <label\n                      key={opt}\n                      className=\"flex items-center gap-2 px-3 py-1.5 hover:bg-slate-50 cursor-pointer text-xs\"\n                    >\n                      <input\n                        type=\"checkbox\"\n                        checked={selectedSet.has(opt)}\n                        onChange={() => toggleOption(opt)}\n                        className=\"rounded border-slate-300 text-[#026174] focus:ring-[#026174]\"\n                      />\n                      <span className=\"truncate text-slate-800\">{opt || '-'}</span>\n                    </label>\n                  ))\n                )}\n              </div>\n            </div>\n\n            {/* أزرار */}\n            <div className=\"px-3 flex items-center gap-2 flex-wrap\">\n              <label className=\"flex items-center gap-1.5 cursor-pointer\">\n                <input\n                  type=\"checkbox\"\n                  checked={autoApply}\n                  onChange={(e) => setAutoApply(e.target.checked)}\n                  className=\"rounded border-slate-300 text-[#026174] focus:ring-[#026174]\"\n                />\n                <span className=\"text-xs text-slate-600\">تطبيق تلقائي</span>\n              </label>\n              <div className=\"flex gap-1.5 ms-auto\">\n                <button\n                  type=\"button\"\n                  onClick={handleApply}\n                  className=\"px-3 py-1.5 rounded-lg text-xs font-medium text-white\"\n                  style={{ background: 'linear-gradient(135deg, #026174, #068294)' }}\n                >\n                  تطبيق عامل التصفية\n                </button>\n                <button\n                  type=\"button\"\n                  onClick={handleClear}\n                  className=\"px-3 py-1.5 rounded-lg text-xs font-medium bg-slate-100 hover:bg-slate-200 text-slate-700\"\n                >\n                  إلغاء تحديد عامل التصفية\n                </button>\n              </div>\n            </div>\n          </div>\n          <div\n            className=\"fixed inset-0 z-40\"\n            onClick={() => setOpen(false)}\n            aria-hidden\n          />\n        </>\n      )}\n    </div>\n  );\n}\n","import React, { useState, useEffect, useRef, useMemo } from 'react';\nimport api from '../../services/api';\nimport { useHasPermission } from '@/hooks/useHasPermission';\nimport { useToast } from '@/hooks/use-toast';\nimport Loading from '../../components/Loading';\nimport { ChevronDown, Filter, X, Building2, Landmark, FileText, Search, MapPin, Briefcase, Users, Store } from 'lucide-react';\nimport { ExcelColumnFilter } from '@/components/ui/excel-column-filter';\nimport * as XLSX from 'xlsx';\n\n/* سهم ناعم بجانب اسم العمود (يورث لون النص من الرأس) */\nconst ColHeader = ({ children }) => (\n  <span className=\"inline-flex items-center gap-1\">\n    {children}\n    <ChevronDown className=\"w-4 h-4 opacity-90 flex-shrink-0 text-current\" strokeWidth={2.5} />\n  </span>\n);\n\n/* زر فلتر Excel — يظهر في خلية رأس العمود */\nconst FilterTrigger = ({ value, label }) => {\n  const count = value ? value.split(',').filter(Boolean).length : 0;\n  const hasFilter = count > 0;\n  return (\n    <div\n      className={`flex items-center gap-1.5 w-full min-w-0 py-1.5 px-2 rounded-md border transition-all cursor-pointer ${hasFilter ? 'merchant-filter-trigger-active' : 'merchant-filter-trigger'}`}\n    >\n      <Filter className={`w-3.5 h-3.5 flex-shrink-0 ${hasFilter ? 'text-[#026174]' : 'text-slate-500'}`} />\n      <span className={`text-xs truncate ${hasFilter ? 'text-[#026174] font-medium' : 'text-slate-600'}`}>\n        {count > 0 ? `${count} محدد` : label}\n      </span>\n    </div>\n  );\n};\n\nconst Merchants = () => {\n  const [merchants, setMerchants] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [pagination, setPagination] = useState({ page: 1, limit: 50, total: 0, totalPages: 0 });\n  const [filters, setFilters] = useState({\n    search: '',\n    governorate: '',\n    ministry: '',\n    bank_code: '',\n    commission_type: ''\n  });\n  /* فلاتر أعمدة (قيم متعددة مفصولة بفاصلة) + فرز */\n  const [columnFilters, setColumnFilters] = useState({\n    merchant_id: '',\n    governorate: '',\n    ministry: '',\n    directorate_name: '',\n    bank_code: '',\n    settlement_name: '',\n    commission_type: '',\n    device_count: '',\n    iban: '',\n    account_number: '',\n    branch_name: ''\n  });\n  const [sortState, setSortState] = useState({ column: null, direction: null });\n  const [filterOptions, setFilterOptions] = useState({\n    governorates: [], ministries: [], bankCodes: [],\n    merchantIds: [], directorates: [], settlements: [], deviceCounts: [], ibans: [], accountNumbers: [], branches: []\n  });\n  const { toast } = useToast();\n  const canCreate = useHasPermission('merchants', 'create');\n  const canEdit = useHasPermission('merchants', 'edit');\n  const canDelete = useHasPermission('merchants', 'delete');\n  const canImport = useHasPermission('merchants', 'import');\n  const canExport = useHasPermission('merchants', 'export');\n  const [showModal, setShowModal] = useState(false);\n  const [showImportModal, setShowImportModal] = useState(false);\n  const [editingMerchant, setEditingMerchant] = useState(null);\n  const [importing, setImporting] = useState(false);\n  const [importPreview, setImportPreview] = useState(null);\n  const fileInputRef = useRef(null);\n  const [formData, setFormData] = useState({\n    merchant_id: '',\n    governorate: '',\n    ministry: '',\n    directorate_name: '',\n    details: '',\n    device_count: 0,\n    iban: '',\n    account_key: '',\n    account_number: '',\n    branch_name: '',\n    branch_number: '',\n    bank_code: '',\n    bank_name: '',\n    bank_name_alt: '',\n    iban_length_check: 23,\n    notes: '',\n    settlement_name: '',\n    commission_type: 'حكومي'\n  });\n\n  useEffect(() => {\n    fetchMerchants();\n    fetchFilterOptions();\n  }, [pagination.page, filters, columnFilters]);\n\n  const fetchMerchants = async () => {\n    try {\n      setLoading(true);\n      const apiParams = {\n        page: pagination.page,\n        limit: pagination.limit,\n        ...Object.fromEntries(Object.entries(filters).filter(([_, v]) => v)),\n        /* إرسال فلاتر الأعمدة للـ API — نُفضّل columnFilters عند وجوده */\n        ...(columnFilters.merchant_id && { merchant_id: columnFilters.merchant_id }),\n        ...(columnFilters.iban && { iban: columnFilters.iban }),\n        ...(columnFilters.directorate_name && { directorate_name: columnFilters.directorate_name }),\n        ...(columnFilters.settlement_name && { settlement_name: columnFilters.settlement_name }),\n        ...(columnFilters.device_count && { device_count: columnFilters.device_count }),\n        ...(columnFilters.account_number && { account_number: columnFilters.account_number }),\n        ...(columnFilters.branch_name && { branch_name: columnFilters.branch_name }),\n        ...((columnFilters.governorate || filters.governorate) && { governorate: columnFilters.governorate || filters.governorate }),\n        ...((columnFilters.ministry || filters.ministry) && { ministry: columnFilters.ministry || filters.ministry }),\n        ...((columnFilters.bank_code || filters.bank_code) && { bank_code: columnFilters.bank_code || filters.bank_code }),\n        ...((columnFilters.commission_type || filters.commission_type) && { commission_type: columnFilters.commission_type || filters.commission_type }),\n      };\n      const params = new URLSearchParams(Object.fromEntries(Object.entries(apiParams).filter(([_, v]) => v != null && v !== '')));\n      const response = await api.get(`/merchants?${params}`);\n      setMerchants(response.data?.merchants || []);\n      setPagination(response.data?.pagination || { page: 1, limit: 50, total: 0, totalPages: 0 });\n    } catch (error) {\n      console.error('Error fetching merchants:', error);\n      const msg = error.response?.data?.error || error.response?.data?.details || error.message || 'خطأ في جلب التجار';\n      const hint = !error.response ? ' (تحقق من الاتصال أو أعد تحميل الصفحة بعد ثوانٍ إن كانت الخدمة تستيقظ)' : '';\n      toast({\n        title: 'خطأ',\n        description: msg + hint,\n        variant: 'destructive'\n      });\n      setMerchants([]);\n      setPagination({ page: 1, limit: 50, total: 0, totalPages: 0 });\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const fetchFilterOptions = async () => {\n    try {\n      const response = await api.get('/merchants/filter-options');\n      const data = response.data || {};\n      setFilterOptions({\n        governorates: data.governorates || [],\n        ministries: data.ministries || [],\n        bankCodes: data.bankCodes || [],\n        merchantIds: data.merchantIds || [],\n        directorates: data.directorates || [],\n        settlements: data.settlements || [],\n        deviceCounts: data.deviceCounts || [],\n        ibans: data.ibans || [],\n        accountNumbers: data.accountNumbers || [],\n        branches: data.branches || []\n      });\n    } catch (error) {\n      console.error('خطأ في جلب خيارات الفلترة:', error);\n    }\n  };\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    try {\n      if (editingMerchant) {\n        await api.put(`/merchants/${editingMerchant.id}`, formData);\n        toast({\n          title: 'نجح',\n          description: 'تم تحديث التاجر بنجاح',\n          variant: 'success'\n        });\n      } else {\n        await api.post('/merchants', formData);\n        toast({\n          title: 'نجح',\n          description: 'تم إضافة التاجر بنجاح',\n          variant: 'success'\n        });\n      }\n      setShowModal(false);\n      resetForm();\n      fetchMerchants();\n    } catch (error) {\n      toast({\n        title: 'خطأ',\n        description: error.response?.data?.error || 'حدث خطأ',\n        variant: 'destructive'\n      });\n    }\n  };\n\n  const handleEdit = (merchant) => {\n    setEditingMerchant(merchant);\n    setFormData({\n      merchant_id: merchant.merchant_id || '',\n      governorate: merchant.governorate || '',\n      ministry: merchant.ministry || '',\n      directorate_name: merchant.directorate_name || '',\n      details: merchant.details || '',\n      device_count: merchant.device_count || 0,\n      iban: merchant.iban || '',\n      account_key: merchant.account_key || '',\n      account_number: merchant.account_number || '',\n      branch_name: merchant.branch_name || '',\n      branch_number: merchant.branch_number || '',\n      bank_code: merchant.bank_code || '',\n      bank_name: merchant.bank_name || '',\n      bank_name_alt: merchant.bank_name_alt || '',\n      iban_length_check: merchant.iban_length_check || 23,\n      notes: merchant.notes || '',\n      settlement_name: merchant.settlement_name || '',\n      commission_type: merchant.commission_type || 'حكومي'\n    });\n    setShowModal(true);\n  };\n\n  const handleDelete = async (id) => {\n    if (!window.confirm('هل أنت متأكد من حذف هذا التاجر؟')) return;\n    try {\n      await api.delete(`/merchants/${id}`);\n      toast({\n        title: 'نجح',\n        description: 'تم حذف التاجر بنجاح',\n        variant: 'success'\n      });\n      fetchMerchants();\n    } catch (error) {\n      toast({\n        title: 'خطأ',\n        description: error.response?.data?.error || 'حدث خطأ',\n        variant: 'destructive'\n      });\n    }\n  };\n\n  // معالجة رفع ملف Excel\n  const handleFileUpload = (e) => {\n    const file = e.target.files[0];\n    if (!file) return;\n\n    const fileExtension = file.name.split('.').pop().toLowerCase();\n    if (!['xlsx', 'xls', 'csv'].includes(fileExtension)) {\n      toast({\n        title: 'خطأ',\n        description: 'يرجى رفع ملف Excel (.xlsx, .xls) أو CSV',\n        variant: 'destructive'\n      });\n      return;\n    }\n\n    const reader = new FileReader();\n    reader.onload = (event) => {\n      try {\n        const data = new Uint8Array(event.target.result);\n        const workbook = XLSX.read(data, { type: 'array' });\n        \n        // قراءة أول ورقة عمل\n        const firstSheetName = workbook.SheetNames[0];\n        const worksheet = workbook.Sheets[firstSheetName];\n        \n        // تحويل إلى JSON\n        const jsonData = XLSX.utils.sheet_to_json(worksheet, { \n          header: 1,\n          defval: '' // القيمة الافتراضية للخلايا الفارغة\n        });\n\n        if (jsonData.length < 2) {\n          toast({\n            title: 'خطأ',\n            description: 'الملف فارغ أو لا يحتوي على بيانات',\n            variant: 'destructive'\n          });\n          return;\n        }\n\n        // السطر الأول هو العناوين\n        const headers = jsonData[0].map(h => String(h).trim());\n        \n        // التحقق من وجود عمود merchant_id\n        const merchantIdIndex = headers.findIndex(h => \n          h && (h.toLowerCase().includes('merchant') && h.toLowerCase().includes('id')) ||\n          h === 'Merchant ID' || h === 'merchant_id' || h === 'Merchant ID'\n        );\n\n        if (merchantIdIndex === -1) {\n          toast({\n            title: 'خطأ',\n            description: 'لم يتم العثور على عمود Merchant ID في الملف',\n            variant: 'destructive'\n          });\n          return;\n        }\n\n        // تحويل البيانات إلى كائنات\n        const merchants = jsonData.slice(1)\n          .filter(row => row && row[merchantIdIndex]) // تجاهل الصفوف الفارغة\n          .map((row, index) => {\n            const merchant = {};\n            headers.forEach((header, idx) => {\n              const value = row[idx];\n              merchant[header] = value !== undefined && value !== null ? String(value).trim() : '';\n            });\n            merchant._rowNumber = index + 2; // رقم الصف في Excel (يبدأ من 2 لأن 1 هو العنوان)\n            return merchant;\n          });\n\n        if (merchants.length === 0) {\n          toast({\n            title: 'خطأ',\n            description: 'لا توجد بيانات صالحة في الملف',\n            variant: 'destructive'\n          });\n          return;\n        }\n\n        // التحقق من التكرارات داخل الملف نفسه\n        const merchantIds = merchants.map(m => {\n          const merchantId = m[headers[merchantIdIndex]] || m['Merchant ID'] || m['merchant_id'];\n          return merchantId;\n        });\n        const duplicates = merchantIds.filter((id, index) => merchantIds.indexOf(id) !== index);\n        \n        if (duplicates.length > 0) {\n          const uniqueDuplicates = [...new Set(duplicates)];\n          toast({\n            title: 'تحذير',\n            description: `تم العثور على تكرارات في الملف: ${uniqueDuplicates.join(', ')}. سيتم تجاهل التكرارات.`,\n            variant: 'warning'\n          });\n        }\n\n        // إزالة التكرارات من الملف\n        const seenIds = new Set();\n        const uniqueMerchants = merchants.filter(merchant => {\n          const merchantId = merchant[headers[merchantIdIndex]] || merchant['Merchant ID'] || merchant['merchant_id'];\n          if (!merchantId || seenIds.has(merchantId)) {\n            return false;\n          }\n          seenIds.add(merchantId);\n          return true;\n        });\n\n        setImportPreview({\n          total: merchants.length,\n          unique: uniqueMerchants.length,\n          duplicates: merchants.length - uniqueMerchants.length,\n          merchants: uniqueMerchants,\n          headers\n        });\n      } catch (error) {\n        console.error('Error reading file:', error);\n        toast({\n          title: 'خطأ',\n          description: 'حدث خطأ في قراءة الملف. تأكد من أن الملف صحيح.',\n          variant: 'destructive'\n        });\n      }\n    };\n\n    if (fileExtension === 'csv') {\n      reader.readAsText(file, 'UTF-8');\n    } else {\n      reader.readAsArrayBuffer(file);\n    }\n  };\n\n  // تنفيذ الاستيراد\n  const handleImport = async () => {\n    if (!importPreview || importPreview.merchants.length === 0) {\n      toast({\n        title: 'خطأ',\n        description: 'لا توجد بيانات للاستيراد',\n        variant: 'destructive'\n      });\n      return;\n    }\n\n    setImporting(true);\n    try {\n      // تحويل البيانات إلى الصيغة المتوقعة من الـ backend\n      const merchantsToImport = importPreview.merchants.map(merchant => {\n        const merchantIdHeader = importPreview.headers.find(h => \n          h && (h.toLowerCase().includes('merchant') && h.toLowerCase().includes('id'))\n        ) || 'Merchant ID';\n        \n        return {\n          merchant_id: merchant[merchantIdHeader] || merchant['Merchant ID'] || merchant['merchant_id'],\n          governorate: merchant['المحافظة'] || merchant['governorate'] || '',\n          ministry: merchant['الوزارة'] || merchant['ministry'] || '',\n          directorate_name: merchant['اسم المديرية'] || merchant['directorate_name'] || merchant['المديرية'] || '',\n          details: merchant['التفاصيل'] || merchant['details'] || '',\n          device_count: parseInt(merchant['عدد الأجهزة'] || merchant['device_count'] || 0),\n          iban: merchant['IBAN'] || merchant['iban'] || '',\n          account_key: merchant['key'] || merchant['account_key'] || '',\n          account_number: merchant['رقم الحــــساب'] || merchant['رقم الحساب'] || merchant['account_number'] || '',\n          branch_name: merchant['اسم الفرع'] || merchant['branch_name'] || '',\n          branch_number: merchant['رقم الفرع'] || merchant['branch_number'] || '',\n          bank_code: merchant['المصرف'] || merchant['bank_code'] || '',\n          bank_name: merchant['المصرف2'] || merchant['bank_name'] || '',\n          bank_name_alt: merchant['المصرف3'] || merchant['bank_name_alt'] || '',\n          iban_length_check: parseInt(merchant['التحقق من طول الايبان'] || merchant['iban_length_check'] || 23),\n          notes: merchant['الملاحظات'] || merchant['notes'] || '',\n          settlement_name: merchant['اسم التسوية'] || merchant['settlement_name'] || '',\n          commission_type: merchant['نوع العمولة'] || merchant['commission_type'] || 'حكومي'\n        };\n      });\n\n      const response = await api.post('/merchants/import', { \n        merchants: merchantsToImport,\n        rejectDuplicates: true // إرسال علامة لرفض التكرارات\n      });\n\n      // عرض تقرير مفصل\n      if (response.data.errors && response.data.errors.length > 0) {\n        const duplicateErrors = response.data.errors.filter(e => \n          e.error && e.error.includes('موجود') || e.error && e.error.includes('duplicate')\n        );\n        const otherErrors = response.data.errors.filter(e => \n          !e.error || (!e.error.includes('موجود') && !e.error.includes('duplicate'))\n        );\n\n        if (duplicateErrors.length > 0) {\n          toast({\n            title: 'تحذير',\n            description: `تم رفض ${duplicateErrors.length} تاجر بسبب تكرار Merchant ID`,\n            variant: 'warning'\n          });\n        }\n\n        if (otherErrors.length > 0) {\n          toast({\n            title: 'تحذير',\n            description: `فشل استيراد ${otherErrors.length} تاجر بسبب أخطاء أخرى`,\n            variant: 'warning'\n          });\n        }\n      }\n\n      if (response.data.imported > 0) {\n        toast({\n          title: 'نجح',\n          description: `تم استيراد ${response.data.imported} تاجر بنجاح`,\n          variant: 'success'\n        });\n      }\n\n      setShowImportModal(false);\n      setImportPreview(null);\n      if (fileInputRef.current) {\n        fileInputRef.current.value = '';\n      }\n      fetchMerchants();\n    } catch (error) {\n      console.error('Import error:', error);\n      toast({\n        title: 'خطأ',\n        description: error.response?.data?.error || 'حدث خطأ في الاستيراد',\n        variant: 'destructive'\n      });\n    } finally {\n      setImporting(false);\n    }\n  };\n\n  const resetForm = () => {\n    setEditingMerchant(null);\n    setFormData({\n      merchant_id: '',\n      governorate: '',\n      ministry: '',\n      directorate_name: '',\n      details: '',\n      device_count: 0,\n      iban: '',\n      account_key: '',\n      account_number: '',\n      branch_name: '',\n      branch_number: '',\n      bank_code: '',\n      bank_name: '',\n      bank_name_alt: '',\n      iban_length_check: 23,\n      notes: '',\n      settlement_name: '',\n      commission_type: 'حكومي'\n    });\n  };\n\n  const handleFilterChange = (key, value) => {\n    setFilters(prev => ({ ...prev, [key]: value }));\n    setPagination(prev => ({ ...prev, page: 1 }));\n  };\n\n  const handleColumnFilterChange = (key, value) => {\n    setColumnFilters(prev => ({ ...prev, [key]: value }));\n    setPagination(prev => ({ ...prev, page: 1 }));\n    /* تزامن مع filters للـ API */\n    if (['governorate', 'ministry', 'bank_code', 'commission_type'].includes(key)) {\n      const first = (value || '').split(',')[0]?.trim() || '';\n      setFilters(prev => ({ ...prev, [key]: first }));\n    }\n    if (key === 'merchant_id') setFilters(prev => ({ ...prev, search: (value || '').split(',')[0]?.trim() || '' }));\n  };\n\n  const handleSortChange = (column, direction) => {\n    setSortState({ column, direction });\n  };\n\n  /* تطبيق الفلاتر والفرز على بيانات الصفحة الحالية\n   * ملاحظة: filters.search يُعالَج في الـ API (ILIKE)، فلا نطبّقه هنا كمطابقة تامّة حتى لا نخفي النتائج عند البحث الجزئي */\n  const filteredMerchants = useMemo(() => {\n    let list = merchants;\n    const toSet = (v) => {\n      const arr = (v || '').split(',').map(s => s.trim()).filter(Boolean);\n      return arr.length ? new Set(arr) : null;\n    };\n    const applyCol = (getVal, filterVal) => {\n      const s = toSet(filterVal);\n      if (s) list = list.filter(m => s.has(String(getVal(m) || '')));\n    };\n    /* merchant_id: فقط من columnFilters (اختيار صريح)، لأن search يُطبَّق في API كـ ILIKE */\n    applyCol(m => m.merchant_id, columnFilters.merchant_id);\n    applyCol(m => m.governorate, columnFilters.governorate || filters.governorate);\n    applyCol(m => m.ministry, columnFilters.ministry || filters.ministry);\n    applyCol(m => m.directorate_name, columnFilters.directorate_name);\n    applyCol(m => m.bank_code || m.bank_name, columnFilters.bank_code || filters.bank_code);\n    applyCol(m => m.settlement_name, columnFilters.settlement_name);\n    applyCol(m => m.commission_type, columnFilters.commission_type || filters.commission_type);\n    applyCol(m => String(m.device_count), columnFilters.device_count);\n    applyCol(m => m.iban, columnFilters.iban);\n    applyCol(m => m.account_number, columnFilters.account_number);\n    applyCol(m => m.branch_name, columnFilters.branch_name);\n\n    /* فرز */\n    if (sortState.column && sortState.direction) {\n      const key = sortState.column;\n      const dir = sortState.direction === 'asc' ? 1 : -1;\n      list = [...list].sort((a, b) => {\n        const va = a[key] ?? '';\n        const vb = b[key] ?? '';\n        if (typeof va === 'number' && typeof vb === 'number') return (va - vb) * dir;\n        return String(va).localeCompare(String(vb)) * dir;\n      });\n    }\n    return list;\n  }, [merchants, filters, columnFilters, sortState]);\n\n  const stats = useMemo(() => {\n    const total = pagination.total || merchants.length || 0;\n    const govCount = merchants.filter(m => m.commission_type === 'حكومي').length;\n    const privateCount = merchants.filter(m => m.commission_type === 'خاص').length;\n    const uniqueGovernorates = new Set(merchants.map(m => m.governorate).filter(Boolean)).size;\n    return { total, govCount, privateCount, uniqueGovernorates };\n  }, [merchants, pagination.total]);\n\n  const hasActiveFilters =\n    Object.values(filters).some(Boolean) ||\n    Object.values(columnFilters).some(Boolean) ||\n    sortState.column;\n\n  const handleExport = async () => {\n    try {\n      const params = new URLSearchParams({\n        page: 1,\n        limit: 100000,\n        ...Object.fromEntries(Object.entries(filters).filter(([_, v]) => v))\n      });\n\n      const response = await api.get(`/merchants?${params.toString()}`);\n      const allMerchants = response.data?.merchants || [];\n\n      if (!allMerchants || allMerchants.length === 0) {\n        toast({\n          title: 'تنبيه',\n          description: 'لا توجد بيانات حالياً للتصدير حسب الفلاتر الحالية',\n          variant: 'warning'\n        });\n        return;\n      }\n\n      const govMerchants = allMerchants.filter(m => m.commission_type === 'حكومي');\n      const privateMerchants = allMerchants.filter(m => m.commission_type === 'خاص');\n\n      const mapExport = (list) =>\n        list.map(m => ({\n          'Merchant ID': m.merchant_id || '',\n          'المحافظة': m.governorate || '',\n          'الوزارة': m.ministry || '',\n          'اسم المديرية': m.directorate_name || '',\n          'التفاصيل': m.details || '',\n          'عدد الأجهزة': m.device_count || 0,\n          'IBAN': m.iban || '',\n          'رقم الحساب': m.account_number || '',\n          'اسم الفرع': m.branch_name || '',\n          'رقم الفرع': m.branch_number || '',\n          'كود المصرف': m.bank_code || '',\n          'اسم المصرف': m.bank_name || '',\n          'اسم التسوية': m.settlement_name || '',\n          'نوع العمولة / القطاع': m.commission_type || ''\n        }));\n\n      const workbook = XLSX.utils.book_new();\n\n      // ورقة لجميع البيانات حسب الفلاتر\n      const allSheet = XLSX.utils.json_to_sheet(mapExport(allMerchants));\n      XLSX.utils.book_append_sheet(workbook, allSheet, 'الكل');\n\n      // ورقة للقطاع الحكومي\n      if (govMerchants.length > 0) {\n        const govSheet = XLSX.utils.json_to_sheet(mapExport(govMerchants));\n        XLSX.utils.book_append_sheet(workbook, govSheet, 'حكومي');\n      }\n\n      // ورقة للقطاع الخاص\n      if (privateMerchants.length > 0) {\n        const privateSheet = XLSX.utils.json_to_sheet(mapExport(privateMerchants));\n        XLSX.utils.book_append_sheet(workbook, privateSheet, 'خاص');\n      }\n\n      const today = new Date().toISOString().slice(0, 10);\n      XLSX.writeFile(workbook, `merchants_${today}.xlsx`);\n\n      toast({\n        title: 'نجح',\n        description: `تم تصدير ${allMerchants.length} تاجر إلى Excel (حسب الفلاتر الحالية)`,\n        variant: 'success'\n      });\n    } catch (error) {\n      console.error('Export error:', error);\n      toast({\n        title: 'خطأ',\n        description: 'حدث خطأ أثناء تصدير البيانات إلى Excel',\n        variant: 'destructive'\n      });\n    }\n  };\n\n  return (\n    <div className=\"min-h-screen\" dir=\"rtl\" style={{ padding: '1.5rem 2rem', background: 'linear-gradient(180deg, #f1f5f9 0%, #e2e8f0 100%)' }}>\n      <div className=\"mx-auto\" style={{ width: '100%', maxWidth: '1400px' }}>\n        {/* هيدر علوي */}\n        <div\n          className=\"page-header-teal rounded-xl flex flex-wrap items-center justify-between gap-4 p-5 mb-6\"\n          style={{ background: 'linear-gradient(135deg, #026174 0%, #068294 100%)', color: '#ffffff', boxShadow: '0 10px 30px rgba(2, 97, 116, 0.35)' }}\n        >\n          <div>\n            <h1 className=\"text-2xl font-bold m-0 text-white\">إدارة التجار</h1>\n            <p className=\"text-sm opacity-90 mt-1 m-0 text-white\">إدارة حسابات الجهات الحكومية والقطاع الخاص، المصارف، وأرقام الحسابات المرتبطة بالتسويات.</p>\n          </div>\n          <div className=\"flex items-center gap-2 flex-wrap\">\n            {canExport && <button type=\"button\" onClick={handleExport} className=\"ds-btn ds-btn-outline px-4 py-2 rounded-full text-sm font-medium bg-white text-[#026174] border-0 shadow\">تصدير إلى Excel</button>}\n            {canImport && <button type=\"button\" onClick={() => setShowImportModal(true)} className=\"ds-btn ds-btn-primary px-4 py-2 rounded-full text-sm font-medium\">استيراد من Excel</button>}\n            {canCreate && <button type=\"button\" onClick={() => { resetForm(); setShowModal(true); }} className=\"ds-btn ds-btn-primary px-4 py-2 rounded-full text-sm font-medium bg-white text-[#026174] border-0 shadow hover:bg-white/95\">إضافة تاجر جديد</button>}\n          </div>\n        </div>\n\n        {/* كروت إحصائيات */}\n        <div className=\"grid gap-4 mb-6\" style={{ gridTemplateColumns: 'repeat(auto-fit, minmax(200px, 1fr))' }}>\n          {[\n            { label: 'إجمالي التجار', value: stats.total, Icon: Users, bg: 'linear-gradient(135deg, #eef9fb 0%, #e4f4f7 100%)', border: '#026174', iconBg: 'linear-gradient(135deg, #068294 0%, #026174 100%)', textColor: '#026174' },\n            { label: 'تجار القطاع الحكومي', value: stats.govCount, Icon: Building2, bg: 'linear-gradient(135deg, #f0fdf4 0%, #dcfce7 100%)', border: '#16a34a', iconBg: 'linear-gradient(135deg, #16a34a 0%, #15803d 100%)', textColor: '#15803d' },\n            { label: 'تجار القطاع الخاص', value: stats.privateCount, Icon: Store, bg: 'linear-gradient(135deg, #fff7ed 0%, #ffedd5 100%)', border: '#ea580c', iconBg: 'linear-gradient(135deg, #ea580c 0%, #c2410c 100%)', textColor: '#c2410c' },\n            { label: 'عدد المحافظات المغطّاة', value: stats.uniqueGovernorates, Icon: MapPin, bg: 'linear-gradient(135deg, #eff6ff 0%, #dbeafe 100%)', border: '#0284c7', iconBg: 'linear-gradient(135deg, #0284c7 0%, #0369a1 100%)', textColor: '#0369a1' },\n          ].map((item, i) => (\n            <div key={i} className=\"rounded-2xl p-5 border-2 relative overflow-hidden transition-all hover:shadow-lg hover:-translate-y-0.5\" style={{ background: item.bg, borderColor: item.border, boxShadow: '0 4px 20px rgba(0,0,0,0.06)' }}>\n              <div className=\"flex items-center gap-3\">\n                <div className=\"w-12 h-12 rounded-xl flex items-center justify-center flex-shrink-0\" style={{ background: item.iconBg }}>\n                  <item.Icon className=\"w-6 h-6 text-white\" strokeWidth={2.5} />\n                </div>\n                <div>\n                  <p className=\"text-xs font-bold m-0 mb-0.5\" style={{ color: 'var(--text-muted)' }}>{item.label}</p>\n                  <p className=\"text-2xl font-extrabold m-0 tabular-nums\" style={{ color: item.textColor }} dir=\"ltr\">{item.value}</p>\n                </div>\n              </div>\n            </div>\n          ))}\n        </div>\n\n        {/* الفلاتر */}\n        <div\n          className=\"rounded-2xl p-5 mb-6 merchants-filter-card\"\n          style={{ background: 'linear-gradient(180deg, #eef9fb 0%, #ffffff 100%)', boxShadow: '0 6px 24px rgba(2, 97, 116, 0.12)', border: '2px solid #b8dce2' }}\n        >\n          <div className=\"flex items-center justify-between gap-4 flex-wrap mb-4\">\n            <div className=\"flex items-center gap-2\">\n              <div className=\"w-9 h-9 rounded-lg flex items-center justify-center\" style={{ background: 'linear-gradient(135deg, #026174 0%, #068294 100%)' }}>\n                <Filter className=\"w-5 h-5 text-white\" strokeWidth={2.5} />\n              </div>\n              <span className=\"text-base font-bold\" style={{ color: '#026174' }}>الفلاتر — إدارة التجار</span>\n            </div>\n            <button\n              type=\"button\"\n              onClick={() => {\n                setFilters({ search: '', governorate: '', ministry: '', bank_code: '', commission_type: '' });\n                setColumnFilters({ merchant_id: '', governorate: '', ministry: '', directorate_name: '', bank_code: '', settlement_name: '', commission_type: '', device_count: '', iban: '', account_number: '', branch_name: '' });\n                setSortState({ column: null, direction: null });\n                setPagination(prev => ({ ...prev, page: 1 }));\n              }}\n              disabled={!hasActiveFilters}\n              className=\"merchants-clear-filters-btn\"\n            >\n              مسح الفلاتر\n            </button>\n          </div>\n          <div className=\"grid gap-4\" style={{ gridTemplateColumns: 'minmax(240px, 2fr) repeat(auto-fit, minmax(160px, 1fr))' }}>\n            <div className=\"merchants-filter-input-wrapper\">\n              <Search className=\"w-5 h-5 text-[#026174] flex-shrink-0\" strokeWidth={2} />\n              <input type=\"text\" placeholder=\"بحث باسم المديرية / Merchant ID / IBAN...\" value={filters.search} onChange={(e) => handleFilterChange('search', e.target.value)} className=\"merchants-filter-input\" />\n            </div>\n            <div className=\"merchants-filter-select-wrapper\">\n              <MapPin className=\"w-4 h-4 text-[#026174] flex-shrink-0\" strokeWidth={2} />\n              <select value={filters.governorate} onChange={(e) => handleFilterChange('governorate', e.target.value)} className=\"merchants-filter-select\">\n                <option value=\"\">جميع المحافظات</option>\n                {filterOptions.governorates?.map(g => <option key={g} value={g}>{g}</option>)}\n              </select>\n            </div>\n            <div className=\"merchants-filter-select-wrapper\">\n              <Building2 className=\"w-4 h-4 text-[#026174] flex-shrink-0\" strokeWidth={2} />\n              <select value={filters.ministry} onChange={(e) => handleFilterChange('ministry', e.target.value)} className=\"merchants-filter-select\">\n                <option value=\"\">جميع الوزارات</option>\n                {filterOptions.ministries?.map(m => <option key={m} value={m}>{m}</option>)}\n              </select>\n            </div>\n            <div className=\"merchants-filter-select-wrapper\">\n              <Landmark className=\"w-4 h-4 text-[#026174] flex-shrink-0\" strokeWidth={2} />\n              <select value={filters.bank_code} onChange={(e) => handleFilterChange('bank_code', e.target.value)} className=\"merchants-filter-select\">\n                <option value=\"\">جميع المصارف</option>\n                {filterOptions.bankCodes?.map(b => <option key={b} value={b}>{b}</option>)}\n              </select>\n            </div>\n            <div className=\"merchants-filter-select-wrapper\">\n              <Briefcase className=\"w-4 h-4 text-[#026174] flex-shrink-0\" strokeWidth={2} />\n              <select value={filters.commission_type} onChange={(e) => handleFilterChange('commission_type', e.target.value)} className=\"merchants-filter-select\">\n                <option value=\"\">كل القطاعات</option>\n                <option value=\"حكومي\">حكومي</option>\n                <option value=\"خاص\">خاص</option>\n              </select>\n            </div>\n          </div>\n        </div>\n\n        {/* Loading */}\n        {loading && merchants.length === 0 && (\n          <div className=\"p-16 flex justify-center\"><Loading message=\"جاري تحميل التجار...\" /></div>\n        )}\n\n        {/* الجدول — التمرير على مستوى الصفحة حتى يلتصق الرأس عند التمرير */}\n        {!loading && (\n          <div\n            className=\"rounded-2xl overflow-hidden merchants-table-container\"\n            style={{ background: 'var(--surface)', boxShadow: 'var(--shadow-card)', border: '2px solid var(--border-card)' }}\n          >\n            <div className=\"merchants-table-scroll overflow-x-auto\" style={{ isolation: 'isolate' }}>\n              {merchants.length === 0 ? (\n                <div className=\"p-16 text-center\">\n                  <p className=\"text-lg font-bold m-0\" style={{ color: 'var(--text-strong)' }}>لا توجد تجار مطابقة لمعايير البحث الحالية</p>\n                  <p className=\"mt-2 text-sm m-0\" style={{ color: 'var(--text-muted)' }}>\n                    جرّب تعديل الفلاتر أو{' '}\n                    <button type=\"button\" onClick={() => { setFilters({ search: '', governorate: '', ministry: '', bank_code: '', commission_type: '' }); setColumnFilters({ merchant_id: '', governorate: '', ministry: '', directorate_name: '', bank_code: '', settlement_name: '', commission_type: '', device_count: '', iban: '', account_number: '', branch_name: '' }); setSortState({ column: null, direction: null }); setPagination(prev => ({ ...prev, page: 1 })); }} className=\"text-[var(--primary-600)] cursor-pointer underline bg-transparent border-0 text-sm\">مسح جميع الفلاتر</button>\n                  </p>\n                </div>\n              ) : (\n                <table className=\"ds-table w-full border-collapse text-sm merchants-table-sticky\" dir=\"rtl\" style={{ minWidth: '1600px' }}>\n                  <thead>\n                    <tr className=\"table-header-dark merchants-sticky-header-row\" style={{ background: 'linear-gradient(135deg, #026174 0%, #068294 100%)' }}>\n                      <th className=\"text-end py-4 px-4 font-bold text-white\"><ColHeader>Merchant ID</ColHeader></th>\n                      <th className=\"text-end py-4 px-4 font-bold text-white\"><ColHeader>المحافظة</ColHeader></th>\n                      <th className=\"text-end py-4 px-4 font-bold text-white\"><ColHeader>الوزارة</ColHeader></th>\n                      <th className=\"text-end py-4 px-4 font-bold text-white\"><ColHeader>اسم المديرية</ColHeader></th>\n                      <th className=\"text-end py-4 px-4 font-bold text-white\"><ColHeader>التفاصيل</ColHeader></th>\n                      <th className=\"text-end py-4 px-4 font-bold text-white\"><ColHeader>المصرف</ColHeader></th>\n                      <th className=\"text-end py-4 px-4 font-bold text-white\"><ColHeader>اسم التسوية</ColHeader></th>\n                      <th className=\"text-end py-4 px-4 font-bold text-white\"><ColHeader>نوع القطاع</ColHeader></th>\n                      <th className=\"text-center py-4 px-4 font-bold text-white\"><ColHeader>عدد الأجهزة</ColHeader></th>\n                      <th className=\"text-end py-4 px-4 font-bold text-white\"><ColHeader>IBAN</ColHeader></th>\n                      <th className=\"text-end py-4 px-4 font-bold text-white\"><ColHeader>رقم الحساب</ColHeader></th>\n                      <th className=\"text-end py-4 px-4 font-bold text-white\"><ColHeader>اسم الفرع</ColHeader></th>\n                      <th className=\"text-center py-4 px-4 font-bold text-white\">الإجراءات</th>\n                    </tr>\n                    {/* صف الفلاتر — نمط Excel: فرز، بحث، تحديد متعدد، تطبيق تلقائي */}\n                    <tr className=\"excel-filter-row merchants-sticky-filter-row\">\n                      <th className=\"excel-filter-cell\">\n                        <ExcelColumnFilter\n                          columnKey=\"merchant_id\"\n                          columnLabel=\"Merchant ID\"\n                          options={filterOptions.merchantIds || []}\n                          value={columnFilters.merchant_id || filters.search}\n                          onChange={(v) => { setColumnFilters(p => ({ ...p, merchant_id: v })); setFilters(p => ({ ...p, search: (v || '').split(',')[0]?.trim() || '' })); setPagination(p => ({ ...p, page: 1 })); }}\n                          sortDirection={sortState.column === 'merchant_id' ? sortState.direction : null}\n                          onSortChange={(d) => handleSortChange(d ? 'merchant_id' : null, d)}\n                          trigger={<FilterTrigger value={columnFilters.merchant_id || filters.search} label=\"الكل\" />}\n                        />\n                      </th>\n                      <th className=\"excel-filter-cell\">\n                        <ExcelColumnFilter\n                          columnKey=\"governorate\"\n                          columnLabel=\"المحافظة\"\n                          options={filterOptions.governorates || []}\n                          value={columnFilters.governorate || filters.governorate}\n                          onChange={(v) => handleColumnFilterChange('governorate', v)}\n                          sortDirection={sortState.column === 'governorate' ? sortState.direction : null}\n                          onSortChange={(d) => handleSortChange(d ? 'governorate' : null, d)}\n                          trigger={<FilterTrigger value={columnFilters.governorate || filters.governorate} label=\"الكل\" />}\n                        />\n                      </th>\n                      <th className=\"excel-filter-cell\">\n                        <ExcelColumnFilter\n                          columnKey=\"ministry\"\n                          columnLabel=\"الوزارة\"\n                          options={filterOptions.ministries || []}\n                          value={columnFilters.ministry || filters.ministry}\n                          onChange={(v) => handleColumnFilterChange('ministry', v)}\n                          sortDirection={sortState.column === 'ministry' ? sortState.direction : null}\n                          onSortChange={(d) => handleSortChange(d ? 'ministry' : null, d)}\n                          trigger={<FilterTrigger value={columnFilters.ministry || filters.ministry} label=\"الكل\" />}\n                        />\n                      </th>\n                      <th className=\"excel-filter-cell\">\n                        <ExcelColumnFilter\n                          columnKey=\"directorate_name\"\n                          columnLabel=\"اسم المديرية\"\n                          options={filterOptions.directorates || []}\n                          value={columnFilters.directorate_name}\n                          onChange={(v) => handleColumnFilterChange('directorate_name', v)}\n                          sortDirection={sortState.column === 'directorate_name' ? sortState.direction : null}\n                          onSortChange={(d) => handleSortChange(d ? 'directorate_name' : null, d)}\n                          trigger={<FilterTrigger value={columnFilters.directorate_name} label=\"الكل\" />}\n                        />\n                      </th>\n                      <th className=\"excel-filter-cell\" />\n                      <th className=\"excel-filter-cell\">\n                        <ExcelColumnFilter\n                          columnKey=\"bank_code\"\n                          columnLabel=\"المصرف\"\n                          options={filterOptions.bankCodes || []}\n                          value={columnFilters.bank_code || filters.bank_code}\n                          onChange={(v) => handleColumnFilterChange('bank_code', v)}\n                          sortDirection={sortState.column === 'bank_code' ? sortState.direction : null}\n                          onSortChange={(d) => handleSortChange(d ? 'bank_code' : null, d)}\n                          trigger={<FilterTrigger value={columnFilters.bank_code || filters.bank_code} label=\"الكل\" />}\n                        />\n                      </th>\n                      <th className=\"excel-filter-cell\">\n                        <ExcelColumnFilter\n                          columnKey=\"settlement_name\"\n                          columnLabel=\"اسم التسوية\"\n                          options={filterOptions.settlements || []}\n                          value={columnFilters.settlement_name}\n                          onChange={(v) => handleColumnFilterChange('settlement_name', v)}\n                          sortDirection={sortState.column === 'settlement_name' ? sortState.direction : null}\n                          onSortChange={(d) => handleSortChange(d ? 'settlement_name' : null, d)}\n                          trigger={<FilterTrigger value={columnFilters.settlement_name} label=\"الكل\" />}\n                        />\n                      </th>\n                      <th className=\"excel-filter-cell\">\n                        <ExcelColumnFilter\n                          columnKey=\"commission_type\"\n                          columnLabel=\"نوع القطاع\"\n                          options={['حكومي', 'خاص']}\n                          value={columnFilters.commission_type || filters.commission_type}\n                          onChange={(v) => handleColumnFilterChange('commission_type', v)}\n                          sortDirection={sortState.column === 'commission_type' ? sortState.direction : null}\n                          onSortChange={(d) => handleSortChange(d ? 'commission_type' : null, d)}\n                          trigger={<FilterTrigger value={columnFilters.commission_type || filters.commission_type} label=\"الكل\" />}\n                        />\n                      </th>\n                      <th className=\"excel-filter-cell\">\n                        <ExcelColumnFilter\n                          columnKey=\"device_count\"\n                          columnLabel=\"عدد الأجهزة\"\n                          options={filterOptions.deviceCounts || []}\n                          value={columnFilters.device_count}\n                          onChange={(v) => handleColumnFilterChange('device_count', v)}\n                          sortDirection={sortState.column === 'device_count' ? sortState.direction : null}\n                          onSortChange={(d) => handleSortChange(d ? 'device_count' : null, d)}\n                          trigger={<FilterTrigger value={columnFilters.device_count} label=\"الكل\" />}\n                        />\n                      </th>\n                      <th className=\"excel-filter-cell\">\n                        <ExcelColumnFilter\n                          columnKey=\"iban\"\n                          columnLabel=\"IBAN\"\n                          options={filterOptions.ibans || []}\n                          value={columnFilters.iban}\n                          onChange={(v) => handleColumnFilterChange('iban', v)}\n                          sortDirection={sortState.column === 'iban' ? sortState.direction : null}\n                          onSortChange={(d) => handleSortChange(d ? 'iban' : null, d)}\n                          trigger={<FilterTrigger value={columnFilters.iban} label=\"الكل\" />}\n                        />\n                      </th>\n                      <th className=\"excel-filter-cell\">\n                        <ExcelColumnFilter\n                          columnKey=\"account_number\"\n                          columnLabel=\"رقم الحساب\"\n                          options={filterOptions.accountNumbers || []}\n                          value={columnFilters.account_number}\n                          onChange={(v) => handleColumnFilterChange('account_number', v)}\n                          sortDirection={sortState.column === 'account_number' ? sortState.direction : null}\n                          onSortChange={(d) => handleSortChange(d ? 'account_number' : null, d)}\n                          trigger={<FilterTrigger value={columnFilters.account_number} label=\"الكل\" />}\n                        />\n                      </th>\n                      <th className=\"excel-filter-cell\">\n                        <ExcelColumnFilter\n                          columnKey=\"branch_name\"\n                          columnLabel=\"اسم الفرع\"\n                          options={filterOptions.branches || []}\n                          value={columnFilters.branch_name}\n                          onChange={(v) => handleColumnFilterChange('branch_name', v)}\n                          sortDirection={sortState.column === 'branch_name' ? sortState.direction : null}\n                          onSortChange={(d) => handleSortChange(d ? 'branch_name' : null, d)}\n                          trigger={<FilterTrigger value={columnFilters.branch_name} label=\"الكل\" />}\n                        />\n                      </th>\n                      <th className=\"excel-filter-cell\" />\n                    </tr>\n                  </thead>\n                  <tbody>\n                    {filteredMerchants.length === 0 ? (\n                      <tr>\n                        <td colSpan={13} className=\"py-8 text-center\" style={{ color: 'var(--text-muted)' }}>لا توجد صفوف مطابقة للفلاتر</td>\n                      </tr>\n                    ) : filteredMerchants.map((merchant, idx) => {\n                      const isGov = merchant.commission_type === 'حكومي';\n                      return (\n                        <tr key={merchant.id} className={`${idx % 2 === 0 ? 'bg-white' : 'bg-slate-50/50'} hover:bg-slate-50/80 transition-colors`} style={{ borderBottom: '1px solid var(--border)' }}>\n                          <td className=\"py-3 px-4\" style={{ color: 'var(--text)' }}>{merchant.merchant_id}</td>\n                          <td className=\"py-3 px-4\" style={{ color: 'var(--text)' }}>{merchant.governorate || '-'}</td>\n                          <td className=\"py-3 px-4\" style={{ color: 'var(--text)' }}>{merchant.ministry || '-'}</td>\n                          <td className=\"py-3 px-4 max-w-[260px]\" style={{ color: 'var(--text)' }}>{merchant.directorate_name || '-'}</td>\n                          <td className=\"py-3 px-4 max-w-[220px] truncate\" style={{ color: 'var(--text)' }} title={merchant.details || undefined}>{merchant.details || '-'}</td>\n                          <td className=\"py-3 px-4\" style={{ color: 'var(--text)' }}>{merchant.bank_name || merchant.bank_code || '-'}</td>\n                          <td className=\"py-3 px-4 max-w-[260px]\" style={{ color: 'var(--text)' }}>{merchant.settlement_name || '-'}</td>\n                          <td className=\"py-3 px-4 font-semibold\" style={{ color: isGov ? 'var(--success)' : '#b45309' }}>{merchant.commission_type || '-'}</td>\n                          <td className=\"py-3 px-4 text-center\" style={{ color: 'var(--text)' }}>{merchant.device_count || 0}</td>\n                          <td className=\"py-3 px-4 font-mono text-sm\" style={{ color: 'var(--text)' }} dir=\"ltr\">{merchant.iban || '-'}</td>\n                          <td className=\"py-3 px-4\" style={{ color: 'var(--text)' }}>{merchant.account_number || '-'}</td>\n                          <td className=\"py-3 px-4\" style={{ color: 'var(--text)' }}>{merchant.branch_name || '-'}</td>\n                          <td className=\"py-3 px-4\">\n                            <div className=\"flex justify-center gap-2\">\n                              <button type=\"button\" onClick={() => handleEdit(merchant)} className=\"ds-btn ds-btn-primary px-3 py-1.5 rounded-lg text-sm\">تعديل</button>\n                              <button type=\"button\" onClick={() => handleDelete(merchant.id)} className=\"px-3 py-1.5 rounded-lg text-sm font-medium bg-red-100 text-red-700 hover:bg-red-200 border-0 cursor-pointer\">حذف</button>\n                            </div>\n                          </td>\n                        </tr>\n                      );\n                    })}\n                  </tbody>\n                </table>\n              )}\n            </div>\n            {pagination.totalPages > 1 && (\n              <div className=\"px-4 py-3 border-t flex justify-between items-center text-sm\" style={{ borderColor: 'var(--border-card)', background: 'linear-gradient(180deg, #f8fafc 0%, #f1f5f9 100%)' }}>\n                <span style={{ color: 'var(--text-muted)' }} dir=\"ltr\">الصفحة {pagination.page} من {pagination.totalPages} – إجمالي {pagination.total} تاجر</span>\n                <div className=\"flex gap-2\">\n                  <button type=\"button\" onClick={() => setPagination(prev => ({ ...prev, page: prev.page - 1 }))} disabled={pagination.page === 1} className=\"ds-btn ds-btn-outline px-3 py-2 rounded-lg disabled:opacity-50\">السابق</button>\n                  <button type=\"button\" onClick={() => setPagination(prev => ({ ...prev, page: prev.page + 1 }))} disabled={pagination.page === pagination.totalPages} className=\"ds-btn ds-btn-outline px-3 py-2 rounded-lg disabled:opacity-50\">التالي</button>\n                </div>\n              </div>\n            )}\n          </div>\n        )}\n\n      {/* Add/Edit Modal — نموذج أنيق بتقسيمات واضحة */}\n      {showModal && (\n        <div className=\"fixed inset-0 z-50 flex items-center justify-center p-4 backdrop-blur-md animate-in fade-in duration-200\" style={{ background: 'rgba(2, 97, 116, 0.15)' }}>\n          <div className=\"rounded-2xl shadow-2xl max-w-3xl w-full max-h-[90vh] overflow-hidden flex flex-col animate-in zoom-in-95 duration-200\" style={{ background: 'var(--surface)', border: '2px solid var(--border-card)', boxShadow: '0 25px 50px -12px rgba(2, 97, 116, 0.25)' }}>\n            {/* هيدر بتدرج teal */}\n            <div className=\"flex items-center justify-between px-6 py-5 rounded-t-2xl shrink-0\" style={{ background: 'linear-gradient(135deg, #026174 0%, #068294 100%)' }}>\n              <h2 className=\"text-xl font-bold m-0 text-white flex items-center gap-3\">\n                <span className=\"w-10 h-10 rounded-xl flex items-center justify-center\" style={{ background: 'rgba(255,255,255,0.2)' }}>\n                  <Building2 className=\"w-5 h-5 text-white\" />\n                </span>\n                {editingMerchant ? 'تعديل تاجر' : 'إضافة تاجر جديد'}\n              </h2>\n              <button type=\"button\" onClick={() => { setShowModal(false); resetForm(); }} className=\"w-10 h-10 rounded-xl flex items-center justify-center text-white hover:bg-white/20 transition-colors\" aria-label=\"إغلاق\">\n                <X className=\"w-5 h-5\" />\n              </button>\n            </div>\n\n            <form onSubmit={handleSubmit} className=\"flex flex-col flex-1 min-h-0 overflow-y-auto\">\n              <div className=\"p-6 space-y-6\">\n                {/* قسم البيانات الأساسية */}\n                <div className=\"rounded-xl p-5 border-2\" style={{ borderColor: 'var(--border-card)', background: 'linear-gradient(180deg, #fafbfc 0%, #ffffff 100%)' }}>\n                  <div className=\"flex items-center gap-2 mb-4\">\n                    <Building2 className=\"w-5 h-5\" style={{ color: 'var(--primary-600)' }} />\n                    <h3 className=\"text-base font-bold m-0\" style={{ color: 'var(--text-strong)' }}>البيانات الأساسية</h3>\n                  </div>\n                  <div className=\"grid gap-4\" style={{ gridTemplateColumns: 'repeat(2, 1fr)' }}>\n                    <div>\n                      <label className=\"block text-sm font-semibold mb-1.5\" style={{ color: 'var(--text-strong)' }}>Merchant ID <span className=\"text-red-500\">*</span></label>\n                      <input type=\"text\" required value={formData.merchant_id} onChange={(e) => setFormData({ ...formData, merchant_id: e.target.value })} className=\"ds-input w-full py-2.5 px-4 rounded-xl border-2 focus:border-[#026174] focus:ring-2 focus:ring-[#026174]/20 transition-all\" placeholder=\"مثال: GOVEDU111111111\" />\n                    </div>\n                    <div>\n                      <label className=\"block text-sm font-semibold mb-1.5\" style={{ color: 'var(--text-strong)' }}>المحافظة</label>\n                      <input type=\"text\" value={formData.governorate} onChange={(e) => setFormData({ ...formData, governorate: e.target.value })} className=\"ds-input w-full py-2.5 px-4 rounded-xl border-2 focus:border-[#026174] focus:ring-2 focus:ring-[#026174]/20 transition-all\" />\n                    </div>\n                    <div>\n                      <label className=\"block text-sm font-semibold mb-1.5\" style={{ color: 'var(--text-strong)' }}>الوزارة</label>\n                      <input type=\"text\" value={formData.ministry} onChange={(e) => setFormData({ ...formData, ministry: e.target.value })} className=\"ds-input w-full py-2.5 px-4 rounded-xl border-2 focus:border-[#026174] focus:ring-2 focus:ring-[#026174]/20 transition-all\" />\n                    </div>\n                    <div>\n                      <label className=\"block text-sm font-semibold mb-1.5\" style={{ color: 'var(--text-strong)' }}>اسم المديرية</label>\n                      <input type=\"text\" value={formData.directorate_name} onChange={(e) => setFormData({ ...formData, directorate_name: e.target.value })} className=\"ds-input w-full py-2.5 px-4 rounded-xl border-2 focus:border-[#026174] focus:ring-2 focus:ring-[#026174]/20 transition-all\" />\n                    </div>\n                    <div className=\"col-span-2\">\n                      <label className=\"block text-sm font-semibold mb-1.5\" style={{ color: 'var(--text-strong)' }}>التفاصيل</label>\n                      <textarea value={formData.details} onChange={(e) => setFormData({ ...formData, details: e.target.value })} className=\"ds-input w-full py-2.5 px-4 rounded-xl min-h-[88px] border-2 focus:border-[#026174] focus:ring-2 focus:ring-[#026174]/20 transition-all resize-none\" rows={3} />\n                    </div>\n                    <div>\n                      <label className=\"block text-sm font-semibold mb-1.5\" style={{ color: 'var(--text-strong)' }}>عدد الأجهزة</label>\n                      <input type=\"number\" min={0} value={formData.device_count} onChange={(e) => setFormData({ ...formData, device_count: parseInt(e.target.value) || 0 })} className=\"ds-input w-full py-2.5 px-4 rounded-xl border-2 focus:border-[#026174] focus:ring-2 focus:ring-[#026174]/20 transition-all\" dir=\"ltr\" />\n                    </div>\n                    <div>\n                      <label className=\"block text-sm font-semibold mb-1.5\" style={{ color: 'var(--text-strong)' }}>نوع العمولة</label>\n                      <select value={formData.commission_type} onChange={(e) => setFormData({ ...formData, commission_type: e.target.value })} className=\"ds-input w-full py-2.5 px-4 rounded-xl border-2 focus:border-[#026174] focus:ring-2 focus:ring-[#026174]/20 transition-all\">\n                        <option value=\"حكومي\">حكومي</option>\n                        <option value=\"خاص\">خاص</option>\n                      </select>\n                    </div>\n                  </div>\n                </div>\n\n                {/* قسم البيانات المصرفية */}\n                <div className=\"rounded-xl p-5 border-2\" style={{ borderColor: 'var(--border-card)', background: 'linear-gradient(180deg, #fafbfc 0%, #ffffff 100%)' }}>\n                  <div className=\"flex items-center gap-2 mb-4\">\n                    <Landmark className=\"w-5 h-5\" style={{ color: 'var(--primary-600)' }} />\n                    <h3 className=\"text-base font-bold m-0\" style={{ color: 'var(--text-strong)' }}>البيانات المصرفية</h3>\n                  </div>\n                  <div className=\"grid gap-4\" style={{ gridTemplateColumns: 'repeat(2, 1fr)' }}>\n                    <div className=\"col-span-2\">\n                      <label className=\"block text-sm font-semibold mb-1.5\" style={{ color: 'var(--text-strong)' }}>IBAN</label>\n                      <input type=\"text\" value={formData.iban} onChange={(e) => setFormData({ ...formData, iban: e.target.value })} className=\"ds-input w-full py-2.5 px-4 rounded-xl border-2 focus:border-[#026174] focus:ring-2 focus:ring-[#026174]/20 transition-all font-mono\" dir=\"ltr\" placeholder=\"IQ...\" />\n                    </div>\n                    <div>\n                      <label className=\"block text-sm font-semibold mb-1.5\" style={{ color: 'var(--text-strong)' }}>رقم الحساب</label>\n                      <input type=\"text\" value={formData.account_number} onChange={(e) => setFormData({ ...formData, account_number: e.target.value })} className=\"ds-input w-full py-2.5 px-4 rounded-xl border-2 focus:border-[#026174] focus:ring-2 focus:ring-[#026174]/20 transition-all\" dir=\"ltr\" />\n                    </div>\n                    <div>\n                      <label className=\"block text-sm font-semibold mb-1.5\" style={{ color: 'var(--text-strong)' }}>كود المصرف</label>\n                      <input type=\"text\" value={formData.bank_code} onChange={(e) => setFormData({ ...formData, bank_code: e.target.value })} className=\"ds-input w-full py-2.5 px-4 rounded-xl border-2 focus:border-[#026174] focus:ring-2 focus:ring-[#026174]/20 transition-all\" />\n                    </div>\n                    <div>\n                      <label className=\"block text-sm font-semibold mb-1.5\" style={{ color: 'var(--text-strong)' }}>اسم المصرف</label>\n                      <input type=\"text\" value={formData.bank_name} onChange={(e) => setFormData({ ...formData, bank_name: e.target.value })} className=\"ds-input w-full py-2.5 px-4 rounded-xl border-2 focus:border-[#026174] focus:ring-2 focus:ring-[#026174]/20 transition-all\" />\n                    </div>\n                    <div>\n                      <label className=\"block text-sm font-semibold mb-1.5\" style={{ color: 'var(--text-strong)' }}>اسم الفرع</label>\n                      <input type=\"text\" value={formData.branch_name} onChange={(e) => setFormData({ ...formData, branch_name: e.target.value })} className=\"ds-input w-full py-2.5 px-4 rounded-xl border-2 focus:border-[#026174] focus:ring-2 focus:ring-[#026174]/20 transition-all\" />\n                    </div>\n                    <div>\n                      <label className=\"block text-sm font-semibold mb-1.5\" style={{ color: 'var(--text-strong)' }}>رقم الفرع</label>\n                      <input type=\"text\" value={formData.branch_number} onChange={(e) => setFormData({ ...formData, branch_number: e.target.value })} className=\"ds-input w-full py-2.5 px-4 rounded-xl border-2 focus:border-[#026174] focus:ring-2 focus:ring-[#026174]/20 transition-all\" dir=\"ltr\" />\n                    </div>\n                    <div className=\"col-span-2\">\n                      <label className=\"block text-sm font-semibold mb-1.5\" style={{ color: 'var(--text-strong)' }}>اسم التسوية</label>\n                      <input type=\"text\" value={formData.settlement_name} onChange={(e) => setFormData({ ...formData, settlement_name: e.target.value })} className=\"ds-input w-full py-2.5 px-4 rounded-xl border-2 focus:border-[#026174] focus:ring-2 focus:ring-[#026174]/20 transition-all\" />\n                    </div>\n                  </div>\n                </div>\n\n                {/* قسم الملاحظات */}\n                <div className=\"rounded-xl p-5 border-2\" style={{ borderColor: 'var(--border-card)', background: 'linear-gradient(180deg, #fafbfc 0%, #ffffff 100%)' }}>\n                  <div className=\"flex items-center gap-2 mb-4\">\n                    <FileText className=\"w-5 h-5\" style={{ color: 'var(--primary-600)' }} />\n                    <h3 className=\"text-base font-bold m-0\" style={{ color: 'var(--text-strong)' }}>ملاحظات إضافية</h3>\n                  </div>\n                  <textarea value={formData.notes} onChange={(e) => setFormData({ ...formData, notes: e.target.value })} className=\"ds-input w-full py-2.5 px-4 rounded-xl min-h-[88px] border-2 focus:border-[#026174] focus:ring-2 focus:ring-[#026174]/20 transition-all resize-none\" rows={3} placeholder=\"أي ملاحظات أو تفاصيل إضافية...\" />\n                </div>\n              </div>\n\n              {/* أزرار التذييل */}\n              <div className=\"flex gap-3 justify-end px-6 py-4 border-t shrink-0\" style={{ borderColor: 'var(--border-card)', background: 'linear-gradient(180deg, #f8fafc 0%, #f1f5f9 100%)' }}>\n                <button type=\"button\" onClick={() => { setShowModal(false); resetForm(); }} className=\"ds-btn ds-btn-outline px-5 py-2.5 rounded-xl font-semibold\">إلغاء</button>\n                <button type=\"submit\" className=\"ds-btn ds-btn-primary px-6 py-2.5 rounded-xl font-semibold shadow-lg\" style={{ background: 'linear-gradient(135deg, #026174 0%, #068294 100%)' }}>{editingMerchant ? 'تحديث التاجر' : 'إضافة التاجر'}</button>\n              </div>\n            </form>\n          </div>\n        </div>\n      )}\n\n      {/* Import Modal */}\n      {showImportModal && (\n        <div className=\"fixed inset-0 z-50 flex items-center justify-center p-4 backdrop-blur-sm\" style={{ background: 'rgba(2, 97, 116, 0.2)' }}>\n          <div className=\"rounded-2xl shadow-2xl max-w-[900px] w-[90%] max-h-[90vh] overflow-y-auto\" style={{ background: 'var(--surface)', border: '2px solid var(--border-card)' }}>\n            <div className=\"rounded-t-2xl py-4 px-6\" style={{ background: 'linear-gradient(135deg, #026174 0%, #068294 100%)' }}>\n              <h2 className=\"text-xl font-bold m-0 text-white\">استيراد بيانات التجار من ملف Excel</h2>\n            </div>\n            <div className=\"p-6\">\n            {!importPreview ? (\n              <>\n                <div className=\"rounded-xl p-4 mb-6\" style={{ background: 'var(--bg)', border: '1px solid var(--border-card)' }}>\n                  <h3 className=\"text-base font-bold m-0 mb-2\" style={{ color: 'var(--text-strong)' }}>تعليمات الاستيراد:</h3>\n                  <ul className=\"m-0 pr-5 text-sm\" style={{ color: 'var(--text-muted)' }}>\n                    <li>يرجى رفع ملف Excel (.xlsx, .xls) أو CSV</li>\n                    <li>يجب أن يحتوي الملف على عمود <strong>Merchant ID</strong> (معرف التاجر)</li>\n                    <li>لا يمكن تكرار Merchant ID - سيتم رفض التكرارات تلقائياً</li>\n                    <li>السطر الأول يجب أن يحتوي على عناوين الأعمدة</li>\n                  </ul>\n                </div>\n                <label className=\"block text-sm font-semibold mb-2\" style={{ color: 'var(--text-strong)' }}>اختر ملف Excel:</label>\n                <input\n                  ref={fileInputRef}\n                  type=\"file\"\n                  accept=\".xlsx,.xls,.csv\"\n                  onChange={handleFileUpload}\n                  className=\"w-full py-3 px-4 rounded-xl cursor-pointer border-2 border-dashed\"\n                  style={{ borderColor: 'var(--primary-600)', background: 'var(--bg)' }}\n                />\n              </>\n            ) : (\n              <>\n                <div className=\"rounded-xl p-4 mb-6 border-2\" style={{ background: 'var(--surface)', borderColor: 'var(--success)' }}>\n                  <h3 className=\"text-base font-bold m-0 mb-3\" style={{ color: 'var(--text-strong)' }}>معاينة البيانات:</h3>\n                  <div className=\"grid gap-4\" style={{ gridTemplateColumns: 'repeat(3, 1fr)' }}>\n                    <div className=\"rounded-xl p-3 border\" style={{ borderColor: 'var(--border-card)', background: 'var(--bg)' }}>\n                      <p className=\"text-xs font-bold m-0 mb-1\" style={{ color: 'var(--text-muted)' }}>إجمالي الصفوف</p>\n                      <p className=\"text-xl font-extrabold m-0 tabular-nums\" style={{ color: 'var(--primary-600)' }} dir=\"ltr\">{importPreview.total}</p>\n                    </div>\n                    <div className=\"rounded-xl p-3 border\" style={{ borderColor: 'var(--border-card)', background: 'var(--bg)' }}>\n                      <p className=\"text-xs font-bold m-0 mb-1\" style={{ color: 'var(--text-muted)' }}>سيتم استيرادها</p>\n                      <p className=\"text-xl font-extrabold m-0 tabular-nums\" style={{ color: 'var(--success)' }} dir=\"ltr\">{importPreview.unique}</p>\n                    </div>\n                    <div className=\"rounded-xl p-3 border\" style={{ borderColor: 'var(--border-card)', background: 'var(--bg)' }}>\n                      <p className=\"text-xs font-bold m-0 mb-1\" style={{ color: 'var(--text-muted)' }}>تكرارات (مرفوضة)</p>\n                      <p className=\"text-xl font-extrabold m-0 tabular-nums text-red-600\" dir=\"ltr\">{importPreview.duplicates}</p>\n                    </div>\n                  </div>\n                </div>\n\n                {importPreview.merchants.length > 0 && (\n                  <div className=\"rounded-xl overflow-hidden border-2 mb-6 max-h-[300px] overflow-y-auto\" style={{ borderColor: 'var(--border-card)' }}>\n                    <table className=\"ds-table w-full border-collapse text-sm\">\n                      <thead>\n                        <tr className=\"table-header-dark\" style={{ background: 'linear-gradient(135deg, #026174 0%, #068294 100%)' }}>\n                          <th className=\"text-end py-3 px-4 font-bold text-white\">Merchant ID</th>\n                          <th className=\"text-end py-3 px-4 font-bold text-white\">المحافظة</th>\n                          <th className=\"text-end py-3 px-4 font-bold text-white\">الوزارة</th>\n                          <th className=\"text-end py-3 px-4 font-bold text-white\">اسم المديرية</th>\n                        </tr>\n                      </thead>\n                      <tbody>\n                        {importPreview.merchants.slice(0, 10).map((merchant, idx) => {\n                          const merchantIdHeader = importPreview.headers.find(h => h && (h.toLowerCase().includes('merchant') && h.toLowerCase().includes('id'))) || 'Merchant ID';\n                          const merchantId = merchant[merchantIdHeader] || merchant['Merchant ID'] || merchant['merchant_id'];\n                          return (\n                            <tr key={idx} className={idx % 2 === 0 ? 'bg-white' : 'bg-slate-50/50'} style={{ borderBottom: '1px solid var(--border)' }}>\n                              <td className=\"py-2 px-4\" style={{ color: 'var(--text)' }}>{merchantId}</td>\n                              <td className=\"py-2 px-4\" style={{ color: 'var(--text)' }}>{merchant['المحافظة'] || merchant['governorate'] || '-'}</td>\n                              <td className=\"py-2 px-4\" style={{ color: 'var(--text)' }}>{merchant['الوزارة'] || merchant['ministry'] || '-'}</td>\n                              <td className=\"py-2 px-4\" style={{ color: 'var(--text)' }}>{merchant['اسم المديرية'] || merchant['directorate_name'] || '-'}</td>\n                            </tr>\n                          );\n                        })}\n                      </tbody>\n                    </table>\n                    {importPreview.merchants.length > 10 && (\n                      <div className=\"py-2 text-center text-sm\" style={{ color: 'var(--text-muted)' }}>... و {importPreview.merchants.length - 10} صف إضافي</div>\n                    )}\n                  </div>\n                )}\n              </>\n            )}\n\n            <div className=\"flex gap-3 justify-end mt-6\">\n              <button\n                type=\"button\"\n                onClick={() => { setShowImportModal(false); setImportPreview(null); if (fileInputRef.current) fileInputRef.current.value = ''; }}\n                disabled={importing}\n                className=\"ds-btn ds-btn-outline px-4 py-2.5 rounded-xl disabled:opacity-50\"\n              >\n                {importPreview ? 'إلغاء' : 'إغلاق'}\n              </button>\n              {importPreview && (\n                <>\n                  <button type=\"button\" onClick={() => { setImportPreview(null); if (fileInputRef.current) fileInputRef.current.value = ''; }} disabled={importing} className=\"ds-btn ds-btn-outline px-4 py-2.5 rounded-xl disabled:opacity-50\">رفع ملف آخر</button>\n                  <button type=\"button\" onClick={handleImport} disabled={importing} className=\"ds-btn ds-btn-primary px-4 py-2.5 rounded-xl disabled:opacity-50\">{importing ? 'جاري الاستيراد...' : `استيراد ${importPreview.unique} تاجر`}</button>\n                </>\n              )}\n            </div>\n            </div>\n          </div>\n        </div>\n      )}\n      </div>\n    </div>\n  );\n};\n\nexport default Merchants;\n"],"names":["Landmark","createLucideIcon","x1","x2","y1","y2","key","points","useHasPermission","pageKey","actionKey","user","useAuthStore","s","hasPermission","permissions","role","Filter","Search","cx","cy","r","d","Building2","Loading","_ref","message","_jsxs","className","children","_jsx","ChevronDown","API_URL","process","REACT_APP_API_URL","api","axios","create","baseURL","headers","interceptors","request","use","config","token","localStorage","getItem","Authorization","concat","data","FormData","error","Promise","reject","response","_error$response","_error$config","_error$config$url","status","url","includes","removeItem","window","location","href","MapPin","Briefcase","width","height","x","y","rx","ry","ArrowDownAZ","ArrowUpAZ","FILTER_CONDITIONS","value","label","ExcelColumnFilter","columnKey","columnLabel","options","onChange","sortDirection","onSortChange","trigger","open","setOpen","React","search","setSearch","condition","setCondition","autoApply","setAutoApply","draft","setDraft","containerRef","selectAllRef","selectedSet","split","map","trim","filter","Boolean","Set","filteredOptions","list","q","toLowerCase","opt","v","startsWith","selectAllChecked","length","every","has","selectAllIndeterminate","some","current","indeterminate","ref","cn","onClick","_Fragment","style","left","top","type","placeholder","e","target","c","checked","toggleSelectAll","next","forEach","o","delete","newVal","join","add","toggleOption","handleApply","background","handleClear","ColHeader","strokeWidth","FilterTrigger","_ref2","count","hasFilter","Merchants","_filterOptions$govern","_filterOptions$minist","_filterOptions$bankCo","merchants","setMerchants","useState","loading","setLoading","pagination","setPagination","page","limit","total","totalPages","filters","setFilters","governorate","ministry","bank_code","commission_type","columnFilters","setColumnFilters","merchant_id","directorate_name","settlement_name","device_count","iban","account_number","branch_name","sortState","setSortState","column","direction","filterOptions","setFilterOptions","governorates","ministries","bankCodes","merchantIds","directorates","settlements","deviceCounts","ibans","accountNumbers","branches","toast","useToast","canCreate","canImport","canExport","showModal","setShowModal","showImportModal","setShowImportModal","editingMerchant","setEditingMerchant","importing","setImporting","importPreview","setImportPreview","fileInputRef","useRef","formData","setFormData","details","account_key","branch_number","bank_name","bank_name_alt","iban_length_check","notes","useEffect","fetchMerchants","fetchFilterOptions","async","_response$data","_response$data2","apiParams","_objectSpread","Object","fromEntries","entries","_ref3","_","params","URLSearchParams","_ref4","get","_error$response$data","_error$response2","_error$response2$data","console","msg","hint","title","description","variant","resetForm","handleFilterChange","prev","handleColumnFilterChange","_split$","first","_split$2","handleSortChange","filteredMerchants","useMemo","applyCol","getVal","filterVal","arr","toSet","m","String","dir","sort","a","b","_a$key","_b$key","va","vb","localeCompare","stats","govCount","privateCount","uniqueGovernorates","size","hasActiveFilters","values","padding","maxWidth","color","boxShadow","_response$data3","_ref5","allMerchants","toString","govMerchants","privateMerchants","mapExport","workbook","XLSX","book_new","allSheet","json_to_sheet","book_append_sheet","govSheet","privateSheet","today","Date","toISOString","slice","gridTemplateColumns","Icon","Users","bg","border","iconBg","textColor","Store","item","i","borderColor","disabled","g","isolation","minWidth","p","_split$3","colSpan","merchant","idx","isGov","borderBottom","undefined","handleEdit","confirm","id","_error$response4","_error$response4$data","handleDelete","X","onSubmit","preventDefault","put","post","_error$response3","_error$response3$data","required","rows","min","parseInt","FileText","unique","duplicates","merchantId","find","h","accept","file","files","fileExtension","name","pop","reader","FileReader","onload","event","Uint8Array","result","firstSheetName","SheetNames","worksheet","Sheets","jsonData","sheet_to_json","header","defval","merchantIdIndex","findIndex","row","index","_rowNumber","indexOf","uniqueDuplicates","seenIds","uniqueMerchants","readAsText","readAsArrayBuffer","merchantsToImport","rejectDuplicates","errors","duplicateErrors","otherErrors","imported","_error$response5","_error$response5$data"],"ignoreList":[],"sourceRoot":""}
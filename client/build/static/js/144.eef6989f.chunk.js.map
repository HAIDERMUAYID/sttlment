{"version":3,"file":"static/js/144.eef6989f.chunk.js","mappings":"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","sources":["../node_modules/lucide-react/src/icons/dollar-sign.ts","../node_modules/lucide-react/src/icons/coins.ts","pages/admin/GovernmentSettlements.tsx","../node_modules/lucide-react/src/icons/printer.ts","../node_modules/lucide-react/src/icons/activity.ts","components/ui/input.tsx","components/KpiCards.tsx","../node_modules/lucide-react/src/icons/refresh-cw.ts","../node_modules/lucide-react/src/icons/file-down.ts","components/ui/dialog.tsx","components/ui/searchable-select.tsx","components/Loading.js","../node_modules/lucide-react/src/icons/percent.ts"],"sourcesContent":["import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name DollarSign\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8bGluZSB4MT0iMTIiIHgyPSIxMiIgeTE9IjIiIHkyPSIyMiIgLz4KICA8cGF0aCBkPSJNMTcgNUg5LjVhMy41IDMuNSAwIDAgMCAwIDdoNWEzLjUgMy41IDAgMCAxIDAgN0g2IiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/dollar-sign\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst DollarSign = createLucideIcon('DollarSign', [\n  ['line', { x1: '12', x2: '12', y1: '2', y2: '22', key: '7eqyqh' }],\n  ['path', { d: 'M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6', key: '1b0p4s' }],\n]);\n\nexport default DollarSign;\n","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name Coins\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8Y2lyY2xlIGN4PSI4IiBjeT0iOCIgcj0iNiIgLz4KICA8cGF0aCBkPSJNMTguMDkgMTAuMzdBNiA2IDAgMSAxIDEwLjM0IDE4IiAvPgogIDxwYXRoIGQ9Ik03IDZoMXY0IiAvPgogIDxwYXRoIGQ9Im0xNi43MSAxMy44OC43LjcxLTIuODIgMi44MiIgLz4KPC9zdmc+Cg==) - https://lucide.dev/icons/coins\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Coins = createLucideIcon('Coins', [\n  ['circle', { cx: '8', cy: '8', r: '6', key: '3yglwk' }],\n  ['path', { d: 'M18.09 10.37A6 6 0 1 1 10.34 18', key: 't5s6rm' }],\n  ['path', { d: 'M7 6h1v4', key: '1obek4' }],\n  ['path', { d: 'm16.71 13.88.7.71-2.82 2.82', key: '1rbuyh' }],\n]);\n\nexport default Coins;\n","import React, { useState, useEffect, useMemo, useRef } from 'react';\nimport { toPng } from 'html-to-image';\nimport { Link } from 'react-router-dom';\nimport api from '@/lib/api';\nimport { useToast } from '@/hooks/use-toast';\nimport Loading from '@/components/Loading';\nimport { KpiCards } from '@/components/KpiCards';\nimport { SearchableSelect } from '@/components/ui/searchable-select';\nimport {\n  Dialog,\n  DialogContent,\n  DialogHeader,\n  DialogTitle,\n} from '@/components/ui/dialog';\nimport { motion, AnimatePresence } from 'framer-motion';\nimport * as XLSX from 'xlsx';\nimport {\n  Banknote,\n  Calendar,\n  ChevronLeft,\n  ChevronRight,\n  ArrowRight,\n  Filter,\n  Building2,\n  RotateCcw,\n  Hash,\n  Activity,\n  DollarSign,\n  Percent,\n  Coins,\n  LayoutList,\n  X,\n  LayoutGrid,\n  Table2,\n  Eye,\n  Download,\n  Printer,\n  FileDown,\n  RefreshCw,\n  FileText,\n} from 'lucide-react';\n\n/** صف تفاصيل التسوية (من API تفاصيل التسوية) */\ninterface SettlementDetailRow {\n  iban: string;\n  ministry_directorate_governorate: string;\n  account_number: string;\n  branch_name: string;\n  branch_number: string;\n  movement_count: number;\n  sum_amount: number;\n  sum_fees: number;\n  sum_acq: number;\n  sum_sttle: number;\n  mer?: string;\n}\n\ninterface SettlementByTranDateRow {\n  sttl_date: string | null;\n  inst_id2: string | null;\n  bank_name: string | null;\n  transaction_date: string | null;\n  movement_count: number;\n  sum_amount: number;\n  sum_fees: number;\n  sum_acq: number;\n  sum_sttle: number;\n}\n\nconst formatDate = (d: string | null) => {\n  if (!d) return '—';\n  const s = typeof d === 'string' ? d.slice(0, 10) : '';\n  if (!s) return '—';\n  return s.replace(/-/g, '/');\n};\n\n/** عرض الأرقام مع دقة كافية للعمولة — 6 منازل عشرية لضمان التطابق */\nconst formatNum = (n: number | null) => {\n  if (n == null) return '—';\n  return Number(n).toLocaleString('en-US', { minimumFractionDigits: 0, maximumFractionDigits: 6 });\n};\n\nfunction groupBySettlement(rows: SettlementByTranDateRow[]) {\n  const groups: { key: string; sttl_date: string | null; bank_name: string | null; rows: SettlementByTranDateRow[]; totals: { movement_count: number; sum_amount: number; sum_fees: number; sum_acq: number; sum_sttle: number } }[] = [];\n  const map = new Map<string, { sttl_date: string | null; bank_name: string | null; rows: SettlementByTranDateRow[] }>();\n  for (const row of rows) {\n    const key = `${row.sttl_date ?? ''}|${row.inst_id2 ?? ''}`;\n    if (!map.has(key)) {\n      map.set(key, { sttl_date: row.sttl_date, bank_name: row.bank_name, rows: [] });\n    }\n    map.get(key)!.rows.push(row);\n  }\n  Array.from(map.entries()).forEach(([key, val]) => {\n    const totals = val.rows.reduce(\n      (acc, r) => ({\n        movement_count: acc.movement_count + Number(r.movement_count),\n        sum_amount: acc.sum_amount + Number(r.sum_amount),\n        sum_fees: acc.sum_fees + Number(r.sum_fees),\n        sum_acq: acc.sum_acq + Number(r.sum_acq),\n        sum_sttle: acc.sum_sttle + Number(r.sum_sttle),\n      }),\n      { movement_count: 0, sum_amount: 0, sum_fees: 0, sum_acq: 0, sum_sttle: 0 }\n    );\n    groups.push({ key, sttl_date: val.sttl_date, bank_name: val.bank_name, rows: val.rows, totals });\n  });\n  return groups;\n}\n\nexport function GovernmentSettlements() {\n  const [data, setData] = useState<SettlementByTranDateRow[]>([]);\n  const [loading, setLoading] = useState(true);\n  const [pagination, setPagination] = useState({ page: 1, limit: 20, total: 0, totalPages: 0 });\n  const [summary, setSummary] = useState({\n    total_settlements: 0,\n    total_movements: 0,\n    total_amount: 0,\n    total_fees: 0,\n    total_acq: 0,\n    total_sttle: 0,\n  });\n  const todayStr = useMemo(() => {\n    const d = new Date();\n    const tz = 'Asia/Baghdad';\n    const opts = { timeZone: tz, year: 'numeric' as const, month: '2-digit' as const, day: '2-digit' as const };\n    return new Intl.DateTimeFormat('en-CA', opts).format(d); // YYYY-MM-DD\n  }, []);\n  const yesterdayStr = useMemo(() => {\n    const d = new Date();\n    d.setDate(d.getDate() - 1);\n    const tz = 'Asia/Baghdad';\n    const opts = { timeZone: tz, year: 'numeric' as const, month: '2-digit' as const, day: '2-digit' as const };\n    return new Intl.DateTimeFormat('en-CA', opts).format(d); // YYYY-MM-DD\n  }, []);\n\n  const [filters, setFilters] = useState({ sttl_date_from: '', sttl_date_to: '', bank_display_name: '' });\n  const [initializedFromSettings, setInitializedFromSettings] = useState(false);\n  const [bankOptions, setBankOptions] = useState<string[]>([]);\n  const [viewMode, setViewMode] = useState<'cards' | 'table'>('cards');\n  const [detailGroup, setDetailGroup] = useState<ReturnType<typeof groupBySettlement>[number] | null>(null);\n  const [detailViewMode, setDetailViewMode] = useState<'table' | 'cards'>('table');\n  const [downloadingImage, setDownloadingImage] = useState(false);\n  const [backfillLoading, setBackfillLoading] = useState(false);\n  const [detailsSettlement, setDetailsSettlement] = useState<{ sttl_date: string | null; bank_display_name: string | null } | null>(null);\n  const [detailsLoading, setDetailsLoading] = useState(false);\n  const [detailsRows, setDetailsRows] = useState<Array<{ iban: string; ministry_directorate_governorate: string; account_number: string; branch_name: string; branch_number: string; movement_count: number; sum_amount: number; sum_fees: number; sum_acq: number; sum_sttle: number }>>([]);\n  /** إجماليات تفاصيل التسوية (للجدول والطباعة و Excel) */\n  const detailsTotals = useMemo(() => {\n    if (!detailsRows.length) return { movement_count: 0, sum_amount: 0, sum_fees: 0, sum_acq: 0, sum_sttle: 0 };\n    return detailsRows.reduce(\n      (acc, r) => ({\n        movement_count: acc.movement_count + (r.movement_count || 0),\n        sum_amount: acc.sum_amount + (r.sum_amount || 0),\n        sum_fees: acc.sum_fees + (r.sum_fees || 0),\n        sum_acq: acc.sum_acq + (r.sum_acq || 0),\n        sum_sttle: acc.sum_sttle + (r.sum_sttle || 0),\n      }),\n      { movement_count: 0, sum_amount: 0, sum_fees: 0, sum_acq: 0, sum_sttle: 0 }\n    );\n  }, [detailsRows]);\n  const detailContentRef = useRef<HTMLDivElement>(null);\n  const printAreaRef = useRef<HTMLDivElement>(null);\n  const { toast } = useToast();\n\n  useEffect(() => {\n    if (!detailsSettlement?.sttl_date) return;\n    const sttl = typeof detailsSettlement.sttl_date === 'string' ? detailsSettlement.sttl_date.slice(0, 10) : '';\n    const bank = detailsSettlement.bank_display_name || '';\n    const params = new URLSearchParams({ sttl_date: sttl });\n    if (bank) params.set('bank_display_name', bank);\n    api.get(`/rtgs/government-settlement-details?${params.toString()}`)\n      .then((res) => {\n        setDetailsRows(res.data?.details ?? []);\n        if (!(res.data?.details?.length)) {\n          toast({ title: 'لا توجد تفاصيل', description: 'لم تُعبَّأ تفاصيل هذه التسوية. شغّل «تعبئة الجدول» ثم أعد تحميل الصفحة.', variant: 'destructive' });\n        }\n      })\n      .catch(() => {\n        toast({ title: 'خطأ', description: 'فشل جلب تفاصيل التسوية', variant: 'destructive' });\n        setDetailsRows([]);\n      })\n      .finally(() => setDetailsLoading(false));\n  }, [detailsSettlement?.sttl_date, detailsSettlement?.bank_display_name, toast]);\n\n  useEffect(() => {\n    api.get('/rtgs/bank-names').then((res) => {\n      setBankOptions(Array.isArray(res.data) ? res.data : []);\n    }).catch(() => {});\n  }, []);\n\n  useEffect(() => {\n    if (initializedFromSettings) return;\n    setInitializedFromSettings(true);\n    api.get('/tv-dashboard/settings').then((res) => {\n      const s = res.data || {};\n      const mode = s.settlementCardsDateMode || 'previous_day';\n      const custom = String(s.settlementCardsCustomDate || '').trim().slice(0, 10);\n      let from = '', to = '';\n      if (mode === 'today') {\n        from = todayStr;\n        to = todayStr;\n      } else if (mode === 'custom' && /^\\d{4}-\\d{2}-\\d{2}$/.test(custom)) {\n        from = custom;\n        to = custom;\n      } else {\n        from = yesterdayStr;\n        to = yesterdayStr;\n      }\n      setFilters((prev) => (prev.sttl_date_from || prev.sttl_date_to ? prev : { ...prev, sttl_date_from: from, sttl_date_to: to }));\n    }).catch(() => {\n      setFilters((prev) => (prev.sttl_date_from || prev.sttl_date_to ? prev : { ...prev, sttl_date_from: yesterdayStr, sttl_date_to: yesterdayStr }));\n    });\n  }, [todayStr, yesterdayStr, initializedFromSettings]);\n\n  const fetchData = async () => {\n    const query: Record<string, string> = {\n      page: String(pagination.page),\n      limit: String(pagination.limit),\n    };\n    if (filters.sttl_date_from) query.sttl_date_from = filters.sttl_date_from;\n    if (filters.sttl_date_to) query.sttl_date_to = filters.sttl_date_to;\n    if (filters.bank_display_name) query.bank_display_name = filters.bank_display_name;\n    const params = new URLSearchParams(query);\n    const url = `/rtgs/government-settlements-by-transaction-date?${params.toString()}`;\n    const maxAttempts = 3;\n    let lastError: unknown;\n    try {\n      setLoading(true);\n      for (let attempt = 1; attempt <= maxAttempts; attempt++) {\n        try {\n          const res = await api.get(url);\n          setData(res.data?.data ?? []);\n          setSummary(res.data?.summary ?? { total_settlements: 0, total_movements: 0, total_amount: 0, total_fees: 0, total_acq: 0, total_sttle: 0 });\n          setPagination((prev) => ({\n            ...prev,\n            ...(res.data?.pagination ?? {}),\n          }));\n          return;\n        } catch (e) {\n          lastError = e;\n          if (attempt < maxAttempts) await new Promise((r) => setTimeout(r, 800 * attempt));\n        }\n      }\n      throw lastError;\n    } catch (e: unknown) {\n      const err = e as { response?: { data?: { error?: string; detail?: string } } };\n      const serverError = err.response?.data?.error;\n      const detail = err.response?.data?.detail;\n      const description = serverError\n        ? (detail ? `${serverError}: ${detail}` : serverError)\n        : 'فشل جلب التسويات الحكومية. تحقق من الاتصال أو جرّب لاحقاً.';\n      toast({\n        title: 'خطأ',\n        description,\n        variant: 'destructive',\n      });\n      setData([]);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  useEffect(() => {\n    fetchData();\n  }, [pagination.page, filters.sttl_date_from, filters.sttl_date_to, filters.bank_display_name]);\n\n  const handleFilterChange = (key: 'sttl_date_from' | 'sttl_date_to' | 'bank_display_name', value: string) => {\n    setFilters((prev) => ({ ...prev, [key]: value }));\n    setPagination((prev) => ({ ...prev, page: 1 }));\n  };\n\n  const resetFilters = () => {\n    setFilters({ sttl_date_from: '', sttl_date_to: '', bank_display_name: '' });\n    setPagination((prev) => ({ ...prev, page: 1 }));\n  };\n\n  const hasActiveFilters = filters.sttl_date_from || filters.sttl_date_to || filters.bank_display_name;\n\n  const groups = useMemo(() => groupBySettlement(data), [data]);\n\n  const handleBackfill = async () => {\n    setBackfillLoading(true);\n    try {\n      const res = await api.post('/rtgs/backfill-gov-settlements');\n      toast({\n        title: 'تمت التعبئة',\n        description: res.data?.message || `تم تعبئة ${res.data?.total_rows ?? 0} صفاً من ${res.data?.sources ?? 0} مصدر`,\n      });\n      fetchData();\n    } catch (e: unknown) {\n      const err = e as { response?: { data?: { error?: string } } };\n      toast({\n        title: 'خطأ',\n        description: err.response?.data?.error ?? 'فشل تعبئة جدول التسويات',\n        variant: 'destructive',\n      });\n    } finally {\n      setBackfillLoading(false);\n    }\n  };\n\n  const [exporting, setExporting] = useState(false);\n  /** جلب كل البيانات (كل الصفحات) ثم تصديرها — لا يُصدَّر فقط الصفحة الحالية */\n  const handleExport = async () => {\n    setExporting(true);\n    try {\n      const limitPerPage = 500;\n      const allData: SettlementByTranDateRow[] = [];\n      let page = 1;\n      let totalPages = 1;\n      do {\n        const query: Record<string, string> = {\n          page: String(page),\n          limit: String(limitPerPage),\n          sttl_date_from: filters.sttl_date_from || '',\n          sttl_date_to: filters.sttl_date_to || '',\n          bank_display_name: filters.bank_display_name || '',\n        };\n        const params = new URLSearchParams(query);\n        const res = await api.get(`/rtgs/government-settlements-by-transaction-date?${params.toString()}`);\n        const chunk: SettlementByTranDateRow[] = res.data?.data ?? [];\n        allData.push(...chunk);\n        totalPages = res.data?.pagination?.totalPages ?? 1;\n        page++;\n      } while (page <= totalPages);\n\n      if (allData.length === 0) {\n        toast({\n          title: 'لا يوجد بيانات للتصدير',\n          description: 'لا توجد صفوف مطابقة للفلاتر الحالية (التاريخ / المصرف). جرّب توسيع نطاق التاريخ أو إلغاء الفلاتر ثم «تطبيق الفلاتر» لتحميل كل البيانات واضغط تصدير مرة أخرى.',\n          variant: 'destructive',\n        });\n        return;\n      }\n      const headers = ['تاريخ التسوية', 'المصرف', 'تاريخ الحركة', 'عدد الحركات', 'قيمة الحركات (IQD)', 'قيمة العمولة (IQD)', 'عمولة المحصل (IQD)', 'قيمة التسوية (IQD)'];\n      const rows = allData.map((r) => [\n        formatDate(r.sttl_date),\n        r.bank_name ?? r.inst_id2 ?? '—',\n        formatDate(r.transaction_date),\n        String(r.movement_count),\n        formatNum(r.sum_amount),\n        formatNum(r.sum_fees),\n        formatNum(r.sum_acq),\n        formatNum(r.sum_sttle),\n      ]);\n      const wb = XLSX.utils.book_new();\n      const ws = XLSX.utils.aoa_to_sheet([headers, ...rows]);\n      XLSX.utils.book_append_sheet(wb, ws, 'التسويات الحكومية');\n      XLSX.writeFile(wb, `تسويات_حكومية_${filters.sttl_date_from || 'كل'}_${filters.sttl_date_to || 'التواريخ'}.xlsx`);\n      toast({ title: 'تم التصدير', description: `تم تحميل Excel بكل البيانات (${allData.length.toLocaleString('ar-EG')} صف)` });\n    } catch (e: unknown) {\n      const err = e as { response?: { data?: { error?: string } } };\n      toast({\n        title: 'فشل التصدير',\n        description: err.response?.data?.error ?? 'لم يتم جلب كل البيانات للتصدير',\n        variant: 'destructive',\n      });\n    } finally {\n      setExporting(false);\n    }\n  };\n\n  const handlePrint = () => {\n    if (printAreaRef.current) {\n      const printContent = printAreaRef.current.innerHTML;\n      const win = window.open('', '_blank', 'noopener,noreferrer');\n      if (!win) {\n        window.print();\n        return;\n      }\n      win.document.write(`\n        <!DOCTYPE html><html dir=\"rtl\" lang=\"ar\"><head>\n        <meta charset=\"utf-8\"><title>التسويات الحكومية</title>\n        <link href=\"https://fonts.googleapis.com/css2?family=Cairo:wght@400;600;700&display=swap\" rel=\"stylesheet\">\n        <style>\n          body { font-family: 'Cairo', sans-serif; margin: 0; padding: 24px; color: #0f172a; background: #fff; line-height: 1.5; -webkit-print-color-adjust: exact; print-color-adjust: exact; }\n          .no-print { display: none !important; }\n          table { width: 100%; border-collapse: collapse; margin: 16px 0; }\n          th, td { padding: 10px 12px; text-align: right; border: 1px solid #e2e8f0; }\n          th { background: linear-gradient(135deg, #026174 0%, #068294 100%); color: #fff; font-weight: 700; }\n          tr:nth-child(even) { background: #f8fafc; }\n          .print-header { background: linear-gradient(135deg, #026174 0%, #068294 100%); color: #fff; padding: 20px; border-radius: 12px; margin-bottom: 24px; }\n          .print-header h1 { margin: 0 0 8px 0; font-size: 1.5rem; }\n          .print-header p { margin: 0; opacity: 0.95; font-size: 0.9rem; }\n        </style></head><body>\n        <div class=\"print-header\">\n          <h1>التسويات الحكومية</h1>\n          <p>من ${formatDate(filters.sttl_date_from) || '—'} إلى ${formatDate(filters.sttl_date_to) || '—'} ${filters.bank_display_name ? ` | المصرف: ${filters.bank_display_name}` : ''}</p>\n        </div>\n        ${printContent}\n        </body></html>`);\n      win.document.close();\n      win.focus();\n      setTimeout(() => { win.print(); win.onafterprint = () => win.close(); }, 400);\n    } else {\n      window.print();\n    }\n  };\n\n  const openSettlementDetails = (group: ReturnType<typeof groupBySettlement>[number]) => {\n    const sttlDate = group.sttl_date ? (typeof group.sttl_date === 'string' ? group.sttl_date.slice(0, 10) : '') : '';\n    const bankName = group.bank_name || group.rows[0]?.inst_id2 || '';\n    if (!sttlDate || !bankName) {\n      toast({ title: 'تنبيه', description: 'لا يمكن جلب التفاصيل بدون تاريخ تسوية ومصرف', variant: 'destructive' });\n      return;\n    }\n    setDetailsRows([]);\n    setDetailsLoading(true);\n    setDetailsSettlement({ sttl_date: sttlDate, bank_display_name: bankName });\n  };\n\n  const handleDownloadAsImage = async () => {\n    if (!detailContentRef.current || !detailGroup) return;\n    setDownloadingImage(true);\n    try {\n      const dataUrl = await toPng(detailContentRef.current, {\n        quality: 1,\n        pixelRatio: 2,\n        backgroundColor: '#ffffff',\n      });\n      const link = document.createElement('a');\n      const safeDate = formatDate(detailGroup.sttl_date).replace(/\\//g, '-');\n      const safeBank = (detailGroup.bank_name || 'bank').replace(/\\s+/g, '_').replace(/[^\\w\\u0600-\\u06FF_-]/g, '');\n      link.download = `settlement_${safeDate}_${safeBank}.png`;\n      link.href = dataUrl;\n      link.click();\n      toast({ title: 'تم التحميل', description: 'تم حفظ الصورة بنجاح' });\n    } catch (err) {\n      toast({ title: 'خطأ', description: 'فشل حفظ الصورة', variant: 'destructive' });\n    } finally {\n      setDownloadingImage(false);\n    }\n  };\n\n  return (\n    <div\n      className=\"min-h-screen\"\n      style={{\n        padding: '1.5rem 2rem',\n        background: 'linear-gradient(180deg, #f1f5f9 0%, #e2e8f0 100%)',\n      }}\n    >\n      <div className=\"mx-auto\" style={{ maxWidth: '1400px' }}>\n        {/* Header */}\n        <div\n          className=\"page-header-teal rounded-xl flex flex-wrap items-center justify-between gap-4 p-5 mb-6\"\n          style={{\n            background: 'linear-gradient(135deg, #026174 0%, #068294 100%)',\n            color: '#ffffff',\n            boxShadow: '0 10px 30px rgba(2, 97, 116, 0.35)',\n          }}\n        >\n          <div>\n            <h1 className=\"text-2xl font-bold m-0 text-white\">التسويات الحكومية</h1>\n            <p className=\"text-sm opacity-90 mt-1 m-0 text-white\">\n              إجماليات حسب تاريخ التسوية والمصرف — تفصيل حسب تاريخ الحركة. القيمة الافتراضية: اليوم السابق (أو من إعدادات TV)\n            </p>\n          </div>\n          <div className=\"flex items-center gap-2 flex-wrap\">\n            <div className=\"flex rounded-full overflow-hidden border border-white/30 bg-white/10 p-0.5\">\n              <button\n                type=\"button\"\n                onClick={() => setViewMode('cards')}\n                className={`flex items-center gap-2 px-3 py-2 rounded-full text-sm font-medium transition-colors ${viewMode === 'cards' ? 'bg-white text-[#026174] shadow' : 'text-white/90 hover:bg-white/10'}`}\n              >\n                <LayoutGrid className=\"w-4 h-4\" />\n                كروت\n              </button>\n              <button\n                type=\"button\"\n                onClick={() => setViewMode('table')}\n                className={`flex items-center gap-2 px-3 py-2 rounded-full text-sm font-medium transition-colors ${viewMode === 'table' ? 'bg-white text-[#026174] shadow' : 'text-white/90 hover:bg-white/10'}`}\n              >\n                <Table2 className=\"w-4 h-4\" />\n                جدول\n              </button>\n            </div>\n            <div className=\"flex items-center gap-2 flex-wrap no-print\">\n              <button\n                type=\"button\"\n                onClick={handleBackfill}\n                disabled={backfillLoading}\n                className=\"inline-flex items-center gap-2 px-3 py-2 rounded-full text-sm font-medium bg-white/15 hover:bg-white/25 text-white border border-white/30 transition-colors disabled:opacity-60\"\n                title=\"تعبئة جدول المخزون من بيانات RTGS الحالية\"\n              >\n                <RefreshCw className={`w-4 h-4 ${backfillLoading ? 'animate-spin' : ''}`} />\n                {backfillLoading ? 'جاري التعبئة...' : 'تعبئة الجدول'}\n              </button>\n              <button\n                type=\"button\"\n                onClick={handleExport}\n                disabled={exporting}\n                className=\"inline-flex items-center gap-2 px-3 py-2 rounded-full text-sm font-medium bg-white/15 hover:bg-white/25 text-white border border-white/30 transition-colors disabled:opacity-70 disabled:cursor-not-allowed\"\n                title=\"تصدير كل البيانات (كل الصفحات) إلى Excel\"\n              >\n                <FileDown className={`w-4 h-4 ${exporting ? 'animate-pulse' : ''}`} />\n                {exporting ? 'جاري التصدير...' : 'تصدير'}\n              </button>\n              <button\n                type=\"button\"\n                onClick={handlePrint}\n                className=\"inline-flex items-center gap-2 px-3 py-2 rounded-full text-sm font-medium bg-white/15 hover:bg-white/25 text-white border border-white/30 transition-colors\"\n                title=\"طباعة التقرير\"\n              >\n                <Printer className=\"w-4 h-4\" />\n                طباعة\n              </button>\n            </div>\n            <Link\n              to=\"/rtgs\"\n              className=\"inline-flex items-center gap-2 px-4 py-2 rounded-full text-sm font-medium bg-white text-[#026174] hover:bg-white/95 transition-colors shadow\"\n            >\n              <ArrowRight className=\"w-4 h-4\" />\n              العودة إلى RTGS\n            </Link>\n          </div>\n        </div>\n\n        <div ref={printAreaRef}>\n        <KpiCards\n          items={[\n            { label: 'عدد التسويات', value: summary.total_settlements, Icon: Hash, color: '#068294', glow: 'rgba(6, 130, 148, 0.4)', gradient: 'linear-gradient(135deg, #068294 0%, #026174 100%)' },\n            { label: 'عدد الحركات', value: summary.total_movements, Icon: Activity, color: '#0369a1', glow: 'rgba(3, 105, 161, 0.4)', gradient: 'linear-gradient(135deg, #0369a1 0%, #0284c7 100%)' },\n            { label: 'قيمة الحركات (IQD)', value: summary.total_amount, Icon: DollarSign, color: '#059669', glow: 'rgba(5, 150, 105, 0.4)', gradient: 'linear-gradient(135deg, #059669 0%, #047857 100%)', formatDisplay: formatNum },\n            { label: 'قيمة العمولة (IQD)', value: summary.total_fees, Icon: Percent, color: '#64748b', glow: 'rgba(100, 116, 139, 0.35)', gradient: 'linear-gradient(135deg, #64748b 0%, #475569 100%)', formatDisplay: formatNum },\n            { label: 'عمولة المحصل (IQD)', value: summary.total_acq, Icon: LayoutList, color: '#0f766e', glow: 'rgba(15, 118, 110, 0.4)', gradient: 'linear-gradient(135deg, #0f766e 0%, #0d9488 100%)', formatDisplay: formatNum },\n            { label: 'قيمة التسوية (IQD)', value: summary.total_sttle, Icon: Coins, color: '#026174', glow: 'rgba(2, 97, 116, 0.4)', gradient: 'linear-gradient(135deg, #026174 0%, #0f172a 100%)', formatDisplay: formatNum },\n          ]}\n        />\n\n        {/* Filters — محسّنة */}\n        <div\n          className=\"rounded-2xl p-5 mb-6 border border-slate-200/80 no-print\"\n          style={{\n            background: 'linear-gradient(180deg, #ffffff 0%, #f8fafc 100%)',\n            boxShadow: '0 4px 20px rgba(0,0,0,0.06)',\n          }}\n        >\n          <div className=\"flex items-center justify-between gap-4 flex-wrap mb-4\">\n            <div className=\"flex items-center gap-2\">\n              <div className=\"p-1.5 rounded-lg bg-slate-100\">\n                <Filter className=\"w-4 h-4 text-slate-600\" />\n              </div>\n              <span className=\"text-base font-semibold text-slate-700\">الفلاتر</span>\n            </div>\n            <button\n              type=\"button\"\n              onClick={resetFilters}\n              disabled={!hasActiveFilters}\n              className=\"flex items-center gap-2 px-4 py-2 rounded-lg text-sm font-medium ds-btn ds-btn-outline disabled:opacity-50 disabled:cursor-not-allowed\"\n            >\n              <X className=\"w-4 h-4\" />\n              إلغاء الفلاتر\n            </button>\n          </div>\n          <div className=\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-5 gap-4 items-end\">\n            <div>\n              <label className=\"block text-xs font-medium text-slate-500 mb-1\">من تاريخ التسوية</label>\n              <div className=\"relative\">\n                <Calendar className=\"absolute right-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400 pointer-events-none\" />\n                <input\n                  type=\"date\"\n                  value={filters.sttl_date_from}\n                  onChange={(e) => handleFilterChange('sttl_date_from', e.target.value)}\n                  className=\"ds-input w-full pl-3 pr-10 py-2 rounded-lg border border-slate-200\"\n                />\n              </div>\n            </div>\n            <div>\n              <label className=\"block text-xs font-medium text-slate-500 mb-1\">إلى تاريخ التسوية</label>\n              <div className=\"relative\">\n                <Calendar className=\"absolute right-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400 pointer-events-none\" />\n                <input\n                  type=\"date\"\n                  value={filters.sttl_date_to}\n                  onChange={(e) => handleFilterChange('sttl_date_to', e.target.value)}\n                  className=\"ds-input w-full pl-3 pr-10 py-2 rounded-lg border border-slate-200\"\n                />\n              </div>\n            </div>\n            <div className=\"lg:col-span-2\">\n              <label className=\"block text-xs font-medium text-slate-500 mb-1\">المصرف</label>\n              <SearchableSelect\n                value={filters.bank_display_name}\n                onChange={(v) => handleFilterChange('bank_display_name', v)}\n                options={[{ value: '', label: 'كل المصارف' }, ...bankOptions.map((b) => ({ value: b, label: b }))]}\n                getOptionLabel={(opt: { value: string; label: string }) => opt.label}\n                getOptionValue={(opt: { value: string; label: string }) => opt.value}\n                placeholder=\"كل المصارف\"\n                searchPlaceholder=\"ابحث عن مصرف...\"\n              />\n            </div>\n            <div className=\"flex flex-wrap items-center gap-2\">\n              <button type=\"button\" onClick={() => fetchData()} className=\"ds-btn ds-btn-primary py-2 px-5 rounded-lg flex-1 sm:flex-none\">\n                تطبيق الفلاتر\n              </button>\n            </div>\n          </div>\n        </div>\n\n        {/* Table */}\n        <div\n          className=\"rounded-2xl overflow-hidden\"\n          style={{\n            background: 'var(--surface)',\n            boxShadow: 'var(--shadow-card)',\n            border: '2px solid var(--border-card)',\n          }}\n        >\n          {loading && data.length === 0 ? (\n            <div className=\"p-16 flex justify-center\">\n              <Loading message=\"جاري تحميل التسويات...\" />\n            </div>\n          ) : groups.length === 0 ? (\n            <div className=\"p-16 text-center\">\n              <div className=\"w-16 h-16 rounded-2xl mx-auto mb-4 flex items-center justify-center\" style={{ background: 'rgba(8, 131, 149, 0.08)' }}>\n                <Banknote className=\"w-8 h-8\" style={{ color: 'var(--primary-600)' }} />\n              </div>\n              <p className=\"text-lg font-bold m-0\" style={{ color: 'var(--text-strong)' }}>لا توجد تسويات مطابقة للفلاتر</p>\n              <p className=\"text-sm mt-2 m-0\" style={{ color: 'var(--text-muted)' }}>غيّر الفلاتر أو تأكد من استيراد بيانات RTGS</p>\n            </div>\n          ) : viewMode === 'cards' ? (\n            <div className=\"p-6\">\n              <div className=\"grid gap-5 sm:grid-cols-2 xl:grid-cols-3\">\n                <AnimatePresence>\n                  {groups.map((group, index) => {\n                    const dateStr = formatDate(group.sttl_date);\n                    const bankStr = group.bank_name || group.rows[0]?.inst_id2 || '—';\n                    const label = `تسوية ${dateStr} — ${bankStr}`;\n                    return (\n                      <motion.div\n                        key={group.key}\n                        initial={{ opacity: 0, y: 16 }}\n                        animate={{ opacity: 1, y: 0 }}\n                        exit={{ opacity: 0, scale: 0.98 }}\n                        transition={{ duration: 0.25, delay: index * 0.03, ease: [0.25, 0.46, 0.45, 0.94] }}\n                        whileHover={{\n                          scale: 1.03,\n                          y: -6,\n                          zIndex: 20,\n                          boxShadow: '0 20px 40px rgba(2, 97, 116, 0.18), 0 0 0 1px rgba(8, 131, 149, 0.2)',\n                          transition: { duration: 0.3, ease: [0.25, 0.46, 0.45, 0.94] },\n                        }}\n                        className=\"group relative flex flex-col rounded-2xl overflow-hidden cursor-default\"\n                        style={{\n                          background: 'var(--surface)',\n                          border: '2px solid var(--border-card)',\n                          boxShadow: '0 2px 8px rgba(15, 23, 42, 0.06), inset 0 1px 0 rgba(255,255,255,0.8)',\n                        }}\n                      >\n                        <div className=\"card-shine-hover absolute inset-0 opacity-0 group-hover:opacity-100 pointer-events-none overflow-hidden rounded-2xl\" />\n                        <div\n                          className=\"absolute top-0 bottom-0 w-1 rounded-r-full opacity-80 group-hover:opacity-100 group-hover:w-1.5 transition-all duration-300\"\n                          style={{ right: 0, background: 'linear-gradient(180deg, var(--primary-800), var(--primary-600), var(--primary-700))' }}\n                        />\n                        <div className=\"p-5 flex flex-col gap-4\">\n                          <h3 className=\"text-lg font-bold leading-snug\" style={{ color: 'var(--text-strong)' }}>{label}</h3>\n                          {/* تفصيل حسب تاريخ الحركة */}\n                          <div className=\"space-y-3\">\n                            {group.rows.map((row, rowIdx) => (\n                              <div\n                                key={`${group.key}-${row.transaction_date}-${rowIdx}`}\n                                className=\"rounded-xl p-3 text-sm\"\n                                style={{ background: 'rgba(2, 97, 116, 0.04)', border: '1px solid var(--border)' }}\n                              >\n                                <div className=\"font-bold mb-2 text-xs\" style={{ color: 'var(--primary-800)' }}>\n                                  تاريخ الحركة: <span dir=\"ltr\">{formatDate(row.transaction_date)}</span>\n                                </div>\n                                <div className=\"grid grid-cols-2 gap-x-4 gap-y-1.5 text-xs\">\n                                  <div className=\"flex justify-between\"><span style={{ color: 'var(--text-muted)' }}>عدد الحركات</span><span className=\"tabular-nums font-medium\" dir=\"ltr\">{row.movement_count.toLocaleString('en-US')}</span></div>\n                                  <div className=\"flex justify-between\"><span style={{ color: 'var(--text-muted)' }}>قيمة الحركات</span><span className=\"tabular-nums font-medium\" dir=\"ltr\">{formatNum(row.sum_amount)}</span></div>\n                                  <div className=\"flex justify-between\"><span style={{ color: 'var(--text-muted)' }}>قيمة العمولة</span><span className=\"tabular-nums font-medium\" dir=\"ltr\">{formatNum(row.sum_fees)}</span></div>\n                                  <div className=\"flex justify-between\"><span style={{ color: 'var(--text-muted)' }}>عمولة المحصل</span><span className=\"tabular-nums font-medium\" dir=\"ltr\">{formatNum(row.sum_acq)}</span></div>\n                                  <div className=\"col-span-2 flex justify-between pt-1 border-t mt-1\" style={{ borderColor: 'var(--border)' }}><span style={{ color: 'var(--text-muted)' }}>قيمة التسوية</span><span className=\"tabular-nums font-bold\" style={{ color: 'var(--primary-800)' }} dir=\"ltr\">{formatNum(row.sum_sttle)} IQD</span></div>\n                                </div>\n                              </div>\n                            ))}\n                          </div>\n                          {/* إجمالي التسوية — نص أبيض للوضوح */}\n                          <div className=\"table-header-dark rounded-xl p-3 mt-1\" style={{ background: 'linear-gradient(135deg, #026174 0%, #068294 100%)' }}>\n                            <div className=\"font-bold text-xs mb-2\">إجمالي التسوية</div>\n                            <div className=\"grid grid-cols-2 gap-x-4 gap-y-1.5 text-xs\">\n                              <div className=\"flex justify-between\"><span>عدد الحركات</span><span className=\"tabular-nums font-bold\" dir=\"ltr\">{group.totals.movement_count.toLocaleString('en-US')}</span></div>\n                              <div className=\"flex justify-between\"><span>قيمة الحركات</span><span className=\"tabular-nums font-bold\" dir=\"ltr\">{formatNum(group.totals.sum_amount)} IQD</span></div>\n                              <div className=\"flex justify-between\"><span>قيمة العمولة</span><span className=\"tabular-nums font-bold\" dir=\"ltr\">{formatNum(group.totals.sum_fees)} IQD</span></div>\n                              <div className=\"flex justify-between\"><span>عمولة المحصل</span><span className=\"tabular-nums font-bold\" dir=\"ltr\">{formatNum(group.totals.sum_acq)} IQD</span></div>\n                              <div className=\"col-span-2 flex justify-between pt-1 border-t border-white/30 mt-1\"><span>قيمة التسوية</span><span className=\"tabular-nums font-bold\" dir=\"ltr\">{formatNum(group.totals.sum_sttle)} IQD</span></div>\n                            </div>\n                          </div>\n                          {/* أزرار عرض التفصيل + تفاصيل التسوية (IBAN، وزارة، فرع، إلخ) */}\n                          <div className=\"flex flex-wrap items-center gap-2 mt-3 pt-3 border-t\" style={{ borderColor: 'var(--border)' }}>\n                            <button\n                              type=\"button\"\n                              onClick={() => setDetailGroup(group)}\n                              className=\"ds-btn ds-btn-primary flex items-center gap-2 px-4 py-2 text-sm\"\n                            >\n                              <Eye className=\"w-4 h-4\" />\n                              عرض التفصيل\n                            </button>\n                            <button\n                              type=\"button\"\n                              onClick={() => openSettlementDetails(group)}\n                              className=\"ds-btn ds-btn-outline flex items-center gap-2 px-4 py-2 text-sm\"\n                            >\n                              <FileText className=\"w-4 h-4\" />\n                              تفاصيل التسوية\n                            </button>\n                            <div className=\"flex-shrink-0 ms-auto w-full sm:w-auto\" style={{ alignSelf: 'flex-end' }}>\n                              <img src=\"/stamp-settlement-reconciliation.png\" alt=\"ختم التسويات\" className=\"h-14 w-auto object-contain opacity-90\" />\n                            </div>\n                          </div>\n                        </div>\n                      </motion.div>\n                    );\n                  })}\n                </AnimatePresence>\n              </div>\n              <div className=\"flex items-center justify-between px-4 py-4 mt-4 border-t\" style={{ borderColor: 'var(--border-card)' }}>\n                <p className=\"text-sm font-medium m-0\" style={{ color: 'var(--text-muted)' }} dir=\"ltr\">عرض {groups.length} تسوية من {pagination.total}</p>\n                <div className=\"flex items-center gap-2\">\n                  <button type=\"button\" onClick={() => setPagination((p) => ({ ...p, page: Math.max(1, p.page - 1) }))} disabled={pagination.page <= 1} className=\"ds-btn ds-btn-outline p-2.5 rounded-lg disabled:opacity-40\">\n                    <ChevronRight className=\"w-4 h-4\" />\n                  </button>\n                  <span className=\"text-sm font-bold px-3 min-w-[4rem] text-center\" style={{ color: 'var(--text-strong)' }} dir=\"ltr\">{pagination.page} / {pagination.totalPages || 1}</span>\n                  <button type=\"button\" onClick={() => setPagination((p) => ({ ...p, page: Math.min(p.totalPages || 1, p.page + 1) }))} disabled={pagination.page >= (pagination.totalPages || 1)} className=\"ds-btn ds-btn-outline p-2.5 rounded-lg disabled:opacity-40\">\n                    <ChevronLeft className=\"w-4 h-4\" />\n                  </button>\n                </div>\n              </div>\n            </div>\n          ) : (\n            <>\n              <div className=\"overflow-x-auto overflow-y-visible\" style={{ isolation: 'isolate' }}>\n                <table className=\"ds-table w-full\" style={{ minWidth: '760px', borderCollapse: 'separate', borderSpacing: 0 }}>\n                  <thead>\n                    <tr className=\"table-header-dark\" style={{ background: 'linear-gradient(135deg, #026174 0%, #068294 100%)' }}>\n                      <th className=\"text-end py-4 px-4 font-bold text-white\">تاريخ الحركة</th>\n                      <th className=\"text-end py-4 px-4 font-bold text-white\">عدد الحركات</th>\n                      <th className=\"text-end py-4 px-4 font-bold text-white\">قيمة الحركات (IQD)</th>\n                      <th className=\"text-end py-4 px-4 font-bold text-white\">قيمة العمولة (IQD)</th>\n                      <th className=\"text-end py-4 px-4 font-bold text-white\">عمولة المحصل (IQD)</th>\n                      <th className=\"text-end py-4 px-4 font-bold text-white\">قيمة التسوية (IQD)</th>\n                    </tr>\n                  </thead>\n                  <tbody>\n                    {groups.map((group) => {\n                      const dateStr = formatDate(group.sttl_date);\n                      const bankStr = group.bank_name || group.rows[0]?.inst_id2 || '—';\n                      const label = `تسوية ${dateStr} — ${bankStr}`;\n                      return (\n                        <React.Fragment key={group.key}>\n                          {/* رأس التسوية + زر تفاصيل التسوية */}\n                          <tr style={{ background: 'rgba(2, 97, 116, 0.08)', borderTop: '3px solid var(--primary-600)' }}>\n                            <td colSpan={6} className=\"py-4 px-4\">\n                              <div className=\"flex items-center justify-between gap-3 flex-wrap\">\n                                <span className=\"text-base font-bold\" style={{ color: 'var(--text-strong)' }}>{label}</span>\n                                <button\n                                  type=\"button\"\n                                  onClick={() => openSettlementDetails(group)}\n                                  className=\"ds-btn ds-btn-outline flex items-center gap-2 px-3 py-1.5 text-sm\"\n                                >\n                                  <FileText className=\"w-4 h-4\" />\n                                  تفاصيل التسوية\n                                </button>\n                              </div>\n                            </td>\n                          </tr>\n                          {/* الحركات */}\n                          {group.rows.map((row, idx) => (\n                            <motion.tr\n                              key={`${group.key}-${row.transaction_date}-${idx}`}\n                              className=\"gov-settlement-data-row\"\n                              initial={false}\n                              whileHover={{\n                                scale: 1.02,\n                                boxShadow: '0 8px 24px rgba(2, 97, 116, 0.2), 0 0 0 1px rgba(8, 131, 149, 0.25)',\n                                transition: { duration: 0.25, ease: [0.25, 0.46, 0.45, 0.94] },\n                              }}\n                              style={{\n                                background: '#fff',\n                                position: 'relative',\n                                cursor: 'default',\n                                zIndex: 1,\n                              }}\n                            >\n                              <td className=\"py-3 px-4\" style={{ color: 'var(--text)' }} dir=\"ltr\">{formatDate(row.transaction_date)}</td>\n                              <td className=\"py-3 px-4 font-medium tabular-nums\" style={{ color: 'var(--text-strong)' }} dir=\"ltr\">{row.movement_count.toLocaleString('en-US')}</td>\n                              <td className=\"py-3 px-4 font-medium tabular-nums break-all\" style={{ color: 'var(--text)' }} dir=\"ltr\">{formatNum(row.sum_amount)}</td>\n                              <td className=\"py-3 px-4 tabular-nums break-all\" style={{ color: 'var(--text)' }} dir=\"ltr\" title=\"قيمة العمولة\">{formatNum(row.sum_fees)}</td>\n                              <td className=\"py-3 px-4 tabular-nums break-all\" style={{ color: 'var(--text)' }} dir=\"ltr\">{formatNum(row.sum_acq)}</td>\n                              <td className=\"py-3 px-4 font-bold tabular-nums break-all\" style={{ color: 'var(--primary-800)' }} dir=\"ltr\">{formatNum(row.sum_sttle)}</td>\n                            </motion.tr>\n                          ))}\n                          {/* إجمالي التسوية — نفس لون رأس الجدول (أبيض) */}\n                          <tr className=\"table-header-dark\" style={{ background: 'linear-gradient(135deg, #026174 0%, #068294 100%)', borderTop: '2px solid rgba(255,255,255,0.3)' }}>\n                            <td className=\"py-4 px-4 font-bold\">إجمالي التسوية</td>\n                            <td className=\"py-4 px-4 font-bold tabular-nums\" dir=\"ltr\">{group.totals.movement_count.toLocaleString('en-US')}</td>\n                            <td className=\"py-4 px-4 font-bold tabular-nums break-all\" dir=\"ltr\">{formatNum(group.totals.sum_amount)}</td>\n                            <td className=\"py-4 px-4 font-bold tabular-nums break-all\" dir=\"ltr\" title=\"قيمة العمولة\">{formatNum(group.totals.sum_fees)}</td>\n                            <td className=\"py-4 px-4 font-bold tabular-nums break-all\" dir=\"ltr\">{formatNum(group.totals.sum_acq)}</td>\n                            <td className=\"py-4 px-4 font-bold tabular-nums break-all\" dir=\"ltr\">{formatNum(group.totals.sum_sttle)}</td>\n                          </tr>\n                          <tr>\n                            <td colSpan={6} className=\"h-3\" style={{ background: 'var(--border)' }} />\n                          </tr>\n                        </React.Fragment>\n                      );\n                    })}\n                  </tbody>\n                </table>\n              </div>\n              <div className=\"flex items-center justify-between px-5 py-4 border-t border-white/20\" style={{ background: 'linear-gradient(135deg, #026174 0%, #068294 100%)' }}>\n                <p className=\"text-sm font-medium m-0\" style={{ color: '#fff', textShadow: '0 1px 2px rgba(0,0,0,0.2)' }} dir=\"ltr\">\n                  عرض {groups.length} تسوية من {pagination.total}\n                </p>\n                <div className=\"flex items-center gap-2\">\n                  <button\n                    type=\"button\"\n                    onClick={() => setPagination((p) => ({ ...p, page: Math.max(1, p.page - 1) }))}\n                    disabled={pagination.page <= 1}\n                    className=\"p-2.5 rounded-lg bg-white/20 hover:bg-white/30 text-white disabled:opacity-40 transition-colors border border-white/30\"\n                  >\n                    <ChevronRight className=\"w-4 h-4\" />\n                  </button>\n                  <span className=\"text-sm font-bold px-3 min-w-[4rem] text-center\" style={{ color: '#fff', textShadow: '0 1px 2px rgba(0,0,0,0.2)' }} dir=\"ltr\">\n                    {pagination.page} / {pagination.totalPages || 1}\n                  </span>\n                  <button\n                    type=\"button\"\n                    onClick={() => setPagination((p) => ({ ...p, page: Math.min(p.totalPages || 1, p.page + 1) }))}\n                    disabled={pagination.page >= (pagination.totalPages || 1)}\n                    className=\"p-2.5 rounded-lg bg-white/20 hover:bg-white/30 text-white disabled:opacity-40 transition-colors border border-white/30\"\n                  >\n                    <ChevronLeft className=\"w-4 h-4\" />\n                  </button>\n                </div>\n              </div>\n            </>\n          )}\n        </div>\n        </div>\n\n        {/* نافذة تفاصيل التسوية (IBAN، وزارة/مديرية/محافظة، فرع، حركات، عمولة، مبلغ) */}\n        <Dialog open={!!detailsSettlement} onOpenChange={(open) => { if (!open) setDetailsSettlement(null); }}>\n          <DialogContent className=\"max-w-[95vw] w-full max-h-[95vh] overflow-hidden flex flex-col rounded-2xl\">\n            <DialogHeader className=\"p-6 pb-4 border-b flex-shrink-0 flex-row justify-between items-center gap-4 flex-wrap\" style={{ borderColor: 'var(--border-card)' }}>\n              <DialogTitle className=\"text-xl font-bold\" style={{ color: 'var(--text-strong)' }}>\n                تفاصيل التسوية — {formatDate(detailsSettlement?.sttl_date ?? null)} {detailsSettlement?.bank_display_name ? ` / ${detailsSettlement.bank_display_name}` : ''}\n              </DialogTitle>\n              {detailsRows.length > 0 && (\n                <div className=\"flex items-center gap-2 flex-wrap\">\n                  <button\n                    type=\"button\"\n                    onClick={() => {\n                      const title = `تفاصيل التسوية — ${formatDate(detailsSettlement?.sttl_date ?? null)}${detailsSettlement?.bank_display_name ? ` / ${detailsSettlement.bank_display_name}` : ''}`;\n                      const printWindow = window.open('', '_blank', 'noopener,noreferrer,width=900,height=700');\n                      if (!printWindow) {\n                        toast({\n                          title: 'لم تفتح نافذة الطباعة',\n                          description: 'المرجو السماح بالنوافذ المنبثقة لهذا الموقع ثم جرّب مرة أخرى، أو استخدم تصدير Excel ثم اطبع الملف.',\n                          variant: 'destructive',\n                        });\n                        return;\n                      }\n                      const rowsHtml = detailsRows.map((row) => `\n                        <tr>\n                          <td class=\"py-2 px-3 font-mono text-xs\" dir=\"ltr\">${(row.iban || '—').replace(/</g, '&lt;')}</td>\n                          <td class=\"py-2 px-3 max-w-[220px]\">${(row.ministry_directorate_governorate || '—').replace(/</g, '&lt;')}</td>\n                          <td class=\"py-2 px-3\" dir=\"ltr\">${(row.account_number || '—').replace(/</g, '&lt;')}</td>\n                          <td class=\"py-2 px-3\">${(row.branch_name || '—').replace(/</g, '&lt;')}</td>\n                          <td class=\"py-2 px-3\" dir=\"ltr\">${(row.branch_number || '—').replace(/</g, '&lt;')}</td>\n                          <td class=\"py-2 px-3 tabular-nums\" dir=\"ltr\">${row.movement_count.toLocaleString('en-US')}</td>\n                          <td class=\"py-2 px-3 tabular-nums\" dir=\"ltr\">${formatNum(row.sum_amount)}</td>\n                          <td class=\"py-2 px-3 tabular-nums\" dir=\"ltr\">${formatNum(row.sum_fees)}</td>\n                          <td class=\"py-2 px-3 tabular-nums\" dir=\"ltr\">${formatNum(row.sum_acq)}</td>\n                          <td class=\"py-2 px-3 font-bold tabular-nums\" dir=\"ltr\">${formatNum(row.sum_sttle)}</td>\n                        </tr>`).join('');\n                      const totalsHtml = `\n                        <tr style=\"background: linear-gradient(135deg, #026174 0%, #068294 100%); font-weight: bold; color: #fff;\">\n                          <td colspan=\"5\" class=\"py-3 px-3 text-end\">المجموع</td>\n                          <td class=\"py-3 px-3 tabular-nums\" dir=\"ltr\">${detailsTotals.movement_count.toLocaleString('en-US')}</td>\n                          <td class=\"py-3 px-3 tabular-nums\" dir=\"ltr\">${formatNum(detailsTotals.sum_amount)}</td>\n                          <td class=\"py-3 px-3 tabular-nums\" dir=\"ltr\">${formatNum(detailsTotals.sum_fees)}</td>\n                          <td class=\"py-3 px-3 tabular-nums\" dir=\"ltr\">${formatNum(detailsTotals.sum_acq)}</td>\n                          <td class=\"py-3 px-3 tabular-nums\" dir=\"ltr\">${formatNum(detailsTotals.sum_sttle)}</td>\n                        </tr>`;\n                      printWindow.document.write(`\n<!DOCTYPE html>\n<html dir=\"rtl\" lang=\"ar\">\n<head>\n  <meta charset=\"utf-8\">\n  <title>${title.replace(/</g, '&lt;')}</title>\n  <style>\n    body { font-family: 'Segoe UI', Tahoma, sans-serif; padding: 24px; color: #1e293b; }\n    h1 { font-size: 1.25rem; margin: 0 0 16px 0; }\n    table { width: 100%; border-collapse: collapse; font-size: 12px; }\n    th, td { padding: 8px 12px; text-align: right; border: 1px solid #e2e8f0; }\n    th { background: linear-gradient(135deg, #026174 0%, #068294 100%); color: #fff; font-weight: bold; }\n    .tabular-nums { font-variant-numeric: tabular-nums; }\n    @media print { body { padding: 12px; } }\n  </style>\n</head>\n<body>\n  <h1>${title.replace(/</g, '&lt;')}</h1>\n  <table>\n    <thead>\n      <tr>\n        <th>IBAN</th>\n        <th>الوزارة / المديرية / المحافظة</th>\n        <th>رقم الحساب</th>\n        <th>اسم الفرع</th>\n        <th>رقم الفرع</th>\n        <th>عدد الحركات</th>\n        <th>قيمة الحركات</th>\n        <th>العمولة</th>\n        <th>عمولة المحصل</th>\n        <th>مبلغ التسوية</th>\n      </tr>\n    </thead>\n    <tbody>${rowsHtml}${totalsHtml}\n    </tbody>\n  </table>\n</body>\n</html>`);\n                      printWindow.document.close();\n                      printWindow.focus();\n                      const doPrint = () => {\n                        try {\n                          printWindow.print();\n                        } finally {\n                          if (typeof printWindow.onafterprint !== 'undefined') {\n                            printWindow.onafterprint = () => printWindow.close();\n                          } else {\n                            setTimeout(() => printWindow.close(), 500);\n                          }\n                        }\n                      };\n                      if (printWindow.document.readyState === 'complete') {\n                        doPrint();\n                      } else {\n                        printWindow.onload = doPrint;\n                      }\n                    }}\n                    className=\"ds-btn ds-btn-outline inline-flex items-center gap-2 px-4 py-2 rounded-lg text-sm\"\n                  >\n                    <Printer className=\"w-4 h-4\" />\n                    طباعة\n                  </button>\n                  <button\n                    type=\"button\"\n                    onClick={() => {\n                      const headers = ['IBAN', 'الوزارة / المديرية / المحافظة', 'رقم الحساب', 'اسم الفرع', 'رقم الفرع', 'عدد الحركات', 'قيمة الحركات', 'العمولة', 'عمولة المحصل', 'مبلغ التسوية'];\n                      const rows = detailsRows.map((r) => [\n                        r.iban || '—',\n                        r.ministry_directorate_governorate || '—',\n                        r.account_number || '—',\n                        r.branch_name || '—',\n                        r.branch_number || '—',\n                        r.movement_count,\n                        r.sum_amount,\n                        r.sum_fees,\n                        r.sum_acq,\n                        r.sum_sttle,\n                      ]);\n                      rows.push(['المجموع', '', '', '', '', detailsTotals.movement_count, detailsTotals.sum_amount, detailsTotals.sum_fees, detailsTotals.sum_acq, detailsTotals.sum_sttle]);\n                      const ws = XLSX.utils.aoa_to_sheet([headers, ...rows]);\n                      const wb = XLSX.utils.book_new();\n                      const sheetName = `تفاصيل_${(detailsSettlement?.sttl_date ?? '').slice(0, 10)}`;\n                      XLSX.utils.book_append_sheet(wb, ws, sheetName);\n                      XLSX.writeFile(wb, `settlement_details_${(detailsSettlement?.sttl_date ?? '').slice(0, 10)}.xlsx`);\n                      toast({ title: 'تم التصدير', description: 'تم تنزيل ملف Excel بنجاح' });\n                    }}\n                    className=\"ds-btn ds-btn-outline inline-flex items-center gap-2 px-4 py-2 rounded-lg text-sm\"\n                  >\n                    <FileDown className=\"w-4 h-4\" />\n                    تصدير Excel\n                  </button>\n                </div>\n              )}\n            </DialogHeader>\n            <div className=\"p-6 overflow-auto flex-1 min-h-0\">\n              {detailsLoading ? (\n                <Loading message=\"جاري جلب التفاصيل...\" />\n              ) : detailsRows.length === 0 ? (\n                <div className=\"flex flex-col items-center justify-center gap-4 py-8\">\n                  <p className=\"text-center text-slate-600 m-0\">لا توجد تفاصيل مخزنة لهذه التسوية (بما فيها التسويات القديمة).</p>\n                  <p className=\"text-center text-sm text-slate-500 m-0\">تعبئة الجدول تنقل كل بيانات RTGS الحالية — بما فيها القديمة — إلى جدول التفاصيل.</p>\n                  <button\n                    type=\"button\"\n                    onClick={async () => {\n                      if (!detailsSettlement?.sttl_date || !detailsSettlement?.bank_display_name) return;\n                      setDetailsLoading(true);\n                      try {\n                        await api.post('/rtgs/backfill-gov-settlements');\n                        toast({ title: 'تمت التعبئة', description: 'تم تعبئة جدول التسويات والتفاصيل. جاري تحميل التفاصيل...' });\n                        const params = new URLSearchParams({ sttl_date: detailsSettlement.sttl_date, bank_display_name: detailsSettlement.bank_display_name });\n                        const res = await api.get(`/rtgs/government-settlement-details?${params.toString()}`);\n                        setDetailsRows(res.data?.details ?? []);\n                        fetchData();\n                      } catch (e: unknown) {\n                        const err = e as { response?: { data?: { error?: string } } };\n                        toast({ title: 'خطأ', description: err.response?.data?.error ?? 'فشل تعبئة الجدول', variant: 'destructive' });\n                      } finally {\n                        setDetailsLoading(false);\n                      }\n                    }}\n                    disabled={detailsLoading}\n                    className=\"ds-btn ds-btn-primary inline-flex items-center gap-2 px-5 py-2.5\"\n                  >\n                    <RefreshCw className={`w-4 h-4 ${detailsLoading ? 'animate-spin' : ''}`} />\n                    تعبئة الجدول الآن (التسويات القديمة + الحالية)\n                  </button>\n                </div>\n              ) : (\n                <div className=\"overflow-x-auto rounded-xl border\" style={{ borderColor: 'var(--border-card)' }}>\n                  <table className=\"ds-table w-full text-sm\" style={{ minWidth: '900px' }}>\n                    <thead>\n                      <tr className=\"table-header-dark\" style={{ background: 'linear-gradient(135deg, #026174 0%, #068294 100%)' }}>\n                        <th className=\"text-end py-3 px-3 font-bold text-white\">IBAN</th>\n                        <th className=\"text-end py-3 px-3 font-bold text-white\">الوزارة / المديرية / المحافظة</th>\n                        <th className=\"text-end py-3 px-3 font-bold text-white\">رقم الحساب</th>\n                        <th className=\"text-end py-3 px-3 font-bold text-white\">اسم الفرع</th>\n                        <th className=\"text-end py-3 px-3 font-bold text-white\">رقم الفرع</th>\n                        <th className=\"text-end py-3 px-3 font-bold text-white\">عدد الحركات</th>\n                        <th className=\"text-end py-3 px-3 font-bold text-white\">قيمة الحركات</th>\n                        <th className=\"text-end py-3 px-3 font-bold text-white\">العمولة</th>\n                        <th className=\"text-end py-3 px-3 font-bold text-white\">عمولة المحصل</th>\n                        <th className=\"text-end py-3 px-3 font-bold text-white\">مبلغ التسوية</th>\n                      </tr>\n                    </thead>\n                    <tbody>\n                      {detailsRows.map((row, idx) => (\n                        <tr key={idx} className=\"hover:bg-slate-50/80\">\n                          <td className=\"py-2 px-3 font-mono text-xs\" dir=\"ltr\">{row.iban || '—'}</td>\n                          <td className=\"py-2 px-3 max-w-[220px]\" title={row.ministry_directorate_governorate}>{row.ministry_directorate_governorate || '—'}</td>\n                          <td className=\"py-2 px-3\" dir=\"ltr\">{row.account_number || '—'}</td>\n                          <td className=\"py-2 px-3\">{row.branch_name || '—'}</td>\n                          <td className=\"py-2 px-3\" dir=\"ltr\">{row.branch_number || '—'}</td>\n                          <td className=\"py-2 px-3 tabular-nums\" dir=\"ltr\">{row.movement_count.toLocaleString('en-US')}</td>\n                          <td className=\"py-2 px-3 tabular-nums\" dir=\"ltr\">{formatNum(row.sum_amount)}</td>\n                          <td className=\"py-2 px-3 tabular-nums\" dir=\"ltr\">{formatNum(row.sum_fees)}</td>\n                          <td className=\"py-2 px-3 tabular-nums\" dir=\"ltr\">{formatNum(row.sum_acq)}</td>\n                          <td className=\"py-2 px-3 font-bold tabular-nums\" dir=\"ltr\" style={{ color: 'var(--primary-800)' }}>{formatNum(row.sum_sttle)}</td>\n                        </tr>\n                      ))}\n                    </tbody>\n                    <tfoot>\n                      <tr className=\"font-bold\" style={{ background: 'linear-gradient(135deg, #026174 0%, #068294 100%)', color: '#fff' }}>\n                        <td colSpan={5} className=\"py-3 px-3 text-end\">المجموع</td>\n                        <td className=\"py-3 px-3 tabular-nums\" dir=\"ltr\">{detailsTotals.movement_count.toLocaleString('en-US')}</td>\n                        <td className=\"py-3 px-3 tabular-nums\" dir=\"ltr\">{formatNum(detailsTotals.sum_amount)}</td>\n                        <td className=\"py-3 px-3 tabular-nums\" dir=\"ltr\">{formatNum(detailsTotals.sum_fees)}</td>\n                        <td className=\"py-3 px-3 tabular-nums\" dir=\"ltr\">{formatNum(detailsTotals.sum_acq)}</td>\n                        <td className=\"py-3 px-3 tabular-nums\" dir=\"ltr\">{formatNum(detailsTotals.sum_sttle)}</td>\n                      </tr>\n                    </tfoot>\n                  </table>\n                </div>\n              )}\n            </div>\n          </DialogContent>\n        </Dialog>\n\n        {/* نافذة عرض التفصيل — بحجم الشاشة */}\n        <Dialog open={!!detailGroup} onOpenChange={(open) => { if (!open) { setDetailGroup(null); setDetailViewMode('table'); } }}>\n          <DialogContent className=\"max-w-[95vw] w-full max-h-[95vh] h-full overflow-y-auto p-0 gap-0 rounded-2xl\">\n            {detailGroup && (\n              <>\n                <DialogHeader className=\"p-6 pb-4 border-b flex-row justify-between items-center gap-4 flex-wrap\" style={{ borderColor: 'var(--border-card)' }}>\n                  <DialogTitle className=\"text-xl font-bold\" style={{ color: 'var(--text-strong)' }}>\n                    {`تسوية ${formatDate(detailGroup.sttl_date)} — ${detailGroup.bank_name || detailGroup.rows[0]?.inst_id2 || '—'}`}\n                  </DialogTitle>\n                  <div className=\"flex items-center gap-2 flex-wrap\">\n                    <div className=\"flex rounded-lg overflow-hidden border border-slate-200 p-0.5\">\n                      <button\n                        type=\"button\"\n                        onClick={() => setDetailViewMode('table')}\n                        className={`px-3 py-2 text-sm font-medium rounded-md transition-colors ${detailViewMode === 'table' ? 'bg-[#068294] text-white' : 'bg-slate-100 text-slate-600 hover:bg-slate-200'}`}\n                      >\n                        <Table2 className=\"w-4 h-4 inline-block ms-1\" />\n                        جدول\n                      </button>\n                      <button\n                        type=\"button\"\n                        onClick={() => setDetailViewMode('cards')}\n                        className={`px-3 py-2 text-sm font-medium rounded-md transition-colors ${detailViewMode === 'cards' ? 'bg-[#068294] text-white' : 'bg-slate-100 text-slate-600 hover:bg-slate-200'}`}\n                      >\n                        <LayoutGrid className=\"w-4 h-4 inline-block ms-1\" />\n                        كروت\n                      </button>\n                    </div>\n                    <button\n                      type=\"button\"\n                      onClick={handleDownloadAsImage}\n                      disabled={downloadingImage}\n                      className=\"ds-btn ds-btn-primary flex items-center gap-2 px-4 py-2 text-sm disabled:opacity-70\"\n                    >\n                      <Download className=\"w-4 h-4\" />\n                      {downloadingImage ? 'جاري التحميل...' : 'تحميل كصورة'}\n                    </button>\n                  </div>\n                </DialogHeader>\n                <div className=\"p-6 overflow-auto bg-white flex justify-center\">\n                  <div\n                    ref={detailContentRef}\n                    className=\"bg-white\"\n                    style={{ width: 'fit-content', maxWidth: '100%', paddingBottom: '4rem' }}\n                  >\n                  {detailViewMode === 'table' ? (\n                    <>\n                      <div className=\"overflow-x-auto\">\n                        <table className=\"ds-table w-full\">\n                          <thead>\n                            <tr className=\"table-header-dark\" style={{ background: 'linear-gradient(135deg, #026174 0%, #068294 100%)' }}>\n                              <th className=\"text-end py-4 px-4 font-bold text-white\">تاريخ الحركة</th>\n                              <th className=\"text-end py-4 px-4 font-bold text-white\">عدد الحركات</th>\n                              <th className=\"text-end py-4 px-4 font-bold text-white\">قيمة الحركات (IQD)</th>\n                              <th className=\"text-end py-4 px-4 font-bold text-white\">قيمة العمولة (IQD)</th>\n                              <th className=\"text-end py-4 px-4 font-bold text-white\">عمولة المحصل (IQD)</th>\n                              <th className=\"text-end py-4 px-4 font-bold text-white\">قيمة التسوية (IQD)</th>\n                            </tr>\n                          </thead>\n                          <tbody>\n                            {detailGroup.rows.map((row, idx) => (\n                              <tr key={idx} className=\"hover:bg-slate-50/80\">\n                                <td className=\"py-3 px-4\" style={{ color: 'var(--text)' }} dir=\"ltr\">{formatDate(row.transaction_date)}</td>\n                                <td className=\"py-3 px-4 font-medium tabular-nums\" style={{ color: 'var(--text-strong)' }} dir=\"ltr\">{row.movement_count.toLocaleString('en-US')}</td>\n                                <td className=\"py-3 px-4 tabular-nums\" style={{ color: 'var(--text)' }} dir=\"ltr\">{formatNum(row.sum_amount)}</td>\n                                <td className=\"py-3 px-4 tabular-nums\" style={{ color: 'var(--text)' }} dir=\"ltr\">{formatNum(row.sum_fees)}</td>\n                                <td className=\"py-3 px-4 tabular-nums\" style={{ color: 'var(--text)' }} dir=\"ltr\">{formatNum(row.sum_acq)}</td>\n                                <td className=\"py-3 px-4 font-bold tabular-nums\" style={{ color: 'var(--primary-800)' }} dir=\"ltr\">{formatNum(row.sum_sttle)}</td>\n                              </tr>\n                            ))}\n                            <tr className=\"table-header-dark\" style={{ background: 'linear-gradient(135deg, #026174 0%, #068294 100%)', borderTop: '2px solid rgba(255,255,255,0.3)' }}>\n                              <td className=\"py-4 px-4 font-bold\">إجمالي التسوية</td>\n                              <td className=\"py-4 px-4 font-bold tabular-nums\" dir=\"ltr\">{detailGroup.totals.movement_count.toLocaleString('en-US')}</td>\n                              <td className=\"py-4 px-4 font-bold tabular-nums\" dir=\"ltr\">{formatNum(detailGroup.totals.sum_amount)}</td>\n                              <td className=\"py-4 px-4 font-bold tabular-nums\" dir=\"ltr\">{formatNum(detailGroup.totals.sum_fees)}</td>\n                              <td className=\"py-4 px-4 font-bold tabular-nums\" dir=\"ltr\">{formatNum(detailGroup.totals.sum_acq)}</td>\n                              <td className=\"py-4 px-4 font-bold tabular-nums\" dir=\"ltr\">{formatNum(detailGroup.totals.sum_sttle)}</td>\n                            </tr>\n                          </tbody>\n                        </table>\n                      </div>\n                      <div className=\"mt-6 mb-6 flex justify-end\">\n                        <img src=\"/stamp-settlement-reconciliation.png\" alt=\"ختم التسويات\" className=\"h-24 w-auto object-contain opacity-90\" />\n                      </div>\n                    </>\n                  ) : (\n                    /* عرض الكارت — الختم خارج الكارت لتجنب قصّه عند التحميل */\n                    <div className=\"flex flex-col gap-4\" style={{ maxWidth: '480px' }}>\n                      <div\n                        className=\"rounded-2xl overflow-hidden flex flex-col relative\"\n                        style={{\n                          background: 'var(--surface)',\n                          border: '2px solid var(--border-card)',\n                          boxShadow: '0 2px 8px rgba(15, 23, 42, 0.06), inset 0 1px 0 rgba(255,255,255,0.8)',\n                        }}\n                      >\n                        <div className=\"absolute top-0 bottom-0 w-1 rounded-r-full opacity-80\" style={{ right: 0, background: 'linear-gradient(180deg, var(--primary-800), var(--primary-600), var(--primary-700))' }} aria-hidden />\n                        <div className=\"p-6 flex flex-col gap-4\">\n                          <h3 className=\"text-xl font-bold leading-snug\" style={{ color: 'var(--text-strong)' }}>\n                            {`تسوية ${formatDate(detailGroup.sttl_date)} — ${detailGroup.bank_name || detailGroup.rows[0]?.inst_id2 || '—'}`}\n                          </h3>\n                          {/* تفصيل حسب تاريخ الحركة */}\n                          <div className=\"space-y-3\">\n                            {detailGroup.rows.map((row, rowIdx) => (\n                              <div\n                                key={rowIdx}\n                                className=\"rounded-xl p-3 text-sm\"\n                                style={{ background: 'rgba(2, 97, 116, 0.04)', border: '1px solid var(--border)' }}\n                              >\n                                <div className=\"font-bold mb-2 text-xs\" style={{ color: 'var(--primary-800)' }}>\n                                  تاريخ الحركة: <span dir=\"ltr\">{formatDate(row.transaction_date)}</span>\n                                </div>\n                                <div className=\"grid grid-cols-2 gap-x-4 gap-y-1.5 text-xs\">\n                                  <div className=\"flex justify-between\"><span style={{ color: 'var(--text-muted)' }}>عدد الحركات</span><span className=\"tabular-nums font-medium\" dir=\"ltr\">{row.movement_count.toLocaleString('en-US')}</span></div>\n                                  <div className=\"flex justify-between\"><span style={{ color: 'var(--text-muted)' }}>قيمة الحركات</span><span className=\"tabular-nums font-medium\" dir=\"ltr\">{formatNum(row.sum_amount)} IQD</span></div>\n                                  <div className=\"flex justify-between\"><span style={{ color: 'var(--text-muted)' }}>قيمة العمولة</span><span className=\"tabular-nums font-medium\" dir=\"ltr\">{formatNum(row.sum_fees)} IQD</span></div>\n                                  <div className=\"flex justify-between\"><span style={{ color: 'var(--text-muted)' }}>عمولة المحصل</span><span className=\"tabular-nums font-medium\" dir=\"ltr\">{formatNum(row.sum_acq)} IQD</span></div>\n                                  <div className=\"col-span-2 flex justify-between pt-1 border-t mt-1\" style={{ borderColor: 'var(--border)' }}><span style={{ color: 'var(--text-muted)' }}>قيمة التسوية</span><span className=\"tabular-nums font-bold\" style={{ color: 'var(--primary-800)' }} dir=\"ltr\">{formatNum(row.sum_sttle)} IQD</span></div>\n                                </div>\n                              </div>\n                            ))}\n                          </div>\n                          {/* إجمالي التسوية */}\n                          <div className=\"table-header-dark rounded-xl p-4 mt-1\" style={{ background: 'linear-gradient(135deg, #026174 0%, #068294 100%)' }}>\n                            <div className=\"font-bold text-sm mb-2\">إجمالي التسوية</div>\n                            <div className=\"grid grid-cols-2 gap-x-4 gap-y-1.5 text-sm\">\n                              <div className=\"flex justify-between\"><span>عدد الحركات</span><span className=\"tabular-nums font-bold\" dir=\"ltr\">{detailGroup.totals.movement_count.toLocaleString('en-US')}</span></div>\n                              <div className=\"flex justify-between\"><span>قيمة الحركات</span><span className=\"tabular-nums font-bold\" dir=\"ltr\">{formatNum(detailGroup.totals.sum_amount)} IQD</span></div>\n                              <div className=\"flex justify-between\"><span>قيمة العمولة</span><span className=\"tabular-nums font-bold\" dir=\"ltr\">{formatNum(detailGroup.totals.sum_fees)} IQD</span></div>\n                              <div className=\"flex justify-between\"><span>عمولة المحصل</span><span className=\"tabular-nums font-bold\" dir=\"ltr\">{formatNum(detailGroup.totals.sum_acq)} IQD</span></div>\n                              <div className=\"col-span-2 flex justify-between pt-1 border-t border-white/30 mt-1\"><span>قيمة التسوية</span><span className=\"tabular-nums font-bold\" dir=\"ltr\">{formatNum(detailGroup.totals.sum_sttle)} IQD</span></div>\n                            </div>\n                          </div>\n                        </div>\n                      </div>\n                      {/* ختم التسويات — خارج overflow-hidden ليكون كاملاً عند التحميل */}\n                      <div className=\"flex items-center justify-end pt-2 border-t\" style={{ borderColor: 'var(--border)' }}>\n                        <img src=\"/stamp-settlement-reconciliation.png\" alt=\"ختم التسويات\" className=\"h-20 w-auto object-contain opacity-90\" />\n                      </div>\n                    </div>\n                  )}\n                  </div>\n                </div>\n              </>\n            )}\n          </DialogContent>\n        </Dialog>\n      </div>\n    </div>\n  );\n}\n\nexport default GovernmentSettlements;\n","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name Printer\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cG9seWxpbmUgcG9pbnRzPSI2IDkgNiAyIDE4IDIgMTggOSIgLz4KICA8cGF0aCBkPSJNNiAxOEg0YTIgMiAwIDAgMS0yLTJ2LTVhMiAyIDAgMCAxIDItMmgxNmEyIDIgMCAwIDEgMiAydjVhMiAyIDAgMCAxLTIgMmgtMiIgLz4KICA8cmVjdCB3aWR0aD0iMTIiIGhlaWdodD0iOCIgeD0iNiIgeT0iMTQiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/printer\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Printer = createLucideIcon('Printer', [\n  ['polyline', { points: '6 9 6 2 18 2 18 9', key: '1306q4' }],\n  [\n    'path',\n    {\n      d: 'M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2',\n      key: '143wyd',\n    },\n  ],\n  ['rect', { width: '12', height: '8', x: '6', y: '14', key: '5ipwut' }],\n]);\n\nexport default Printer;\n","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name Activity\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMjIgMTJoLTRsLTMgOUw5IDNsLTMgOUgyIiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/activity\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Activity = createLucideIcon('Activity', [\n  ['path', { d: 'M22 12h-4l-3 9L9 3l-3 9H2', key: 'd5dnw9' }],\n]);\n\nexport default Activity;\n","import * as React from 'react';\nimport { cn } from '@/lib/utils';\n\nconst INPUT_ERROR_BORDER = 'rgba(220, 38, 38, 0.6)';\nconst INPUT_BORDER = 'rgba(2, 97, 116, 0.25)';\nconst INPUT_FOCUS_RING = '0 0 0 2px rgba(2, 97, 116, 0.25)';\n\nexport interface InputProps extends React.InputHTMLAttributes<HTMLInputElement> {\n  /** عند true يظهر الحقل بحالة خطأ (حد أحمر + aria-invalid) */\n  error?: boolean;\n  /** id لعنصر رسالة الخطأ لربط aria-describedby */\n  errorId?: string;\n}\n\nconst Input = React.forwardRef<HTMLInputElement, InputProps>(\n  ({ className, type, style, error, errorId, onFocus, onBlur, ...props }, ref) => {\n    const handleFocus = (e: React.FocusEvent<HTMLInputElement>) => {\n      e.target.style.borderColor = error ? INPUT_ERROR_BORDER : '#068294';\n      e.target.style.boxShadow = error ? 'none' : INPUT_FOCUS_RING;\n      onFocus?.(e);\n    };\n\n    const handleBlur = (e: React.FocusEvent<HTMLInputElement>) => {\n      e.target.style.borderColor = error ? INPUT_ERROR_BORDER : INPUT_BORDER;\n      e.target.style.boxShadow = 'none';\n      onBlur?.(e);\n    };\n\n    return (\n      <input\n        type={type}\n        className={cn(\n          'flex h-10 w-full rounded-xl border px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-[#026174]/40 disabled:cursor-not-allowed disabled:opacity-50 transition-all',\n          className\n        )}\n        style={{\n          borderColor: error ? INPUT_ERROR_BORDER : INPUT_BORDER,\n          background: '#ffffff',\n          color: '#0f172a',\n          ...(style || {}),\n        }}\n        onFocus={handleFocus}\n        onBlur={handleBlur}\n        ref={ref}\n        aria-invalid={error ? true : undefined}\n        aria-describedby={error && errorId ? errorId : undefined}\n        {...props}\n      />\n    );\n  }\n);\nInput.displayName = 'Input';\n\nexport { Input };\n","import { useState, useEffect } from 'react';\nimport { motion, useMotionValue, useTransform, animate, useMotionValueEvent } from 'framer-motion';\nimport { Hash } from 'lucide-react';\nimport type { LucideIcon } from 'lucide-react';\n\nfunction AnimatedKpiNumber({ value }: { value: number }) {\n  const count = useMotionValue(0);\n  const rounded = useTransform(count, (v) => Math.round(v));\n  const [display, setDisplay] = useState(0);\n  useMotionValueEvent(rounded, 'change', setDisplay);\n  useEffect(() => {\n    const c = animate(count, value, { duration: 0.8, ease: [0.25, 0.46, 0.45, 0.94] });\n    return () => c.stop();\n  }, [value, count]);\n  return <span>{display}</span>;\n}\n\nexport interface KpiItem {\n  label: string;\n  value: number;\n  Icon: LucideIcon;\n  color: string;\n  glow: string;\n  gradient: string;\n  /** When provided, displays formatted string instead of animated number (e.g. for amounts) */\n  formatDisplay?: (v: number) => string;\n}\n\ninterface KpiCardsProps {\n  items: KpiItem[];\n}\n\nexport function KpiCards({ items }: KpiCardsProps) {\n  return (\n    <div className=\"grid gap-4 mb-6\" style={{ gridTemplateColumns: 'repeat(auto-fit, minmax(200px, 1fr))' }}>\n      {items.map((item, idx) => {\n        const Icon = item.Icon ?? Hash;\n        return (\n          <motion.div\n            key={idx}\n            initial={{ opacity: 0, y: 24, scale: 0.95 }}\n            animate={{ opacity: 1, y: 0, scale: 1 }}\n            transition={{\n              delay: idx * 0.08,\n              type: 'spring',\n              stiffness: 200,\n              damping: 20,\n            }}\n            className=\"group relative overflow-hidden rounded-2xl cursor-default\"\n            style={{\n              background: 'linear-gradient(145deg, #ffffff 0%, #f8fafc 100%)',\n              boxShadow: '0 4px 20px rgba(15,23,42,0.08), 0 0 0 1px rgba(0,0,0,0.04)',\n              border: '2px solid var(--border-card)',\n            }}\n            whileHover={{\n              y: -8,\n              scale: 1.04,\n              boxShadow: `0 24px 48px rgba(15,23,42,0.15), 0 0 0 1px rgba(0,0,0,0.06), 0 0 40px ${item.glow}`,\n              transition: { duration: 0.3, ease: [0.25, 0.46, 0.45, 0.94] },\n            }}\n          >\n            <motion.div\n              className=\"absolute top-0 right-0 left-0 h-1 opacity-80\"\n              style={{ background: item.gradient, transformOrigin: 'right' }}\n              initial={{ scaleX: 0 }}\n              animate={{ scaleX: 1 }}\n              transition={{ delay: idx * 0.08 + 0.2, duration: 0.5, ease: 'easeOut' }}\n            />\n            <div className=\"card-shine-hover absolute inset-0 pointer-events-none overflow-hidden opacity-0 group-hover:opacity-100 transition-opacity\" style={{ zIndex: 0 }} />\n            <motion.div\n              className=\"absolute inset-y-0 start-0 w-1 rounded-s-2xl group-hover:w-1.5 transition-all duration-300\"\n              style={{ background: item.gradient, boxShadow: `0 0 12px ${item.glow}` }}\n              animate={{ opacity: [0.85, 1, 0.85] }}\n              transition={{ opacity: { duration: 2.5, repeat: Infinity, ease: 'easeInOut' } }}\n            />\n            <div className=\"p-5 flex items-center gap-4 relative z-10\">\n              <motion.div\n                className=\"flex-shrink-0 w-12 h-12 rounded-xl flex items-center justify-center\"\n                style={{\n                  background: `linear-gradient(145deg, ${item.color}18 0%, ${item.color}08 100%)`,\n                  boxShadow: `inset 0 2px 4px rgba(255,255,255,0.5), 0 4px 12px ${item.color}30`,\n                }}\n                animate={{ scale: [1, 1.03, 1] }}\n                transition={{ duration: 2.5, repeat: Infinity, ease: 'easeInOut' }}\n                whileHover={{ scale: 1.12, rotate: 6 }}\n              >\n                <Icon className=\"w-6 h-6\" style={{ color: item.color }} strokeWidth={2.5} />\n              </motion.div>\n              <div className=\"flex-1 min-w-0\">\n                <p className=\"text-xs font-bold m-0 mb-1 tracking-wide uppercase\" style={{ color: 'var(--text-muted)', letterSpacing: '0.05em' }}>{item.label}</p>\n                <p className=\"text-xl font-extrabold m-0 leading-tight tabular-nums\" style={{ color: 'var(--text-strong)' }} dir=\"ltr\">\n                  {item.formatDisplay ? item.formatDisplay(item.value) : <AnimatedKpiNumber value={item.value} />}\n                </p>\n              </div>\n            </div>\n          </motion.div>\n        );\n      })}\n    </div>\n  );\n}\n","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name RefreshCw\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMyAxMmE5IDkgMCAwIDEgOS05IDkuNzUgOS43NSAwIDAgMSA2Ljc0IDIuNzRMMjEgOCIgLz4KICA8cGF0aCBkPSJNMjEgM3Y1aC01IiAvPgogIDxwYXRoIGQ9Ik0yMSAxMmE5IDkgMCAwIDEtOSA5IDkuNzUgOS43NSAwIDAgMS02Ljc0LTIuNzRMMyAxNiIgLz4KICA8cGF0aCBkPSJNOCAxNkgzdjUiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/refresh-cw\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst RefreshCw = createLucideIcon('RefreshCw', [\n  ['path', { d: 'M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8', key: 'v9h5vc' }],\n  ['path', { d: 'M21 3v5h-5', key: '1q7to0' }],\n  ['path', { d: 'M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16', key: '3uifl3' }],\n  ['path', { d: 'M8 16H3v5', key: '1cv678' }],\n]);\n\nexport default RefreshCw;\n","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name FileDown\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMTQuNSAySDZhMiAyIDAgMCAwLTIgMnYxNmEyIDIgMCAwIDAgMiAyaDEyYTIgMiAwIDAgMCAyLTJWNy41TDE0LjUgMnoiIC8+CiAgPHBvbHlsaW5lIHBvaW50cz0iMTQgMiAxNCA4IDIwIDgiIC8+CiAgPHBhdGggZD0iTTEyIDE4di02IiAvPgogIDxwYXRoIGQ9Im05IDE1IDMgMyAzLTMiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/file-down\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst FileDown = createLucideIcon('FileDown', [\n  [\n    'path',\n    { d: 'M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z', key: '1nnpy2' },\n  ],\n  ['polyline', { points: '14 2 14 8 20 8', key: '1ew0cm' }],\n  ['path', { d: 'M12 18v-6', key: '17g6i2' }],\n  ['path', { d: 'm9 15 3 3 3-3', key: '1npd3o' }],\n]);\n\nexport default FileDown;\n","import * as React from \"react\"\nimport * as DialogPrimitive from \"@radix-ui/react-dialog\"\nimport { X } from \"lucide-react\"\nimport { cn } from \"@/lib/utils\"\n\nconst Dialog = DialogPrimitive.Root\nconst DialogTrigger = DialogPrimitive.Trigger\nconst DialogPortal = DialogPrimitive.Portal\nconst DialogClose = DialogPrimitive.Close\n\nconst DialogOverlay = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Overlay>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Overlay>\n>(({ className, ...props }, ref) => (\n  <DialogPrimitive.Overlay\n    ref={ref}\n    className={cn(\n      \"fixed inset-0 z-50 backdrop-blur-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0\",\n      className\n    )}\n    style={{\n      background: 'rgba(42, 110, 133, 0.2)',\n      ...(props.style || {})\n    }}\n    {...props}\n  />\n))\nDialogOverlay.displayName = DialogPrimitive.Overlay.displayName\n\nconst DialogContent = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Content>\n>(({ className, children, style, ...props }, ref) => (\n  <DialogPortal>\n    <DialogOverlay />\n    <DialogPrimitive.Content\n      ref={ref}\n      className={cn(\n        \"fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-5 border-2 p-6 shadow-2xl duration-300 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] rounded-2xl\",\n        className\n      )}\n      style={{\n        background: '#ffffff',\n        borderColor: 'rgba(6, 130, 148, 0.25)',\n        boxShadow: '0 25px 50px -12px rgba(0, 0, 0, 0.15), 0 0 0 1px rgba(6, 130, 148, 0.08)',\n        ...(style || {})\n      }}\n      aria-describedby={undefined}\n      {...props}\n    >\n      {children}\n      <DialogPrimitive.Close \n        className=\"absolute right-4 top-4 rounded-xl p-1.5 opacity-70 ring-offset-background transition-all hover:opacity-100 hover:bg-white focus:outline-none focus:ring-2 focus:ring-[#068294] focus:ring-offset-2 disabled:pointer-events-none\" \n        style={{ color: '#2A6E85' }}\n      >\n        <X className=\"h-5 w-5\" />\n        <span className=\"sr-only\">إغلاق</span>\n      </DialogPrimitive.Close>\n    </DialogPrimitive.Content>\n  </DialogPortal>\n))\nDialogContent.displayName = DialogPrimitive.Content.displayName\n\nconst DialogHeader = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      \"flex flex-col space-y-1.5 text-center sm:text-right\",\n      className\n    )}\n    {...props}\n  />\n)\nDialogHeader.displayName = \"DialogHeader\"\n\nconst DialogFooter = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      \"flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2 sm:space-x-reverse\",\n      className\n    )}\n    {...props}\n  />\n)\nDialogFooter.displayName = \"DialogFooter\"\n\nconst DialogTitle = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Title>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Title>\n>(({ className, ...props }, ref) => (\n  <DialogPrimitive.Title\n    ref={ref}\n    className={cn(\n      \"text-lg font-bold leading-none tracking-tight\",\n      className\n    )}\n    style={{ color: '#2A6E85', fontWeight: 700, ...(props.style || {}) }}\n    {...props}\n  />\n))\nDialogTitle.displayName = DialogPrimitive.Title.displayName\n\nconst DialogDescription = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Description>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Description>\n>(({ className, ...props }, ref) => (\n  <DialogPrimitive.Description\n    ref={ref}\n    className={cn(\"text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n))\nDialogDescription.displayName = DialogPrimitive.Description.displayName\n\nexport {\n  Dialog,\n  DialogPortal,\n  DialogOverlay,\n  DialogClose,\n  DialogTrigger,\n  DialogContent,\n  DialogHeader,\n  DialogFooter,\n  DialogTitle,\n  DialogDescription,\n}\n","import * as React from \"react\"\nimport { Check, ChevronsUpDown, Search } from \"lucide-react\"\nimport { cn } from \"@/lib/utils\"\nimport { Button } from \"@/components/ui/button\"\nimport {\n  Dialog,\n  DialogContent,\n  DialogHeader,\n  DialogTitle,\n} from \"@/components/ui/dialog\"\nimport { Input } from \"@/components/ui/input\"\n\ninterface SearchableSelectProps<T> {\n  value: string\n  onChange: (value: string) => void\n  options: T[]\n  getOptionLabel: (option: T) => string\n  getOptionValue: (option: T) => string\n  placeholder?: string\n  searchPlaceholder?: string\n  className?: string\n  disabled?: boolean\n}\n\nexport function SearchableSelect<T>({\n  value,\n  onChange,\n  options,\n  getOptionLabel,\n  getOptionValue,\n  placeholder = \"اختر...\",\n  searchPlaceholder = \"ابحث...\",\n  className,\n  disabled,\n}: SearchableSelectProps<T>) {\n  const [open, setOpen] = React.useState(false)\n  const [search, setSearch] = React.useState(\"\")\n\n  const filteredOptions = React.useMemo(() => {\n    if (!search) return options\n    const searchLower = search.toLowerCase()\n    return options.filter((option) =>\n      getOptionLabel(option).toLowerCase().includes(searchLower)\n    )\n  }, [options, search, getOptionLabel])\n\n  const selectedOption = options.find(\n    (option) => getOptionValue(option) === value\n  )\n\n  return (\n    <>\n      <Button\n        type=\"button\"\n        variant=\"outline\"\n        role=\"combobox\"\n        aria-expanded={open}\n        className={cn(\"w-full justify-between\", className)}\n        onClick={() => setOpen(true)}\n        disabled={disabled}\n      >\n        {selectedOption ? getOptionLabel(selectedOption) : placeholder}\n        <ChevronsUpDown className=\"ml-2 h-4 w-4 shrink-0 opacity-50\" />\n      </Button>\n      <Dialog open={open} onOpenChange={setOpen}>\n        <DialogContent className=\"sm:max-w-[425px] select-modal-formal ds-popover\">\n          <DialogHeader>\n            <DialogTitle className=\"text-slate-800 font-bold text-xl\">اختر من القائمة</DialogTitle>\n          </DialogHeader>\n          <div className=\"space-y-4\">\n            <div className=\"relative\">\n              <Search className=\"absolute right-3 top-1/2 -translate-y-1/2 h-4 w-4 text-[#068294]\" />\n              <Input\n                placeholder={searchPlaceholder}\n                value={search}\n                onChange={(e) => setSearch(e.target.value)}\n                className=\"pr-9 bg-white border-slate-200 text-slate-800 placeholder:text-slate-500 focus:ring-[#068294]/30 focus:border-[#068294]\"\n              />\n            </div>\n            <div className=\"max-h-[300px] overflow-y-auto space-y-1 scrollbar-formal\">\n              {filteredOptions.length === 0 ? (\n                <div className=\"text-center py-8 text-slate-600 font-medium\">\n                  لا توجد نتائج\n                </div>\n              ) : (\n                filteredOptions.map((option) => {\n                  const optionValue = getOptionValue(option)\n                  const isSelected = value === optionValue\n                  return (\n                    <button\n                      key={optionValue}\n                      type=\"button\"\n                      role=\"option\"\n                      aria-selected={isSelected}\n                      onClick={() => {\n                        onChange(optionValue)\n                        setOpen(false)\n                        setSearch(\"\")\n                      }}\n                      className={cn(\n                        \"ds-option w-full text-right flex items-center justify-between px-3 py-2.5 rounded-lg transition-colors\",\n                        isSelected\n                          ? \"bg-[#EBF4F6] text-[#026174] font-semibold\"\n                          : \"bg-transparent text-slate-800\"\n                      )}\n                    >\n                      <span>{getOptionLabel(option)}</span>\n                      {isSelected && (\n                        <Check className=\"h-4 w-4 text-[#068294]\" />\n                      )}\n                    </button>\n                  )\n                })\n              )}\n            </div>\n          </div>\n        </DialogContent>\n      </Dialog>\n    </>\n  )\n}\n","import React from 'react';\n\nexport default function Loading({ message = 'جاري التحميل...' }) {\n  return (\n    <div className=\"loading-wrapper\">\n      <div className=\"loading-spinner\" />\n      <p className=\"loading-message\">{message}</p>\n    </div>\n  );\n}\n","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name Percent\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8bGluZSB4MT0iMTkiIHgyPSI1IiB5MT0iNSIgeTI9IjE5IiAvPgogIDxjaXJjbGUgY3g9IjYuNSIgY3k9IjYuNSIgcj0iMi41IiAvPgogIDxjaXJjbGUgY3g9IjE3LjUiIGN5PSIxNy41IiByPSIyLjUiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/percent\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Percent = createLucideIcon('Percent', [\n  ['line', { x1: '19', x2: '5', y1: '5', y2: '19', key: '1x9vlm' }],\n  ['circle', { cx: '6.5', cy: '6.5', r: '2.5', key: '4mh3h7' }],\n  ['circle', { cx: '17.5', cy: '17.5', r: '2.5', key: '1mdrzq' }],\n]);\n\nexport default Percent;\n"],"names":["DollarSign","createLucideIcon","x1","x2","y1","y2","key","d","Coins","cx","cy","r","formatDate","s","slice","replace","formatNum","n","Number","toLocaleString","minimumFractionDigits","maximumFractionDigits","GovernmentSettlements","_detailsSettlement$st","_detailGroup$rows$","_detailGroup$rows$2","data","setData","useState","loading","setLoading","pagination","setPagination","page","limit","total","totalPages","summary","setSummary","total_settlements","total_movements","total_amount","total_fees","total_acq","total_sttle","todayStr","useMemo","Date","opts","timeZone","year","month","day","Intl","DateTimeFormat","format","yesterdayStr","setDate","getDate","filters","setFilters","sttl_date_from","sttl_date_to","bank_display_name","initializedFromSettings","setInitializedFromSettings","bankOptions","setBankOptions","viewMode","setViewMode","detailGroup","setDetailGroup","detailViewMode","setDetailViewMode","downloadingImage","setDownloadingImage","backfillLoading","setBackfillLoading","detailsSettlement","setDetailsSettlement","detailsLoading","setDetailsLoading","detailsRows","setDetailsRows","detailsTotals","length","reduce","acc","movement_count","sum_amount","sum_fees","sum_acq","sum_sttle","detailContentRef","useRef","printAreaRef","toast","useToast","useEffect","sttl_date","sttl","bank","params","URLSearchParams","set","api","get","concat","toString","then","res","_res$data$details","_res$data","_res$data2","_res$data2$details","details","title","description","variant","catch","finally","Array","isArray","mode","settlementCardsDateMode","custom","String","settlementCardsCustomDate","trim","from","to","test","prev","_objectSpread","fetchData","async","query","url","lastError","attempt","_res$data$data","_res$data3","_res$data$summary","_res$data4","_res$data$pagination","_res$data5","e","Promise","setTimeout","_err$response","_err$response$data","_err$response2","_err$response2$data","err","serverError","response","error","detail","handleFilterChange","value","hasActiveFilters","groups","rows","map","Map","row","_row$sttl_date","_row$inst_id","inst_id2","has","bank_name","push","entries","forEach","_ref","val","totals","groupBySettlement","exporting","setExporting","openSettlementDetails","group","_group$rows$","sttlDate","bankName","_jsx","className","style","padding","background","children","_jsxs","maxWidth","color","boxShadow","type","onClick","LayoutGrid","Table2","_res$data6","_res$data$total_rows","_res$data7","_res$data$sources","_res$data8","post","message","total_rows","sources","_err$response$data$er","_err$response3","_err$response3$data","disabled","RefreshCw","limitPerPage","allData","_res$data$data2","_res$data9","_res$data$pagination$","_res$data0","_res$data0$pagination","chunk","headers","_ref2","_r$bank_name","transaction_date","wb","XLSX","book_new","ws","aoa_to_sheet","book_append_sheet","_err$response$data$er2","_err$response4","_err$response4$data","FileDown","handlePrint","current","printContent","innerHTML","win","window","open","print","document","write","close","focus","onafterprint","Printer","Link","ArrowRight","ref","KpiCards","items","label","Icon","Hash","glow","gradient","Activity","formatDisplay","Percent","LayoutList","Filter","resetFilters","X","Calendar","onChange","target","SearchableSelect","v","options","b","getOptionLabel","opt","getOptionValue","placeholder","searchPlaceholder","border","Loading","Banknote","AnimatePresence","index","_group$rows$2","dateStr","bankStr","motion","div","initial","opacity","y","animate","exit","scale","transition","duration","delay","ease","whileHover","zIndex","right","rowIdx","dir","borderColor","Eye","FileText","alignSelf","src","alt","p","Math","max","ChevronRight","min","ChevronLeft","_Fragment","isolation","minWidth","borderCollapse","borderSpacing","_group$rows$3","React","borderTop","colSpan","idx","tr","position","cursor","textShadow","Dialog","onOpenChange","DialogContent","DialogHeader","DialogTitle","_detailsSettlement$st2","printWindow","rowsHtml","iban","ministry_directorate_governorate","account_number","branch_name","branch_number","join","totalsHtml","doPrint","readyState","onload","_detailsSettlement$st3","_detailsSettlement$st4","sheetName","_res$data$details2","_res$data1","_err$response$data$er3","_err$response5","_err$response5$data","dataUrl","toPng","quality","pixelRatio","backgroundColor","link","createElement","safeDate","safeBank","download","href","click","Download","width","paddingBottom","points","height","x","INPUT_ERROR_BORDER","INPUT_BORDER","Input","errorId","onFocus","onBlur","props","_objectWithoutProperties","_excluded","cn","undefined","displayName","AnimatedKpiNumber","count","useMotionValue","rounded","useTransform","round","display","setDisplay","useMotionValueEvent","c","stop","gridTemplateColumns","item","_item$Icon","stiffness","damping","transformOrigin","scaleX","repeat","Infinity","rotate","strokeWidth","letterSpacing","DialogPrimitive","DialogTrigger","DialogPortal","DialogOverlay","_excluded2","_ref3","_excluded3","DialogFooter","_ref4","_excluded4","_ref5","_excluded5","fontWeight","DialogDescription","_ref6","_excluded6","setOpen","search","setSearch","filteredOptions","searchLower","toLowerCase","filter","option","includes","selectedOption","find","Button","role","ChevronsUpDown","Search","optionValue","isSelected","Check"],"ignoreList":[],"sourceRoot":""}
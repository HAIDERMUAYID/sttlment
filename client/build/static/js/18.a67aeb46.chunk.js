"use strict";(self.webpackChunksttlment_client=self.webpackChunksttlment_client||[]).push([[18],{25851(e,s,a){a.d(s,{T:()=>l});var r=a(2240),t=a(52422);function l(e,s){const a=(0,r.n)(e=>e.user);return!!a&&(0,t._m)(a.permissions,a.role,e,s)}},69018(e,s,a){a.d(s,{TVSettingsV2:()=>S});var r=a(22555),t=a(65043),l=a(6931),d=a(63248),i=a(47097),n=a(73375),o=a(92417),c=a(51704),m=a(19162),x=a(99996),b=a(22633),y=a(56790),p=a(84259),v=a(34379),u=a(50516),h=a(88693),g=a(63507),j=a(52414),f=a(7118),N=a(25851),k=a(23585),A=a(1648),C=a(41024),w=a(70579);const I={opening:!0,overview:!0,scheduledTasks:!0,additionalTasks:!0,employee:!0,employeeMonthly:!0,overdue:!0,attendance:!0,coverage:!0,categories:!0,recognition:!0,rtgsImportsToday:!0,rtgsSettlementsByImport:!0,ctMatching:!0,governmentSettlements:!0,governmentSettlementCards:!0,settlementsMatchingOverview:!0,monthlyScheduledByCategory:!0,monthlyAdditionalByEmployee:!0,departmentMonthlyOverview:!0};function D(e){let{id:s,index:a,label:t,isEnabled:l,duration:d,canEdit:i,onDurationChange:n,onMoveUp:o,onMoveDown:c,canMoveUp:m,canMoveDown:y}=e;const{attributes:v,listeners:u,setNodeRef:h,transform:j,transition:f,isDragging:N}=(0,A.gl)({id:s}),k={transform:C.Ks.Transform.toString(j),transition:f};return(0,w.jsxs)("div",{ref:h,style:(0,r.A)((0,r.A)({},k),{},{borderColor:l?"var(--primary-600)":"var(--border-card)",background:l?"rgba(2, 97, 116, 0.05)":"#fafbfc",opacity:l?1:.5,zIndex:N?50:void 0,boxShadow:N?"0 8px 24px rgba(0,0,0,0.15)":void 0}),className:"flex items-center gap-3 p-3 rounded-lg border-2",children:[(0,w.jsx)("span",{className:"text-sm font-bold",style:{color:"var(--text-muted)",minWidth:"2rem"},children:a+1}),(0,w.jsx)("div",(0,r.A)((0,r.A)((0,r.A)({},v),u),{},{className:"cursor-grab active:cursor-grabbing touch-none p-1 rounded hover:bg-black/5",title:"\u0627\u0633\u062d\u0628 \u0644\u062a\u063a\u064a\u064a\u0631 \u0627\u0644\u062a\u0631\u062a\u064a\u0628",children:(0,w.jsx)(p.A,{className:"w-5 h-5",style:{color:"var(--text-muted)"}})})),(0,w.jsx)("span",{className:"text-sm flex-1",style:{color:"var(--text)"},children:t}),(0,w.jsx)("div",{className:"flex items-center gap-2",children:(0,w.jsxs)("label",{className:"flex items-center gap-1.5 text-sm",style:{color:"var(--text-muted)"},children:[(0,w.jsx)(g.A,{className:"w-4 h-4"}),(0,w.jsx)("input",{type:"number",min:3,max:300,value:d,onChange:e=>n(parseInt(e.target.value,10)||10),disabled:!i,className:"w-16 py-1 px-2 rounded border text-center text-sm",dir:"ltr"}),(0,w.jsx)("span",{children:"\u062b"})]})}),(0,w.jsxs)("div",{className:"flex gap-1",children:[(0,w.jsx)("button",{type:"button",onClick:o,disabled:!i||!m,className:"p-1.5 rounded-lg border-2 disabled:opacity-30 disabled:cursor-not-allowed hover:bg-gray-100 transition-colors",style:{borderColor:"var(--border-card)"},title:"\u062a\u062d\u0631\u064a\u0643 \u0644\u0623\u0639\u0644\u0649",children:(0,w.jsx)(b.A,{className:"w-4 h-4",style:{color:"var(--text)"}})}),(0,w.jsx)("button",{type:"button",onClick:c,disabled:!i||!y,className:"p-1.5 rounded-lg border-2 disabled:opacity-30 disabled:cursor-not-allowed hover:bg-gray-100 transition-colors",style:{borderColor:"var(--border-card)"},title:"\u062a\u062d\u0631\u064a\u0643 \u0644\u0623\u0633\u0641\u0644",children:(0,w.jsx)(x.A,{className:"w-4 h-4",style:{color:"var(--text)"}})})]})]})}const M=[{label:"\u0639\u0627\u0645",items:[{key:"opening",label:"\u0627\u0644\u0627\u0641\u062a\u062a\u0627\u062d\u064a\u0629"},{key:"overview",label:"\u0627\u0644\u0646\u0638\u0631\u0629 \u0627\u0644\u0639\u0627\u0645\u0629"}]},{label:"\u0627\u0644\u0645\u0647\u0627\u0645",items:[{key:"scheduledTasks",label:"\u0627\u0644\u0645\u0647\u0627\u0645 \u0627\u0644\u0645\u062c\u062f\u0648\u0644\u0629"},{key:"additionalTasks",label:"\u0627\u0644\u0645\u0647\u0627\u0645 \u0627\u0644\u0625\u0636\u0627\u0641\u064a\u0629"},{key:"overdue",label:"\u0627\u0644\u0645\u0647\u0627\u0645 \u0627\u0644\u0645\u062a\u0623\u062e\u0631\u0629"},{key:"departmentMonthlyOverview",label:"\u0625\u0646\u062c\u0627\u0632\u0627\u062a \u0627\u0644\u0642\u0633\u0645 \u0627\u0644\u0634\u0647\u0631\u064a\u0629 \u2014 \u062c\u0645\u064a\u0639 \u0627\u0644\u0645\u0648\u0638\u0641\u064a\u0646"},{key:"monthlyScheduledByCategory",label:"\u0625\u0646\u062c\u0627\u0632\u0627\u062a \u0627\u0644\u0634\u0647\u0631 \u2014 \u062d\u0633\u0628 \u0627\u0644\u0641\u0626\u0629"},{key:"monthlyAdditionalByEmployee",label:"\u0627\u0644\u0645\u0647\u0627\u0645 \u0627\u0644\u0625\u0636\u0627\u0641\u064a\u0629 \u0627\u0644\u0634\u0647\u0631\u064a\u0629 \u2014 \u062d\u0633\u0628 \u0627\u0644\u0645\u0648\u0638\u0641"}]},{label:"\u0627\u0644\u0645\u0648\u0638\u0641\u064a\u0646",items:[{key:"employee",label:"\u0634\u0631\u064a\u062d\u0629 \u0627\u0644\u0645\u0648\u0638\u0641 (\u064a\u0648\u0645\u064a)"},{key:"employeeMonthly",label:"\u0634\u0631\u064a\u062d\u0629 \u0627\u0644\u0645\u0648\u0638\u0641 (\u0634\u0647\u0631\u064a)"},{key:"attendance",label:"\u0627\u0644\u062d\u0636\u0648\u0631"},{key:"coverage",label:"\u0627\u0644\u062a\u063a\u0637\u064a\u0629"},{key:"categories",label:"\u0627\u0644\u0641\u0626\u0627\u062a"},{key:"recognition",label:"\u0623\u0641\u0636\u0644 \u0627\u0644\u0623\u062f\u0627\u0621"}]},{label:"\u0627\u0644\u062a\u0633\u0648\u064a\u0627\u062a \u0648\u0627\u0644\u0640 RTGS",items:[{key:"settlementsMatchingOverview",label:"\u0627\u0644\u062a\u0633\u0648\u064a\u0627\u062a \u0648\u0627\u0644\u0645\u0637\u0627\u0628\u0642\u0629 \u2014 \u0634\u0627\u0645\u0644\u0629 (KPI + \u062d\u0633\u0628 \u0627\u0644\u0645\u0635\u0631\u0641)"},{key:"rtgsImportsToday",label:"\u0627\u0633\u062a\u064a\u0631\u0627\u062f RTGS \u0627\u0644\u064a\u0648\u0645"},{key:"rtgsSettlementsByImport",label:"\u0643\u0631\u0648\u062a \u0627\u0644\u062a\u0633\u0648\u064a\u0627\u062a (\u062d\u0633\u0628 \u0627\u0644\u062a\u062d\u0645\u064a\u0644)"},{key:"ctMatching",label:"\u0645\u0637\u0627\u0628\u0642\u0629 CT"},{key:"governmentSettlements",label:"\u0627\u0644\u062a\u0633\u0648\u064a\u0629 \u0627\u0644\u062d\u0643\u0648\u0645\u064a\u0629"},{key:"governmentSettlementCards",label:"\u0643\u0631\u0648\u062a \u0627\u0644\u062a\u0633\u0648\u064a\u0627\u062a (\u062c\u0645\u064a\u0639 \u0627\u0644\u0645\u0635\u0627\u0631\u0641)"}]}];function S(){const{toast:e}=(0,c.dj)(),s=(0,N.T)("tv_settings","edit"),a=(0,d.jE)(),[x,b]=(0,t.useState)({refreshInterval:30,slideInterval:10,visitorMode:!1,rtgsDisplayMode:"by_import_date",rtgsImportDateRange:3,enabledSlides:(0,r.A)({},I),visibleEmployeeIds:[],visibleBankNames:[],slideOrder:[],slideDurations:{},settlementCardsDateMode:"previous_day",settlementCardsCustomDate:""}),{data:g,isLoading:C}=(0,l.I)({queryKey:["tv-settings"],queryFn:async()=>(await m.A.get("/tv-dashboard/settings")).data}),{data:S=[]}=(0,l.I)({queryKey:["users-employees"],queryFn:async()=>((await m.A.get("/users")).data||[]).filter(e=>"employee"===e.role&&!1!==e.active)}),{data:E=[]}=(0,l.I)({queryKey:["rtgs-bank-names"],queryFn:async()=>{try{const e=await m.A.get("/rtgs/bank-names");return Array.isArray(e.data)?e.data:[]}catch(e){return[]}}});(0,t.useEffect)(()=>{if(g){var e,s;const a=M.flatMap(e=>e.items.map(e=>e.key)),t=Array.isArray(g.slideOrder)?g.slideOrder:[],l=t.length>0?t:a,d={};a.forEach(e=>{var s;d[e]=null!==(s=g.slideInterval)&&void 0!==s?s:10});const i=(0,r.A)((0,r.A)({},d),g.slideDurations||{});b({refreshInterval:null!==(e=g.refreshInterval)&&void 0!==e?e:30,slideInterval:null!==(s=g.slideInterval)&&void 0!==s?s:10,visitorMode:!!g.visitorMode,rtgsDisplayMode:g.rtgsDisplayMode||"by_import_date",rtgsImportDateRange:Math.min(7,Math.max(1,parseInt(g.rtgsImportDateRange,10)||3)),enabledSlides:(0,r.A)((0,r.A)({},I),g.enabledSlides||{}),visibleEmployeeIds:Array.isArray(g.visibleEmployeeIds)?g.visibleEmployeeIds.map(e=>Number(e)).filter(e=>!isNaN(e)):[],visibleBankNames:Array.isArray(g.visibleBankNames)?g.visibleBankNames.map(e=>String(e).trim()).filter(Boolean):[],slideOrder:l,slideDurations:i,settlementCardsDateMode:g.settlementCardsDateMode||"previous_day",settlementCardsCustomDate:g.settlementCardsCustomDate||""})}},[g]);const B=(0,i.n)({mutationFn:async e=>(await m.A.put("/tv-dashboard/settings",{refreshInterval:e.refreshInterval,slideInterval:e.slideInterval,visitorMode:e.visitorMode,rtgsDisplayMode:e.rtgsDisplayMode,rtgsImportDateRange:e.rtgsImportDateRange,enabledSlides:e.enabledSlides,visibleEmployeeIds:e.visibleEmployeeIds,visibleBankNames:e.visibleBankNames,slideOrder:e.slideOrder,slideDurations:e.slideDurations,settlementCardsDateMode:e.settlementCardsDateMode,settlementCardsCustomDate:e.settlementCardsCustomDate})).data,onSuccess:()=>{a.invalidateQueries({queryKey:["tv-settings"]}),e({title:"\u0646\u062c\u062d",description:"\u062a\u0645 \u062d\u0641\u0638 \u0627\u0644\u0625\u0639\u062f\u0627\u062f\u0627\u062a \u0628\u0646\u062c\u0627\u062d"})},onError:s=>{var a,r;e({title:"\u062e\u0637\u0623",description:(null===(a=s.response)||void 0===a||null===(r=a.data)||void 0===r?void 0:r.error)||"\u062d\u062f\u062b \u062e\u0637\u0623",variant:"destructive"})}}),O=(0,k.FR)((0,k.MS)(k.AN,{activationConstraint:{distance:8}}),(0,k.MS)(k.uN,{coordinateGetter:A.JR})),_=(e,s)=>{b(a=>{const t=[...a.slideOrder],l=t.indexOf(e);if(-1===l)return a;const d="up"===s?l-1:l+1;return d<0||d>=t.length?a:([t[l],t[d]]=[t[d],t[l]],(0,r.A)((0,r.A)({},a),{},{slideOrder:t}))})},T=e=>{const s={};Object.keys(x.enabledSlides).forEach(a=>s[a]=e),b(e=>(0,r.A)((0,r.A)({},e),{},{enabledSlides:s}))};return C?(0,w.jsxs)("div",{className:"space-y-6",children:[(0,w.jsx)(o.E,{className:"h-10 w-64"}),(0,w.jsx)(o.E,{className:"h-96"})]}):(0,w.jsx)("div",{className:"min-h-screen p-6 md:p-8",dir:"rtl",style:{background:"linear-gradient(180deg, #f1f5f9 0%, #e2e8f0 100%)"},children:(0,w.jsxs)("div",{className:"mx-auto max-w-4xl",children:[(0,w.jsx)(n.P.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{duration:.3},className:"page-header-teal rounded-xl p-6 mb-6",style:{background:"linear-gradient(135deg, #026174 0%, #068294 100%)",color:"#fff",boxShadow:"0 10px 30px rgba(2, 97, 116, 0.35)"},children:(0,w.jsxs)("div",{className:"flex items-center gap-4",children:[(0,w.jsx)("div",{className:"w-14 h-14 rounded-2xl flex items-center justify-center",style:{background:"rgba(255,255,255,0.2)"},children:(0,w.jsx)(j.A,{className:"w-7 h-7 text-white"})}),(0,w.jsxs)("div",{children:[(0,w.jsx)("h1",{className:"text-2xl font-bold m-0 text-white",children:"\u0625\u0639\u062f\u0627\u062f\u0627\u062a \u0644\u0648\u062d\u0629 \u0627\u0644\u062a\u062d\u0643\u0645 \u0627\u0644\u062a\u0644\u0641\u0632\u064a\u0648\u0646\u064a\u0629"}),(0,w.jsx)("p",{className:"text-sm opacity-95 mt-1 m-0 text-white",children:"\u0625\u062f\u0627\u0631\u0629 \u0627\u0644\u0635\u0641\u062d\u0627\u062a \u2014 \u0627\u062e\u062a\u0631 \u0645\u0627 \u064a\u0638\u0647\u0631 \u0648\u0645\u0627 \u0644\u0627 \u064a\u0638\u0647\u0631 \u0639\u0644\u0649 \u0634\u0627\u0634\u0629 TV"})]})]})}),(0,w.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),await B.mutateAsync(x)},className:"space-y-6",children:[(0,w.jsxs)(n.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.05},className:"rounded-2xl p-6 border-2",style:{background:"var(--surface)",borderColor:"var(--border-card)",boxShadow:"var(--shadow-card)"},children:[(0,w.jsxs)("div",{className:"flex items-center justify-between mb-4 flex-wrap gap-3",children:[(0,w.jsxs)("div",{children:[(0,w.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,w.jsx)("div",{className:"w-10 h-10 rounded-xl flex items-center justify-center",style:{background:"rgba(2, 97, 116, 0.1)"},children:(0,w.jsx)(v.A,{className:"w-5 h-5",style:{color:"var(--primary-600)"}})}),(0,w.jsx)("h2",{className:"text-lg font-bold m-0",style:{color:"var(--text-strong)"},children:"\u0625\u062f\u0627\u0631\u0629 \u0627\u0644\u0635\u0641\u062d\u0627\u062a"})]}),(0,w.jsx)("p",{className:"text-sm m-0",style:{color:"var(--text-muted)"},children:"\u0627\u062e\u062a\u0631 \u0627\u0644\u0635\u0641\u062d\u0627\u062a \u0627\u0644\u062a\u064a \u062a\u0638\u0647\u0631 \u0641\u064a TV \u2014 \u0627\u0644\u0635\u0641\u062d\u0629 \u0627\u0644\u0645\u0641\u0639\u0651\u0644\u0629 \u062a\u0638\u0647\u0631\u060c \u0648\u0627\u0644\u0645\u0639\u0637\u0651\u0644\u0629 \u0644\u0627 \u062a\u0638\u0647\u0631"}),(0,w.jsxs)("p",{className:"text-xs mt-2 font-medium",style:{color:"var(--primary-600)"},children:[Object.values(x.enabledSlides).filter(Boolean).length," \u0645\u0646 ",Object.keys(x.enabledSlides).length," \u0635\u0641\u062d\u0629 \u0645\u0641\u0639\u0651\u0644\u0629"]})]}),(0,w.jsxs)("div",{className:"flex gap-2",children:[(0,w.jsx)("button",{type:"button",onClick:()=>T(!0),className:"text-sm px-3 py-1.5 rounded-lg border-2 font-medium",style:{borderColor:"var(--primary-600)",color:"var(--primary-600)"},children:"\u0625\u0638\u0647\u0627\u0631 \u0627\u0644\u0643\u0644"}),(0,w.jsx)("button",{type:"button",onClick:()=>T(!1),className:"text-sm px-3 py-1.5 rounded-lg border-2 font-medium",style:{borderColor:"var(--border-card)"},children:"\u0625\u062e\u0641\u0627\u0621 \u0627\u0644\u0643\u0644"})]})]}),(0,w.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:M.map(e=>(0,w.jsxs)("div",{className:"rounded-xl p-4 border-2",style:{borderColor:"var(--border-card)",background:"#fafbfc"},children:[(0,w.jsx)("h3",{className:"text-sm font-bold mb-3",style:{color:"var(--text-strong)"},children:e.label}),(0,w.jsx)("div",{className:"space-y-2",children:e.items.map(e=>(0,w.jsxs)("label",{className:"flex items-center gap-3 cursor-pointer",children:[(0,w.jsx)("input",{type:"checkbox",checked:!!x.enabledSlides[e.key],onChange:()=>{return s=e.key,void b(e=>(0,r.A)((0,r.A)({},e),{},{enabledSlides:(0,r.A)((0,r.A)({},e.enabledSlides),{},{[s]:!e.enabledSlides[s]})}));var s},disabled:!s,className:"w-5 h-5 rounded border-2",style:{accentColor:"var(--primary-600)"}}),(0,w.jsx)("span",{className:"text-sm",style:{color:"var(--text)"},children:e.label})]},e.key))})]},e.label))})]}),(0,w.jsxs)(n.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.06},className:"rounded-2xl p-6 border-2",style:{background:"var(--surface)",borderColor:"var(--border-card)",boxShadow:"var(--shadow-card)"},children:[(0,w.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[(0,w.jsx)("div",{className:"w-10 h-10 rounded-xl flex items-center justify-center",style:{background:"rgba(2, 97, 116, 0.1)"},children:(0,w.jsx)(p.A,{className:"w-5 h-5",style:{color:"var(--primary-600)"}})}),(0,w.jsxs)("div",{children:[(0,w.jsx)("h2",{className:"text-lg font-bold m-0",style:{color:"var(--text-strong)"},children:"\u062a\u0631\u062a\u064a\u0628 \u0627\u0644\u0635\u0641\u062d\u0627\u062a"}),(0,w.jsx)("p",{className:"text-xs m-0 mt-0.5",style:{color:"var(--text-muted)"},children:"\u0631\u062a\u0651\u0628 \u0627\u0644\u0635\u0641\u062d\u0627\u062a \u062d\u0633\u0628 \u0627\u0644\u062a\u0633\u0644\u0633\u0644 \u0627\u0644\u0645\u0637\u0644\u0648\u0628 \u2014 \u0627\u0633\u062a\u062e\u062f\u0645 \u0627\u0644\u0623\u0633\u0647\u0645 \u0644\u0644\u062a\u062d\u0631\u064a\u0643 \u0644\u0623\u0639\u0644\u0649 \u0623\u0648 \u0644\u0623\u0633\u0641\u0644"})]})]}),(0,w.jsx)("p",{className:"text-xs mb-3",style:{color:"var(--text-muted)"},children:"\u0627\u0633\u062d\u0628 \u0627\u0644\u0635\u0641\u062d\u0627\u062a \u0644\u062a\u063a\u064a\u064a\u0631 \u0627\u0644\u062a\u0631\u062a\u064a\u0628 \u2014 \u0623\u0648 \u0627\u0633\u062a\u062e\u062f\u0645 \u0627\u0644\u0623\u0633\u0647\u0645 \u2014 \u062d\u062f\u0651\u062f \u0627\u0644\u0648\u0642\u062a (\u062b\u0627\u0646\u064a\u0629) \u0644\u0643\u0644 \u0635\u0641\u062d\u0629"}),(0,w.jsx)(k.Mp,{sensors:O,collisionDetection:k.fp,onDragEnd:e=>{const{active:s,over:a}=e;if(!a||s.id===a.id)return;const t=String(s.id),l=String(a.id);b(e=>{const s=e.slideOrder.indexOf(t),a=e.slideOrder.indexOf(l);if(-1===s||-1===a)return e;const d=(0,A.be)([...e.slideOrder],s,a);return(0,r.A)((0,r.A)({},e),{},{slideOrder:d})})},children:(0,w.jsx)(A.gB,{items:x.slideOrder,strategy:A._G,children:(0,w.jsx)("div",{className:"space-y-2",children:x.slideOrder.map((e,a)=>{var t,l;const d=M.flatMap(e=>e.items).find(s=>s.key===e);if(!d)return null;const i=x.enabledSlides[e],n=null!==(t=null!==(l=x.slideDurations[e])&&void 0!==l?l:x.slideInterval)&&void 0!==t?t:10;return(0,w.jsx)(D,{id:e,index:a,label:d.label,isEnabled:i,duration:n,canEdit:s,onDurationChange:s=>((e,s)=>{b(a=>(0,r.A)((0,r.A)({},a),{},{slideDurations:(0,r.A)((0,r.A)({},a.slideDurations),{},{[e]:Math.max(3,Math.min(300,s))})}))})(e,s),onMoveUp:()=>_(e,"up"),onMoveDown:()=>_(e,"down"),canMoveUp:a>0,canMoveDown:a<x.slideOrder.length-1},e)})})})})]}),(0,w.jsxs)(n.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.08},className:"rounded-2xl p-6 border-2",style:{background:"var(--surface)",borderColor:"var(--border-card)",boxShadow:"var(--shadow-card)"},children:[(0,w.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[(0,w.jsx)("div",{className:"w-10 h-10 rounded-xl flex items-center justify-center",style:{background:"rgba(2, 97, 116, 0.1)"},children:(0,w.jsx)(f.A,{className:"w-5 h-5",style:{color:"var(--primary-600)"}})}),(0,w.jsxs)("div",{children:[(0,w.jsx)("h2",{className:"text-lg font-bold m-0",style:{color:"var(--text-strong)"},children:"\u0627\u0644\u0645\u0648\u0638\u0641\u064a\u0646 \u0627\u0644\u0638\u0627\u0647\u0631\u064a\u0646 \u0641\u064a TV"}),(0,w.jsx)("p",{className:"text-xs m-0 mt-0.5",style:{color:"var(--text-muted)"},children:"\u0627\u062e\u062a\u0631 \u0627\u0644\u0645\u0648\u0638\u0641\u064a\u0646 \u0627\u0644\u0630\u064a\u0646 \u062a\u0638\u0647\u0631 \u0634\u0631\u0627\u0626\u062d\u0647\u0645 \u2014 \u0625\u0630\u0627 \u0644\u0645 \u062a\u062e\u062a\u0631 \u0623\u062d\u062f\u0627\u064b \u064a\u064f\u0639\u0631\u0636 \u0627\u0644\u0643\u0644"})]}),(0,w.jsxs)("div",{className:"mr-auto flex gap-2",children:[(0,w.jsx)("button",{type:"button",onClick:()=>b(e=>(0,r.A)((0,r.A)({},e),{},{visibleEmployeeIds:(S||[]).map(e=>e.id)})),disabled:!s||!(null!==S&&void 0!==S&&S.length),className:"text-sm px-3 py-1 rounded-lg border-2",style:{borderColor:"var(--primary-600)",color:"var(--primary-600)"},children:"\u062a\u062d\u062f\u064a\u062f \u0627\u0644\u0643\u0644"}),(0,w.jsx)("button",{type:"button",onClick:()=>b(e=>(0,r.A)((0,r.A)({},e),{},{visibleEmployeeIds:[]})),disabled:!s,className:"text-sm px-3 py-1 rounded-lg border-2",style:{borderColor:"var(--border-card)"},children:"\u0625\u0644\u063a\u0627\u0621 \u0627\u0644\u062a\u0635\u0641\u064a\u0629 (\u0639\u0631\u0636 \u0627\u0644\u0643\u0644)"})]})]}),(0,w.jsx)("div",{className:"flex flex-wrap gap-3",children:(S||[]).map(e=>(0,w.jsxs)("label",{className:"flex items-center gap-2 cursor-pointer px-3 py-2 rounded-lg border-2",style:{borderColor:x.visibleEmployeeIds.includes(e.id)?"var(--primary-600)":"var(--border-card)",background:x.visibleEmployeeIds.includes(e.id)?"rgba(2, 97, 116, 0.08)":"#fafbfc"},children:[(0,w.jsx)("input",{type:"checkbox",checked:0===x.visibleEmployeeIds.length||x.visibleEmployeeIds.includes(e.id),onChange:()=>{const s=(S||[]).map(e=>e.id);0===x.visibleEmployeeIds.length?b(a=>(0,r.A)((0,r.A)({},a),{},{visibleEmployeeIds:s.filter(s=>s!==e.id)})):x.visibleEmployeeIds.includes(e.id)?b(s=>(0,r.A)((0,r.A)({},s),{},{visibleEmployeeIds:s.visibleEmployeeIds.filter(s=>s!==e.id)})):b(s=>(0,r.A)((0,r.A)({},s),{},{visibleEmployeeIds:[...s.visibleEmployeeIds,e.id]}))},disabled:!s,className:"w-4 h-4 rounded",style:{accentColor:"var(--primary-600)"}}),(0,w.jsx)("span",{className:"text-sm",style:{color:"var(--text)"},children:e.name})]},e.id))})]}),(0,w.jsxs)(n.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.09},className:"rounded-2xl p-6 border-2",style:{background:"var(--surface)",borderColor:"var(--border-card)",boxShadow:"var(--shadow-card)"},children:[(0,w.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[(0,w.jsx)("div",{className:"w-10 h-10 rounded-xl flex items-center justify-center",style:{background:"rgba(2, 97, 116, 0.1)"},children:(0,w.jsx)(y.A,{className:"w-5 h-5",style:{color:"var(--primary-600)"}})}),(0,w.jsxs)("div",{children:[(0,w.jsx)("h2",{className:"text-lg font-bold m-0",style:{color:"var(--text-strong)"},children:"\u0627\u0644\u0645\u0635\u0627\u0631\u0641 \u0627\u0644\u0638\u0627\u0647\u0631\u0629 \u0641\u064a \u0643\u0631\u0648\u062a \u0627\u0644\u062a\u0633\u0648\u064a\u0627\u062a"}),(0,w.jsx)("p",{className:"text-xs m-0 mt-0.5",style:{color:"var(--text-muted)"},children:"\u0627\u062e\u062a\u0631 \u0627\u0644\u0645\u0635\u0627\u0631\u0641 \u0627\u0644\u062a\u064a \u062a\u0638\u0647\u0631 \u0641\u064a \u0643\u0631\u0648\u062a \u0627\u0644\u062a\u0633\u0648\u064a\u0627\u062a \u2014 \u0625\u0630\u0627 \u0644\u0645 \u062a\u062e\u062a\u0631 \u0623\u062d\u062f\u0627\u064b \u062a\u064f\u0639\u0631\u0636 \u0627\u0644\u0643\u0644"})]}),(0,w.jsxs)("div",{className:"mr-auto flex gap-2",children:[(0,w.jsx)("button",{type:"button",onClick:()=>b(e=>(0,r.A)((0,r.A)({},e),{},{visibleBankNames:[...E||[]]})),disabled:!s||!(null!==E&&void 0!==E&&E.length),className:"text-sm px-3 py-1 rounded-lg border-2",style:{borderColor:"var(--primary-600)",color:"var(--primary-600)"},children:"\u062a\u062d\u062f\u064a\u062f \u0627\u0644\u0643\u0644"}),(0,w.jsx)("button",{type:"button",onClick:()=>b(e=>(0,r.A)((0,r.A)({},e),{},{visibleBankNames:[]})),disabled:!s,className:"text-sm px-3 py-1 rounded-lg border-2",style:{borderColor:"var(--border-card)"},children:"\u0625\u0644\u063a\u0627\u0621 \u0627\u0644\u062a\u0635\u0641\u064a\u0629 (\u0639\u0631\u0636 \u0627\u0644\u0643\u0644)"})]})]}),(0,w.jsx)("div",{className:"flex flex-wrap gap-3",children:(E||[]).map(e=>(0,w.jsxs)("label",{className:"flex items-center gap-2 cursor-pointer px-3 py-2 rounded-lg border-2",style:{borderColor:x.visibleBankNames.includes(e)?"var(--primary-600)":"var(--border-card)",background:x.visibleBankNames.includes(e)?"rgba(2, 97, 116, 0.08)":"#fafbfc"},children:[(0,w.jsx)("input",{type:"checkbox",checked:0===x.visibleBankNames.length||x.visibleBankNames.includes(e),onChange:()=>{const s=[...E||[]];0===x.visibleBankNames.length?b(a=>(0,r.A)((0,r.A)({},a),{},{visibleBankNames:s.filter(s=>s!==e)})):x.visibleBankNames.includes(e)?b(s=>(0,r.A)((0,r.A)({},s),{},{visibleBankNames:s.visibleBankNames.filter(s=>s!==e)})):b(s=>(0,r.A)((0,r.A)({},s),{},{visibleBankNames:[...s.visibleBankNames,e]}))},disabled:!s,className:"w-4 h-4 rounded",style:{accentColor:"var(--primary-600)"}}),(0,w.jsx)("span",{className:"text-sm",style:{color:"var(--text)"},children:e})]},e))})]}),(0,w.jsxs)(n.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"rounded-2xl p-6 border-2",style:{background:"var(--surface)",borderColor:"var(--border-card)",boxShadow:"var(--shadow-card)"},children:[(0,w.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[(0,w.jsx)("div",{className:"w-10 h-10 rounded-xl flex items-center justify-center",style:{background:"rgba(2, 97, 116, 0.1)"},children:(0,w.jsx)(y.A,{className:"w-5 h-5",style:{color:"var(--primary-600)"}})}),(0,w.jsx)("h2",{className:"text-lg font-bold m-0",style:{color:"var(--text-strong)"},children:"RTGS \u0648\u0627\u0644\u062a\u0633\u0648\u064a\u0627\u062a"})]}),(0,w.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,w.jsxs)("div",{children:[(0,w.jsx)("label",{className:"block text-sm font-semibold mb-2",style:{color:"var(--text-strong)"},children:"\u0639\u0631\u0636 \u0627\u0644\u062a\u0633\u0648\u064a\u0627\u062a \u062d\u0633\u0628"}),(0,w.jsxs)("select",{value:x.rtgsDisplayMode,onChange:e=>b((0,r.A)((0,r.A)({},x),{},{rtgsDisplayMode:e.target.value})),disabled:!s,className:"w-full py-2.5 px-4 rounded-xl border-2 focus:border-[#026174] focus:ring-2 focus:ring-[#026174]/20",children:[(0,w.jsx)("option",{value:"by_import_date",children:"\u062a\u0627\u0631\u064a\u062e \u062a\u062d\u0645\u064a\u0644 \u0627\u0644\u0645\u0644\u0641"}),(0,w.jsx)("option",{value:"by_sttl_date",children:"\u062a\u0627\u0631\u064a\u062e \u0627\u0644\u062a\u0633\u0648\u064a\u0629"})]}),(0,w.jsx)("p",{className:"text-xs mt-1.5",style:{color:"var(--text-muted)"},children:"\u0627\u0644\u062a\u0633\u0648\u064a\u0629 \u062a\u0646\u0632\u0644 \u063a\u0627\u0644\u0628\u0627\u064b \u0628\u0639\u062f \u064a\u0648\u0645 \u2014 \u0627\u0639\u062a\u0645\u0627\u062f \u062a\u0627\u0631\u064a\u062e \u0627\u0644\u062a\u062d\u0645\u064a\u0644 \u0623\u0646\u0633\u0628"})]}),(0,w.jsxs)("div",{children:[(0,w.jsx)("label",{className:"block text-sm font-semibold mb-2",style:{color:"var(--text-strong)"},children:"\u0646\u0637\u0627\u0642 \u0623\u064a\u0627\u0645 \u0639\u0631\u0636 \u0627\u0644\u0627\u0633\u062a\u064a\u0631\u0627\u062f"}),(0,w.jsx)("input",{type:"number",min:1,max:7,value:x.rtgsImportDateRange,onChange:e=>b((0,r.A)((0,r.A)({},x),{},{rtgsImportDateRange:Math.min(7,Math.max(1,parseInt(e.target.value,10)||3))})),disabled:!s,className:"w-full py-2.5 px-4 rounded-xl border-2 focus:border-[#026174] focus:ring-2 focus:ring-[#026174]/20 max-w-xs",dir:"ltr"}),(0,w.jsx)("p",{className:"text-xs mt-1.5",style:{color:"var(--text-muted)"},children:"\u0639\u0631\u0636 \u0627\u0633\u062a\u064a\u0631\u0627\u062f\u0627\u062a \u0622\u062e\u0631 1\u20137 \u0623\u064a\u0627\u0645"})]}),(0,w.jsxs)("div",{className:"md:col-span-2 border-t pt-4 mt-2",style:{borderColor:"var(--border-card)"},children:[(0,w.jsx)("label",{className:"block text-sm font-semibold mb-2",style:{color:"var(--text-strong)"},children:"\u062a\u0627\u0631\u064a\u062e \u0639\u0631\u0636 \u0643\u0631\u0648\u062a \u0627\u0644\u062a\u0633\u0648\u064a\u0627\u062a (\u062c\u0645\u064a\u0639 \u0627\u0644\u0645\u0635\u0627\u0631\u0641)"}),(0,w.jsxs)("div",{className:"flex flex-wrap items-center gap-4",children:[(0,w.jsxs)("label",{className:"flex items-center gap-2 cursor-pointer",children:[(0,w.jsx)("input",{type:"radio",name:"settlementCardsDate",checked:"previous_day"===x.settlementCardsDateMode,onChange:()=>b((0,r.A)((0,r.A)({},x),{},{settlementCardsDateMode:"previous_day"})),disabled:!s,className:"w-4 h-4",style:{accentColor:"var(--primary-600)"}}),(0,w.jsx)("span",{className:"text-sm",style:{color:"var(--text)"},children:"\u0627\u0644\u064a\u0648\u0645 \u0627\u0644\u0633\u0627\u0628\u0642 (\u062a\u0644\u0642\u0627\u0626\u064a)"})]}),(0,w.jsxs)("label",{className:"flex items-center gap-2 cursor-pointer",children:[(0,w.jsx)("input",{type:"radio",name:"settlementCardsDate",checked:"today"===x.settlementCardsDateMode,onChange:()=>b((0,r.A)((0,r.A)({},x),{},{settlementCardsDateMode:"today"})),disabled:!s,className:"w-4 h-4",style:{accentColor:"var(--primary-600)"}}),(0,w.jsx)("span",{className:"text-sm",style:{color:"var(--text)"},children:"\u0627\u0644\u064a\u0648\u0645"})]}),(0,w.jsxs)("label",{className:"flex items-center gap-2 cursor-pointer",children:[(0,w.jsx)("input",{type:"radio",name:"settlementCardsDate",checked:"custom"===x.settlementCardsDateMode,onChange:()=>b((0,r.A)((0,r.A)({},x),{},{settlementCardsDateMode:"custom"})),disabled:!s,className:"w-4 h-4",style:{accentColor:"var(--primary-600)"}}),(0,w.jsx)("span",{className:"text-sm",style:{color:"var(--text)"},children:"\u062a\u0627\u0631\u064a\u062e \u0645\u062d\u062f\u062f:"})]}),(0,w.jsx)("input",{type:"date",value:x.settlementCardsCustomDate,onChange:e=>b((0,r.A)((0,r.A)({},x),{},{settlementCardsCustomDate:e.target.value})),disabled:!s||"custom"!==x.settlementCardsDateMode,className:"py-2 px-3 rounded-lg border-2 text-sm",dir:"ltr"})]}),(0,w.jsx)("p",{className:"text-xs mt-1.5",style:{color:"var(--text-muted)"},children:"\u0627\u062e\u062a\u0631 \u062a\u0627\u0631\u064a\u062e \u0639\u0631\u0636 \u0643\u0631\u0648\u062a \u0627\u0644\u062a\u0633\u0648\u064a\u0627\u062a \u2014 \u0627\u0644\u0627\u0641\u062a\u0631\u0627\u0636\u064a: \u0627\u0644\u064a\u0648\u0645 \u0627\u0644\u0633\u0627\u0628\u0642 (\u0645\u062b\u0627\u0644: \u0627\u0644\u064a\u0648\u0645 2 \u064a\u0639\u0631\u0636 \u0643\u0631\u0648\u062a \u064a\u0648\u0645 1)"})]})]})]}),(0,w.jsxs)(n.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.15},className:"rounded-2xl p-6 border-2",style:{background:"var(--surface)",borderColor:"var(--border-card)",boxShadow:"var(--shadow-card)"},children:[(0,w.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[(0,w.jsx)("div",{className:"w-10 h-10 rounded-xl flex items-center justify-center",style:{background:"rgba(2, 97, 116, 0.1)"},children:(0,w.jsx)(j.A,{className:"w-5 h-5",style:{color:"var(--primary-600)"}})}),(0,w.jsx)("h2",{className:"text-lg font-bold m-0",style:{color:"var(--text-strong)"},children:"\u0627\u0644\u062a\u0648\u0642\u064a\u062a \u0648\u0627\u0644\u0639\u0631\u0636"})]}),(0,w.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,w.jsxs)("div",{children:[(0,w.jsx)("label",{className:"block text-sm font-semibold mb-2",style:{color:"var(--text-strong)"},children:"\u0641\u062a\u0631\u0629 \u062a\u062d\u062f\u064a\u062b \u0627\u0644\u0628\u064a\u0627\u0646\u0627\u062a (\u062b\u0627\u0646\u064a\u0629)"}),(0,w.jsx)("input",{type:"number",min:5,max:300,value:x.refreshInterval,onChange:e=>b((0,r.A)((0,r.A)({},x),{},{refreshInterval:parseInt(e.target.value)||30})),disabled:!s,className:"w-full py-2.5 px-4 rounded-xl border-2 focus:border-[#026174] focus:ring-2 focus:ring-[#026174]/20 max-w-xs",dir:"ltr"})]}),(0,w.jsxs)("div",{children:[(0,w.jsx)("label",{className:"block text-sm font-semibold mb-2",style:{color:"var(--text-strong)"},children:"\u0641\u062a\u0631\u0629 \u062a\u0628\u062f\u064a\u0644 \u0627\u0644\u0634\u0631\u0627\u0626\u062d (\u062b\u0627\u0646\u064a\u0629)"}),(0,w.jsx)("input",{type:"number",min:5,max:60,value:x.slideInterval,onChange:e=>b((0,r.A)((0,r.A)({},x),{},{slideInterval:parseInt(e.target.value)||10})),disabled:!s,className:"w-full py-2.5 px-4 rounded-xl border-2 focus:border-[#026174] focus:ring-2 focus:ring-[#026174]/20 max-w-xs",dir:"ltr"})]}),(0,w.jsxs)("div",{className:"md:col-span-2",children:[(0,w.jsxs)("label",{className:"flex items-center gap-3 cursor-pointer",children:[(0,w.jsx)("input",{type:"checkbox",checked:x.visitorMode,onChange:e=>b((0,r.A)((0,r.A)({},x),{},{visitorMode:e.target.checked})),disabled:!s,className:"w-5 h-5 rounded",style:{accentColor:"var(--primary-600)"}}),(0,w.jsx)("span",{className:"text-sm font-medium",style:{color:"var(--text)"},children:"\u0648\u0636\u0639 \u0627\u0644\u0632\u0627\u0626\u0631 \u2014 \u0625\u062e\u0641\u0627\u0621 \u0627\u0644\u0623\u0633\u0645\u0627\u0621 \u0648\u0627\u0644\u0628\u064a\u0627\u0646\u0627\u062a \u0627\u0644\u062d\u0633\u0627\u0633\u0629"})]}),(0,w.jsx)("p",{className:"text-xs mt-1 mr-8",style:{color:"var(--text-muted)"},children:"\u064a\u0645\u0643\u0646 \u0623\u064a\u0636\u0627\u064b \u062a\u0641\u0639\u064a\u0644\u0647 \u0639\u0628\u0631 /tv?visitor=1"})]})]})]}),(0,w.jsxs)("div",{className:"flex gap-3 flex-wrap",children:[s&&(0,w.jsx)("button",{type:"submit",disabled:B.isPending,className:"px-6 py-2.5 rounded-xl font-semibold shadow-lg flex items-center gap-2 text-white",style:{background:"linear-gradient(135deg, #026174 0%, #068294 100%)"},children:B.isPending?(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)(u.A,{className:"h-4 w-4 animate-spin"}),"\u062c\u0627\u0631\u064a \u0627\u0644\u062d\u0641\u0638..."]}):(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)(h.A,{className:"h-4 w-4"}),"\u062d\u0641\u0638 \u0627\u0644\u0625\u0639\u062f\u0627\u062f\u0627\u062a"]})}),(0,w.jsxs)("button",{type:"button",onClick:()=>window.open("/tv","_blank"),className:"px-6 py-2.5 rounded-xl font-semibold flex items-center gap-2 border-2",style:{borderColor:"var(--primary-600)",color:"var(--primary-600)"},children:[(0,w.jsx)(j.A,{className:"h-4 w-4"}),"\u0641\u062a\u062d \u0644\u0648\u062d\u0629 \u0627\u0644\u062a\u062d\u0643\u0645"]})]})]})]})})}},92417(e,s,a){a.d(s,{E:()=>n});var r=a(22555),t=a(53986),l=a(15074),d=a(70579);const i=["className"];function n(e){let{className:s}=e,a=(0,t.A)(e,i);return(0,d.jsx)("div",(0,r.A)({className:(0,l.cn)("animate-pulse rounded-md bg-muted",s)},a))}}}]);
//# sourceMappingURL=18.a67aeb46.chunk.js.map
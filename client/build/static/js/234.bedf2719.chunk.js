/*! For license information please see 234.bedf2719.chunk.js.LICENSE.txt */
"use strict";(self.webpackChunksttlment_client=self.webpackChunksttlment_client||[]).push([[234],{8567(e,a,t){t.d(a,{E:()=>i});var s=t(22555),r=t(53986),l=(t(65043),t(10917)),n=t(15074),o=t(70579);const d=["className","variant"],c=(0,l.F)("inline-flex items-center rounded-lg border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-[#026174] text-white hover:bg-[#01505f]",secondary:"border-transparent bg-[#068294] text-white hover:bg-[#057a8a]",destructive:"border-transparent bg-[#ef4444] text-white hover:bg-[#dc2626]",outline:"border-[rgba(2,97,116,0.3)] bg-transparent text-[#026174]",success:"border-transparent bg-[#22c55e] text-white hover:bg-[#16a34a]",warning:"border-transparent bg-[#f59e0b] text-white hover:bg-[#d97706]",info:"border-transparent bg-[#026174] text-white hover:bg-[#01505f]"}},defaultVariants:{variant:"default"}});function i(e){let{className:a,variant:t}=e,l=(0,r.A)(e,d);return(0,o.jsx)("div",(0,s.A)({className:(0,n.cn)(c({variant:t}),a)},l))}},9234(e,a,t){t.d(a,{AuditLogV2:()=>N});var s=t(22555),r=t(65043),l=t(6931),n=t(6742),o=t(49954),d=t(92417),c=t(72147),i=t(8567),m=t(40382),u=t(19162),x=t(41680),p=t(38298),f=t(34348),h=t.n(f),g=t(70579);const b={login:"\u062a\u0633\u062c\u064a\u0644 \u062f\u062e\u0648\u0644",create_user:"\u0625\u0646\u0634\u0627\u0621 \u0645\u0633\u062a\u062e\u062f\u0645",update_user:"\u062a\u062d\u062f\u064a\u062b \u0645\u0633\u062a\u062e\u062f\u0645",activate_user:"\u062a\u0641\u0639\u064a\u0644 \u0645\u0633\u062a\u062e\u062f\u0645",deactivate_user:"\u062a\u0639\u0637\u064a\u0644 \u0645\u0633\u062a\u062e\u062f\u0645",create_category:"\u0625\u0646\u0634\u0627\u0621 \u0641\u0626\u0629",update_category:"\u062a\u062d\u062f\u064a\u062b \u0641\u0626\u0629",delete_category:"\u062d\u0630\u0641 \u0641\u0626\u0629",create_template:"\u0625\u0646\u0634\u0627\u0621 \u0642\u0627\u0644\u0628",update_template:"\u062a\u062d\u062f\u064a\u062b \u0642\u0627\u0644\u0628",delete_template:"\u062d\u0630\u0641 \u0642\u0627\u0644\u0628",create_schedule:"\u0625\u0646\u0634\u0627\u0621 \u062c\u062f\u0648\u0644",update_schedule:"\u062a\u062d\u062f\u064a\u062b \u062c\u062f\u0648\u0644",delete_schedule:"\u062d\u0630\u0641 \u062c\u062f\u0648\u0644",create_ad_hoc_task:"\u0625\u0646\u0634\u0627\u0621 \u0645\u0647\u0645\u0629 \u062e\u0627\u0635\u0629",execute_task:"\u062a\u0646\u0641\u064a\u0630 \u0645\u0647\u0645\u0629",change_password:"\u062a\u063a\u064a\u064a\u0631 \u0643\u0644\u0645\u0629 \u0627\u0644\u0645\u0631\u0648\u0631"};function N(){const[e,a]=(0,r.useState)({userId:"",action:"",entityType:"",dateFrom:"",dateTo:""}),{data:t=[]}=(0,l.I)({queryKey:["users"],queryFn:async()=>(await u.A.get("/users")).data}),{data:f=[],isLoading:N}=(0,l.I)({queryKey:["audit-log",e],queryFn:async()=>{const a=new URLSearchParams;e.userId&&a.append("userId",e.userId),e.action&&a.append("action",e.action),e.entityType&&a.append("entityType",e.entityType),e.dateFrom&&a.append("dateFrom",e.dateFrom),e.dateTo&&a.append("dateTo",e.dateTo);return(await u.A.get("/audit-log?".concat(a.toString()))).data}}),y=Array.from(new Set(Object.keys(b)));return(0,g.jsxs)("div",{className:"space-y-6",children:[(0,g.jsx)("div",{className:"flex items-center justify-between",children:(0,g.jsxs)("div",{children:[(0,g.jsx)("h1",{className:"text-3xl font-bold tracking-tight",children:"\u0633\u062c\u0644 \u0627\u0644\u062a\u062f\u0642\u064a\u0642"}),(0,g.jsx)("p",{className:"text-muted-foreground mt-1",children:"\u062a\u062a\u0628\u0639 \u062c\u0645\u064a\u0639 \u0627\u0644\u0639\u0645\u0644\u064a\u0627\u062a \u0641\u064a \u0627\u0644\u0646\u0638\u0627\u0645"})]})}),(0,g.jsxs)(n.Zp,{children:[(0,g.jsx)(n.aR,{children:(0,g.jsxs)(n.ZB,{className:"flex items-center gap-2",children:[(0,g.jsx)(p.A,{className:"h-5 w-5"}),"\u0627\u0644\u0641\u0644\u0627\u062a\u0631"]})}),(0,g.jsx)(n.Wu,{children:(0,g.jsxs)("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-5",children:[(0,g.jsxs)("div",{className:"space-y-2",children:[(0,g.jsx)("label",{className:"text-sm font-medium",children:"\u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645"}),(0,g.jsx)(c.Z,{value:e.userId,onChange:t=>a((0,s.A)((0,s.A)({},e),{},{userId:t})),options:[{id:"",name:"\u0627\u0644\u0643\u0644"},...t],getOptionLabel:e=>e.name,getOptionValue:e=>{var a;return(null===(a=e.id)||void 0===a?void 0:a.toString())||""},placeholder:"\u0627\u0644\u0643\u0644",searchPlaceholder:"\u0627\u0628\u062d\u062b \u0639\u0646 \u0645\u0633\u062a\u062e\u062f\u0645..."})]}),(0,g.jsxs)("div",{className:"space-y-2",children:[(0,g.jsx)("label",{className:"text-sm font-medium",children:"\u0627\u0644\u0625\u062c\u0631\u0627\u0621"}),(0,g.jsx)(c.Z,{value:e.action,onChange:t=>a((0,s.A)((0,s.A)({},e),{},{action:t})),options:[{value:"",label:"\u0627\u0644\u0643\u0644"},...y.map(e=>({value:e,label:b[e]}))],getOptionLabel:e=>e.label,getOptionValue:e=>e.value,placeholder:"\u0627\u0644\u0643\u0644",searchPlaceholder:"\u0627\u0628\u062d\u062b \u0639\u0646 \u0625\u062c\u0631\u0627\u0621..."})]}),(0,g.jsxs)("div",{className:"space-y-2",children:[(0,g.jsx)("label",{className:"text-sm font-medium",children:"\u0646\u0648\u0639 \u0627\u0644\u0643\u064a\u0627\u0646"}),(0,g.jsx)(o.p,{value:e.entityType,onChange:t=>a((0,s.A)((0,s.A)({},e),{},{entityType:t.target.value})),placeholder:"\u0645\u062b\u0627\u0644: user, task..."})]}),(0,g.jsxs)("div",{className:"space-y-2",children:[(0,g.jsx)("label",{className:"text-sm font-medium",children:"\u0645\u0646 \u062a\u0627\u0631\u064a\u062e"}),(0,g.jsx)(o.p,{type:"date",value:e.dateFrom,onChange:t=>a((0,s.A)((0,s.A)({},e),{},{dateFrom:t.target.value}))})]}),(0,g.jsxs)("div",{className:"space-y-2",children:[(0,g.jsx)("label",{className:"text-sm font-medium",children:"\u0625\u0644\u0649 \u062a\u0627\u0631\u064a\u062e"}),(0,g.jsx)(o.p,{type:"date",value:e.dateTo,onChange:t=>a((0,s.A)((0,s.A)({},e),{},{dateTo:t.target.value}))})]})]})})]}),N?(0,g.jsx)("div",{className:"space-y-2",children:[...Array(5)].map((e,a)=>(0,g.jsx)(d.E,{className:"h-16"},a))}):(0,g.jsxs)(n.Zp,{children:[(0,g.jsx)(n.aR,{children:(0,g.jsxs)(n.ZB,{children:["\u0633\u062c\u0644\u0627\u062a \u0627\u0644\u062a\u062f\u0642\u064a\u0642 (",f.length,")"]})}),(0,g.jsxs)(n.Wu,{children:[(0,g.jsx)("div",{className:"overflow-x-auto",children:(0,g.jsxs)(m.XI,{children:[(0,g.jsx)(m.A0,{children:(0,g.jsxs)(m.Hj,{children:[(0,g.jsx)(m.nd,{children:"\u0627\u0644\u062a\u0627\u0631\u064a\u062e \u0648\u0627\u0644\u0648\u0642\u062a"}),(0,g.jsx)(m.nd,{children:"\u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645"}),(0,g.jsx)(m.nd,{children:"\u0627\u0644\u0625\u062c\u0631\u0627\u0621"}),(0,g.jsx)(m.nd,{children:"\u0646\u0648\u0639 \u0627\u0644\u0643\u064a\u0627\u0646"}),(0,g.jsx)(m.nd,{children:"\u0645\u0639\u0631\u0641 \u0627\u0644\u0643\u064a\u0627\u0646"}),(0,g.jsx)(m.nd,{children:"\u0627\u0644\u062a\u0641\u0627\u0635\u064a\u0644"})]})}),(0,g.jsx)(m.BF,{children:f.map((e,a)=>(0,g.jsxs)(m.Hj,{children:[(0,g.jsx)(m.nA,{className:"text-sm",children:h()(e.created_at).format("YYYY-MM-DD HH:mm:ss")}),(0,g.jsx)(m.nA,{children:e.user_name||"\u063a\u064a\u0631 \u0645\u0639\u0631\u0648\u0641"}),(0,g.jsx)(m.nA,{children:(0,g.jsx)(i.E,{variant:"outline",children:b[e.action]||e.action})}),(0,g.jsx)(m.nA,{children:e.entity_type||"\u2014"}),(0,g.jsx)(m.nA,{children:e.entity_id||"\u2014"}),(0,g.jsx)(m.nA,{className:"text-sm text-muted-foreground max-w-xs truncate",children:e.details?JSON.stringify(e.details):"\u2014"})]},e.id))})]})}),0===f.length&&(0,g.jsxs)("div",{className:"py-12 text-center",children:[(0,g.jsx)(x.A,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),(0,g.jsx)("p",{className:"text-muted-foreground",children:"\u0644\u0627 \u062a\u0648\u062c\u062f \u0633\u062c\u0644\u0627\u062a"})]})]})]})]})}},36210(e,a,t){t.d(a,{A:()=>s});const s=(0,t(21639).A)("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]])},38298(e,a,t){t.d(a,{A:()=>s});const s=(0,t(21639).A)("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]])},39292(e,a,t){t.d(a,{A:()=>s});const s=(0,t(21639).A)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]])},40382(e,a,t){t.d(a,{A0:()=>g,BF:()=>b,Hj:()=>N,XI:()=>h,nA:()=>j,nd:()=>y});var s=t(22555),r=t(53986),l=t(65043),n=t(15074),o=t(70579);const d=["className"],c=["className"],i=["className"],m=["className"],u=["className"],x=["className"],p=["className"],f=["className"],h=l.forwardRef((e,a)=>{let{className:t}=e,l=(0,r.A)(e,d);return(0,o.jsx)("div",{className:"relative w-full overflow-auto",children:(0,o.jsx)("table",(0,s.A)({ref:a,className:(0,n.cn)("w-full caption-bottom text-sm",t)},l))})});h.displayName="Table";const g=l.forwardRef((e,a)=>{let{className:t}=e,l=(0,r.A)(e,c);return(0,o.jsx)("thead",(0,s.A)({ref:a,className:(0,n.cn)("[&_tr]:border-b",t)},l))});g.displayName="TableHeader";const b=l.forwardRef((e,a)=>{let{className:t}=e,l=(0,r.A)(e,i);return(0,o.jsx)("tbody",(0,s.A)({ref:a,className:(0,n.cn)("[&_tr:last-child]:border-0",t)},l))});b.displayName="TableBody";l.forwardRef((e,a)=>{let{className:t}=e,l=(0,r.A)(e,m);return(0,o.jsx)("tfoot",(0,s.A)({ref:a,className:(0,n.cn)("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",t)},l))}).displayName="TableFooter";const N=l.forwardRef((e,a)=>{let{className:t}=e,l=(0,r.A)(e,u);return(0,o.jsx)("tr",(0,s.A)({ref:a,className:(0,n.cn)("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",t)},l))});N.displayName="TableRow";const y=l.forwardRef((e,a)=>{let{className:t}=e,l=(0,r.A)(e,x);return(0,o.jsx)("th",(0,s.A)({ref:a,className:(0,n.cn)("h-12 px-4 text-right align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",t)},l))});y.displayName="TableHead";const j=l.forwardRef((e,a)=>{let{className:t}=e,l=(0,r.A)(e,p);return(0,o.jsx)("td",(0,s.A)({ref:a,className:(0,n.cn)("p-4 align-middle [&:has([role=checkbox])]:pr-0",t)},l))});j.displayName="TableCell";l.forwardRef((e,a)=>{let{className:t}=e,l=(0,r.A)(e,f);return(0,o.jsx)("caption",(0,s.A)({ref:a,className:(0,n.cn)("mt-4 text-sm text-muted-foreground",t)},l))}).displayName="TableCaption"},49954(e,a,t){t.d(a,{p:()=>m});var s=t(22555),r=t(53986),l=t(65043),n=t(15074),o=t(70579);const d=["className","type","style","error","errorId","onFocus","onBlur"],c="rgba(220, 38, 38, 0.6)",i="rgba(2, 97, 116, 0.25)",m=l.forwardRef((e,a)=>{let{className:t,type:l,style:m,error:u,errorId:x,onFocus:p,onBlur:f}=e,h=(0,r.A)(e,d);return(0,o.jsx)("input",(0,s.A)({type:l,className:(0,n.cn)("flex h-10 w-full rounded-xl border px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-[#026174]/40 disabled:cursor-not-allowed disabled:opacity-50 transition-all",t),style:(0,s.A)({borderColor:u?c:i,background:"#ffffff",color:"#0f172a"},m||{}),onFocus:e=>{e.target.style.borderColor=u?c:"#068294",e.target.style.boxShadow=u?"none":"0 0 0 2px rgba(2, 97, 116, 0.25)",null===p||void 0===p||p(e)},onBlur:e=>{e.target.style.borderColor=u?c:i,e.target.style.boxShadow="none",null===f||void 0===f||f(e)},ref:a,"aria-invalid":!!u||void 0,"aria-describedby":u&&x?x:void 0},h))});m.displayName="Input"},70492(e,a,t){t.d(a,{Cf:()=>y,Es:()=>v,L3:()=>A,c7:()=>j,lG:()=>h,rr:()=>w,zM:()=>g});var s=t(22555),r=t(53986),l=t(65043),n=t(95438),o=t(40614),d=t(15074),c=t(70579);const i=["className"],m=["className","children","style"],u=["className"],x=["className"],p=["className"],f=["className"],h=n.bL,g=n.l9,b=n.ZL,N=(n.bm,l.forwardRef((e,a)=>{let{className:t}=e,l=(0,r.A)(e,i);return(0,c.jsx)(n.hJ,(0,s.A)({ref:a,className:(0,d.cn)("fixed inset-0 z-50 backdrop-blur-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),style:(0,s.A)({background:"rgba(42, 110, 133, 0.2)"},l.style||{})},l))}));N.displayName=n.hJ.displayName;const y=l.forwardRef((e,a)=>{let{className:t,children:l,style:i}=e,u=(0,r.A)(e,m);return(0,c.jsxs)(b,{children:[(0,c.jsx)(N,{}),(0,c.jsxs)(n.UC,(0,s.A)((0,s.A)({ref:a,className:(0,d.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-5 border-2 p-6 shadow-2xl duration-300 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] rounded-2xl",t),style:(0,s.A)({background:"#ffffff",borderColor:"rgba(6, 130, 148, 0.25)",boxShadow:"0 25px 50px -12px rgba(0, 0, 0, 0.15), 0 0 0 1px rgba(6, 130, 148, 0.08)"},i||{}),"aria-describedby":void 0},u),{},{children:[l,(0,c.jsxs)(n.bm,{className:"absolute right-4 top-4 rounded-xl p-1.5 opacity-70 ring-offset-background transition-all hover:opacity-100 hover:bg-white focus:outline-none focus:ring-2 focus:ring-[#068294] focus:ring-offset-2 disabled:pointer-events-none",style:{color:"#2A6E85"},children:[(0,c.jsx)(o.A,{className:"h-5 w-5"}),(0,c.jsx)("span",{className:"sr-only",children:"\u0625\u063a\u0644\u0627\u0642"})]})]}))]})});y.displayName=n.UC.displayName;const j=e=>{let{className:a}=e,t=(0,r.A)(e,u);return(0,c.jsx)("div",(0,s.A)({className:(0,d.cn)("flex flex-col space-y-1.5 text-center sm:text-right",a)},t))};j.displayName="DialogHeader";const v=e=>{let{className:a}=e,t=(0,r.A)(e,x);return(0,c.jsx)("div",(0,s.A)({className:(0,d.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2 sm:space-x-reverse",a)},t))};v.displayName="DialogFooter";const A=l.forwardRef((e,a)=>{let{className:t}=e,l=(0,r.A)(e,p);return(0,c.jsx)(n.hE,(0,s.A)({ref:a,className:(0,d.cn)("text-lg font-bold leading-none tracking-tight",t),style:(0,s.A)({color:"#2A6E85",fontWeight:700},l.style||{})},l))});A.displayName=n.hE.displayName;const w=l.forwardRef((e,a)=>{let{className:t}=e,l=(0,r.A)(e,f);return(0,c.jsx)(n.VY,(0,s.A)({ref:a,className:(0,d.cn)("text-sm text-muted-foreground",t)},l))});w.displayName=n.VY.displayName},72147(e,a,t){t.d(a,{Z:()=>u});var s=t(65043),r=t(36210),l=t(96817),n=t(39292),o=t(15074),d=t(69772),c=t(70492),i=t(49954),m=t(70579);function u(e){let{value:a,onChange:t,options:u,getOptionLabel:x,getOptionValue:p,placeholder:f="\u0627\u062e\u062a\u0631...",searchPlaceholder:h="\u0627\u0628\u062d\u062b...",className:g,disabled:b}=e;const[N,y]=s.useState(!1),[j,v]=s.useState(""),A=s.useMemo(()=>{if(!j)return u;const e=j.toLowerCase();return u.filter(a=>x(a).toLowerCase().includes(e))},[u,j,x]),w=u.find(e=>p(e)===a);return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsxs)(d.$,{type:"button",variant:"outline",role:"combobox","aria-expanded":N,className:(0,o.cn)("w-full justify-between",g),onClick:()=>y(!0),disabled:b,children:[w?x(w):f,(0,m.jsx)(l.A,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"})]}),(0,m.jsx)(c.lG,{open:N,onOpenChange:y,children:(0,m.jsxs)(c.Cf,{className:"sm:max-w-[425px] select-modal-formal ds-popover",children:[(0,m.jsx)(c.c7,{children:(0,m.jsx)(c.L3,{className:"text-slate-800 font-bold text-xl",children:"\u0627\u062e\u062a\u0631 \u0645\u0646 \u0627\u0644\u0642\u0627\u0626\u0645\u0629"})}),(0,m.jsxs)("div",{className:"space-y-4",children:[(0,m.jsxs)("div",{className:"relative",children:[(0,m.jsx)(n.A,{className:"absolute right-3 top-1/2 -translate-y-1/2 h-4 w-4 text-[#068294]"}),(0,m.jsx)(i.p,{placeholder:h,value:j,onChange:e=>v(e.target.value),className:"pr-9 bg-white border-slate-200 text-slate-800 placeholder:text-slate-500 focus:ring-[#068294]/30 focus:border-[#068294]"})]}),(0,m.jsx)("div",{className:"max-h-[300px] overflow-y-auto space-y-1 scrollbar-formal",children:0===A.length?(0,m.jsx)("div",{className:"text-center py-8 text-slate-600 font-medium",children:"\u0644\u0627 \u062a\u0648\u062c\u062f \u0646\u062a\u0627\u0626\u062c"}):A.map(e=>{const s=p(e),l=a===s;return(0,m.jsxs)("button",{type:"button",role:"option","aria-selected":l,onClick:()=>{t(s),y(!1),v("")},className:(0,o.cn)("ds-option w-full text-right flex items-center justify-between px-3 py-2.5 rounded-lg transition-colors",l?"bg-[#EBF4F6] text-[#026174] font-semibold":"bg-transparent text-slate-800"),children:[(0,m.jsx)("span",{children:x(e)}),l&&(0,m.jsx)(r.A,{className:"h-4 w-4 text-[#068294]"})]},s)})})]})]})})]})}},92417(e,a,t){t.d(a,{E:()=>d});var s=t(22555),r=t(53986),l=t(15074),n=t(70579);const o=["className"];function d(e){let{className:a}=e,t=(0,r.A)(e,o);return(0,n.jsx)("div",(0,s.A)({className:(0,l.cn)("animate-pulse rounded-md bg-muted",a)},t))}},96817(e,a,t){t.d(a,{A:()=>s});const s=(0,t(21639).A)("ChevronsUpDown",[["path",{d:"m7 15 5 5 5-5",key:"1hf1tw"}],["path",{d:"m7 9 5-5 5 5",key:"sgt6xg"}]])}}]);
//# sourceMappingURL=234.bedf2719.chunk.js.map
/*! For license information please see 392.be34dd21.chunk.js.LICENSE.txt */
"use strict";(self.webpackChunksttlment_client=self.webpackChunksttlment_client||[]).push([[392],{8567(e,t,r){r.d(t,{E:()=>c});var s=r(22555),a=r(53986),n=(r(65043),r(10917)),o=r(15074),i=r(70579);const l=["className","variant"],d=(0,n.F)("inline-flex items-center rounded-lg border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-[#026174] text-white hover:bg-[#01505f]",secondary:"border-transparent bg-[#068294] text-white hover:bg-[#057a8a]",destructive:"border-transparent bg-[#ef4444] text-white hover:bg-[#dc2626]",outline:"border-[rgba(2,97,116,0.3)] bg-transparent text-[#026174]",success:"border-transparent bg-[#22c55e] text-white hover:bg-[#16a34a]",warning:"border-transparent bg-[#f59e0b] text-white hover:bg-[#d97706]",info:"border-transparent bg-[#026174] text-white hover:bg-[#01505f]"}},defaultVariants:{variant:"default"}});function c(e){let{className:t,variant:r}=e,n=(0,a.A)(e,l);return(0,i.jsx)("div",(0,s.A)({className:(0,o.cn)(d({variant:r}),t)},n))}},9809(e,t,r){r.d(t,{A:()=>s});const s=(0,r(21639).A)("ListTodo",[["rect",{x:"3",y:"5",width:"6",height:"6",rx:"1",key:"1defrl"}],["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["path",{d:"M13 6h8",key:"15sg57"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 18h8",key:"oe0vm4"}]])},9855(e,t,r){r.d(t,{A:()=>s});const s=(0,r(21639).A)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]])},10499(e,t,r){r.d(t,{A:()=>s});const s=(0,r(21639).A)("FileStack",[["path",{d:"M16 2v5h5",key:"kt2in0"}],["path",{d:"M21 6v6.5c0 .8-.7 1.5-1.5 1.5h-7c-.8 0-1.5-.7-1.5-1.5v-9c0-.8.7-1.5 1.5-1.5H17l4 4z",key:"1km23n"}],["path",{d:"M7 8v8.8c0 .3.2.6.4.8.2.2.5.4.8.4H15",key:"16874u"}],["path",{d:"M3 12v8.8c0 .3.2.6.4.8.2.2.5.4.8.4H11",key:"k2ox98"}]])},20254(e,t,r){r.d(t,{A:()=>s});const s=(0,r(21639).A)("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]])},20920(e,t,r){r.d(t,{A:()=>s});const s=(0,r(21639).A)("Landmark",[["line",{x1:"3",x2:"21",y1:"22",y2:"22",key:"j8o0r"}],["line",{x1:"6",x2:"6",y1:"18",y2:"11",key:"10tf0k"}],["line",{x1:"10",x2:"10",y1:"18",y2:"11",key:"54lgf6"}],["line",{x1:"14",x2:"14",y1:"18",y2:"11",key:"380y"}],["line",{x1:"18",x2:"18",y1:"18",y2:"11",key:"1kevvc"}],["polygon",{points:"12 2 20 7 4 7",key:"jkujk7"}]])},25851(e,t,r){r.d(t,{T:()=>n});var s=r(2240),a=r(52422);function n(e,t){const r=(0,s.n)(e=>e.user);return!!r&&(0,a._m)(r.permissions,r.role,e,t)}},26405(e,t,r){r.d(t,{A:()=>s});const s=(0,r(21639).A)("ClipboardList",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]])},42489(e,t,r){r.d(t,{A:()=>s});const s=(0,r(21639).A)("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]])},47097(e,t,r){r.d(t,{n:()=>A});var s,a,n,o,i,l=r(22555),d=r(65043),c=r(39790),u=r(55149),m=r(38458),p=r(26562),h=r(24558),g=r(25239),x=r(11454),b=r(60329),f=r(99723),y=(s=new WeakMap,a=new WeakMap,n=new WeakMap,o=new WeakMap,i=new WeakSet,class extends b.Q{constructor(e,t){super(),(0,c.A)(this,i),(0,u.A)(this,s,void 0),(0,u.A)(this,a,void 0),(0,u.A)(this,n,void 0),(0,u.A)(this,o,void 0),(0,h.A)(s,this,e),this.setOptions(t),this.bindMethods(),(0,p.A)(i,this,v).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(e){var t;const r=this.options;this.options=(0,m.A)(s,this).defaultMutationOptions(e),(0,f.f8)(this.options,r)||(0,m.A)(s,this).getMutationCache().notify({type:"observerOptionsUpdated",mutation:(0,m.A)(n,this),observer:this}),null!==r&&void 0!==r&&r.mutationKey&&this.options.mutationKey&&(0,f.EN)(r.mutationKey)!==(0,f.EN)(this.options.mutationKey)?this.reset():"pending"===(null===(t=(0,m.A)(n,this))||void 0===t?void 0:t.state.status)&&(0,m.A)(n,this).setOptions(this.options)}onUnsubscribe(){var e;this.hasListeners()||(null===(e=(0,m.A)(n,this))||void 0===e||e.removeObserver(this))}onMutationUpdate(e){(0,p.A)(i,this,v).call(this),(0,p.A)(i,this,j).call(this,e)}getCurrentResult(){return(0,m.A)(a,this)}reset(){var e;null===(e=(0,m.A)(n,this))||void 0===e||e.removeObserver(this),(0,h.A)(n,this,void 0),(0,p.A)(i,this,v).call(this),(0,p.A)(i,this,j).call(this)}mutate(e,t){var r;return(0,h.A)(o,this,t),null===(r=(0,m.A)(n,this))||void 0===r||r.removeObserver(this),(0,h.A)(n,this,(0,m.A)(s,this).getMutationCache().build((0,m.A)(s,this),this.options)),(0,m.A)(n,this).addObserver(this),(0,m.A)(n,this).execute(e)}});function v(){var e,t;const r=null!==(e=null===(t=(0,m.A)(n,this))||void 0===t?void 0:t.state)&&void 0!==e?e:(0,g.$)();(0,h.A)(a,this,(0,l.A)((0,l.A)({},r),{},{isPending:"pending"===r.status,isSuccess:"success"===r.status,isError:"error"===r.status,isIdle:"idle"===r.status,mutate:this.mutate,reset:this.reset}))}function j(e){x.jG.batch(()=>{if((0,m.A)(o,this)&&this.hasListeners()){const h=(0,m.A)(a,this).variables,g=(0,m.A)(a,this).context,x={client:(0,m.A)(s,this),meta:this.options.meta,mutationKey:this.options.mutationKey};if("success"===(null===e||void 0===e?void 0:e.type)){try{var t,r;null===(t=(r=(0,m.A)(o,this)).onSuccess)||void 0===t||t.call(r,e.data,h,g,x)}catch(p){Promise.reject(p)}try{var n,i;null===(n=(i=(0,m.A)(o,this)).onSettled)||void 0===n||n.call(i,e.data,null,h,g,x)}catch(p){Promise.reject(p)}}else if("error"===(null===e||void 0===e?void 0:e.type)){try{var l,d;null===(l=(d=(0,m.A)(o,this)).onError)||void 0===l||l.call(d,e.error,h,g,x)}catch(p){Promise.reject(p)}try{var c,u;null===(c=(u=(0,m.A)(o,this)).onSettled)||void 0===c||c.call(u,void 0,e.error,h,g,x)}catch(p){Promise.reject(p)}}}this.listeners.forEach(e=>{e((0,m.A)(a,this))})})}var k=r(63248);function A(e,t){const r=(0,k.jE)(t),[s]=d.useState(()=>new y(r,e));d.useEffect(()=>{s.setOptions(e)},[s,e]);const a=d.useSyncExternalStore(d.useCallback(e=>s.subscribe(x.jG.batchCalls(e)),[s]),()=>s.getCurrentResult(),()=>s.getCurrentResult()),n=d.useCallback((e,t)=>{s.mutate(e,t).catch(f.lQ)},[s]);if(a.error&&(0,f.GU)(s.options.throwOnError,[a.error]))throw a.error;return(0,l.A)((0,l.A)({},a),{},{mutate:n,mutateAsync:a.mutate})}},49954(e,t,r){r.d(t,{p:()=>u});var s=r(22555),a=r(53986),n=r(65043),o=r(15074),i=r(70579);const l=["className","type","style","error","errorId","onFocus","onBlur"],d="rgba(220, 38, 38, 0.6)",c="rgba(2, 97, 116, 0.25)",u=n.forwardRef((e,t)=>{let{className:r,type:n,style:u,error:m,errorId:p,onFocus:h,onBlur:g}=e,x=(0,a.A)(e,l);return(0,i.jsx)("input",(0,s.A)({type:n,className:(0,o.cn)("flex h-10 w-full rounded-xl border px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-[#026174]/40 disabled:cursor-not-allowed disabled:opacity-50 transition-all",r),style:(0,s.A)({borderColor:m?d:c,background:"#ffffff",color:"#0f172a"},u||{}),onFocus:e=>{e.target.style.borderColor=m?d:"#068294",e.target.style.boxShadow=m?"none":"0 0 0 2px rgba(2, 97, 116, 0.25)",null===h||void 0===h||h(e)},onBlur:e=>{e.target.style.borderColor=m?d:c,e.target.style.boxShadow="none",null===g||void 0===g||g(e)},ref:t,"aria-invalid":!!m||void 0,"aria-describedby":m&&p?p:void 0},x))});u.displayName="Input"},50490(e,t,r){r.d(t,{Q:()=>m});var s=r(65043),a=r(73375),n=r(90948),o=r(17798),i=r(14091),l=r(48221),d=r(56804),c=r(70579);function u(e){let{value:t}=e;const r=(0,n.d)(0),a=(0,o.G)(r,e=>Math.round(e)),[d,u]=(0,s.useState)(0);return(0,i.L)(a,"change",u),(0,s.useEffect)(()=>{const e=(0,l.i)(r,t,{duration:.8,ease:[.25,.46,.45,.94]});return()=>e.stop()},[t,r]),(0,c.jsx)("span",{children:d})}function m(e){let{items:t}=e;return(0,c.jsx)("div",{className:"grid gap-4 mb-6",style:{gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))"},children:t.map((e,t)=>{var r;const s=null!==(r=e.Icon)&&void 0!==r?r:d.A;return(0,c.jsxs)(a.P.div,{initial:{opacity:0,y:24,scale:.95},animate:{opacity:1,y:0,scale:1},transition:{delay:.08*t,type:"spring",stiffness:200,damping:20},className:"group relative overflow-hidden rounded-2xl cursor-default",style:{background:"linear-gradient(145deg, #ffffff 0%, #f8fafc 100%)",boxShadow:"0 4px 20px rgba(15,23,42,0.08), 0 0 0 1px rgba(0,0,0,0.04)",border:"2px solid var(--border-card)"},whileHover:{y:-8,scale:1.04,boxShadow:"0 24px 48px rgba(15,23,42,0.15), 0 0 0 1px rgba(0,0,0,0.06), 0 0 40px ".concat(e.glow),transition:{duration:.3,ease:[.25,.46,.45,.94]}},children:[(0,c.jsx)(a.P.div,{className:"absolute top-0 right-0 left-0 h-1 opacity-80",style:{background:e.gradient,transformOrigin:"right"},initial:{scaleX:0},animate:{scaleX:1},transition:{delay:.08*t+.2,duration:.5,ease:"easeOut"}}),(0,c.jsx)("div",{className:"card-shine-hover absolute inset-0 pointer-events-none overflow-hidden opacity-0 group-hover:opacity-100 transition-opacity",style:{zIndex:0}}),(0,c.jsx)(a.P.div,{className:"absolute inset-y-0 start-0 w-1 rounded-s-2xl group-hover:w-1.5 transition-all duration-300",style:{background:e.gradient,boxShadow:"0 0 12px ".concat(e.glow)},animate:{opacity:[.85,1,.85]},transition:{opacity:{duration:2.5,repeat:1/0,ease:"easeInOut"}}}),(0,c.jsxs)("div",{className:"p-5 flex items-center gap-4 relative z-10",children:[(0,c.jsx)(a.P.div,{className:"flex-shrink-0 w-12 h-12 rounded-xl flex items-center justify-center",style:{background:"linear-gradient(145deg, ".concat(e.color,"18 0%, ").concat(e.color,"08 100%)"),boxShadow:"inset 0 2px 4px rgba(255,255,255,0.5), 0 4px 12px ".concat(e.color,"30")},animate:{scale:[1,1.03,1]},transition:{duration:2.5,repeat:1/0,ease:"easeInOut"},whileHover:{scale:1.12,rotate:6},children:(0,c.jsx)(s,{className:"w-6 h-6",style:{color:e.color},strokeWidth:2.5})}),(0,c.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,c.jsx)("p",{className:"text-xs font-bold m-0 mb-1 tracking-wide uppercase",style:{color:"var(--text-muted)",letterSpacing:"0.05em"},children:e.label}),(0,c.jsx)("p",{className:"text-xl font-extrabold m-0 leading-tight tabular-nums",style:{color:"var(--text-strong)"},dir:"ltr",children:e.formatDisplay?e.formatDisplay(e.value):(0,c.jsx)(u,{value:e.value})})]})]})]},t)})})}},58392(e,t,r){r.d(t,{UsersV2:()=>te});var s=r(22555),a=r(65043),n=r(6931),o=r(73375),i=r(8567),l=r(72147),d=r(6171),c=r(51704),u=r(19162),m=r(72301),p=r(71360),h=r(7118),g=r(20254),x=r(21639);const b=(0,x.A)("UserX",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]]);var f=r(42489),y=r(14459),v=r(39292),j=r(40614);const k=(0,x.A)("Key",[["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["path",{d:"m15.5 7.5 3 3L22 7l-3-3",key:"1rn1fs"}]]);var A=r(64265);const w=(0,x.A)("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);var N=r(9855),C=r(50490),_=r(63248),S=r(47097),z=r(34379),M=r(9809),T=r(28646),I=r(41680),B=r(38449),R=r(20920),W=r(56790),E=r(10499),L=r(19742),P=r(26405),q=r(52414),F=r(7365),H=r(96817);const O=(0,x.A)("ChevronsDownUp",[["path",{d:"m7 20 5-5 5 5",key:"13a0gw"}],["path",{d:"m7 4 5 5 5-5",key:"1kwcof"}]]),K=(0,x.A)("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);var U=r(92382),V=r(36210),D=r(70579);const G={dashboard:z.A,tasks:M.A,schedules:T.A,templates:I.A,categories:B.A,rtgs:R.A,government_settlements:W.A,ct_matching:E.A,merchant_disbursements:W.A,reports:L.A,attendance:P.A,merchants:R.A,users:h.A,audit_log:I.A,tv_settings:q.A,rtgs_settings:F.A,change_password:k},Q={main:"\u0627\u0644\u0642\u0633\u0645 \u0627\u0644\u0631\u0626\u064a\u0633\u064a \u0648\u0625\u062f\u0627\u0631\u0629 \u0627\u0644\u0645\u0647\u0627\u0645",reports:"\u0627\u0644\u062a\u0642\u0627\u0631\u064a\u0631 \u0648\u0627\u0644\u062a\u062d\u0644\u064a\u0644\u0627\u062a",admin:"\u0627\u0644\u0625\u062f\u0627\u0631\u0629 \u0648\u0627\u0644\u0625\u0639\u062f\u0627\u062f\u0627\u062a"};function Y(e){let{userId:t,userName:r,userRole:o,open:i,onClose:l}=e;const{toast:d}=(0,c.dj)(),m=(0,_.jE)(),[p,h]=(0,a.useState)({}),[g,x]=(0,a.useState)({}),{data:b=[],isLoading:y}=(0,n.I)({queryKey:["permission-definitions"],queryFn:async()=>(await u.A.get("/permissions/definitions")).data,enabled:i}),{data:v={},isLoading:k}=(0,n.I)({queryKey:["user-permissions",t],queryFn:async()=>(await u.A.get("/permissions/users/".concat(t))).data,enabled:i&&!!t&&"admin"!==o}),A=(0,S.n)({mutationFn:async e=>(await u.A.put("/permissions/users/".concat(t),{permissions:e})).data,onSuccess:()=>{m.invalidateQueries({queryKey:["user-permissions",t]}),d({title:"\u0646\u062c\u062d",description:"\u062a\u0645 \u062d\u0641\u0638 \u0627\u0644\u0635\u0644\u0627\u062d\u064a\u0627\u062a \u0628\u0646\u062c\u0627\u062d"})},onError:e=>{var t,r;d({title:"\u062e\u0637\u0623",description:(null===(t=e.response)||void 0===t||null===(r=t.data)||void 0===r?void 0:r.error)||"\u0641\u0634\u0644 \u062d\u0641\u0638 \u0627\u0644\u0635\u0644\u0627\u062d\u064a\u0627\u062a",variant:"destructive"})}});(0,a.useEffect)(()=>{v&&"object"===typeof v&&x(v)},[v]);const w=e=>{const t={};b.forEach(r=>{t[r.page_key]=e}),h(t)};if(!i)return null;if("admin"===o)return(0,D.jsx)("div",{className:"fixed inset-0 flex items-center justify-center z-[1100] p-4",style:{background:"rgba(0,0,0,0.5)"},children:(0,D.jsxs)("div",{className:"rounded-2xl shadow-xl w-full max-w-md p-8",style:{background:"#fff",boxShadow:"0 20px 60px rgba(0,0,0,0.25)"},children:[(0,D.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,D.jsx)("div",{className:"w-12 h-12 rounded-xl flex items-center justify-center",style:{background:"rgba(6, 130, 148, 0.12)"},children:(0,D.jsx)(f.A,{className:"w-6 h-6",style:{color:"#068294"}})}),(0,D.jsx)("h3",{className:"text-xl font-bold m-0",style:{color:"var(--text-strong)"},children:"\u0635\u0644\u0627\u062d\u064a\u0627\u062a \u0627\u0644\u0645\u062f\u064a\u0631"})]}),(0,D.jsxs)("p",{className:"text-slate-600 leading-relaxed m-0",children:["\u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645 \u0628\u0635\u0644\u0627\u062d\u064a\u0629 ",(0,D.jsx)("strong",{children:"\u0645\u062f\u064a\u0631"})," \u064a\u0645\u0644\u0643 \u062c\u0645\u064a\u0639 \u0627\u0644\u0635\u0644\u0627\u062d\u064a\u0627\u062a \u062a\u0644\u0642\u0627\u0626\u064a\u0627\u064b \u0648\u0644\u0627 \u064a\u062d\u062a\u0627\u062c \u0625\u0644\u0649 \u062a\u0639\u062f\u064a\u0644."]}),(0,D.jsx)("div",{className:"mt-6 flex justify-end",children:(0,D.jsx)("button",{type:"button",onClick:l,className:"px-5 py-2.5 rounded-xl font-semibold text-white border-0 cursor-pointer transition-all hover:opacity-90",style:{background:"linear-gradient(135deg, #026174 0%, #068294 100%)"},children:"\u0625\u063a\u0644\u0627\u0642"})})]})});const N=y||k,C=[...b].sort((e,t)=>(e.sort_order||0)-(t.sort_order||0)),z=C.reduce((e,t)=>{const r=(s=t.page_key,["dashboard","tasks","schedules","templates","categories"].includes(s)?"main":["rtgs","government_settlements","ct_matching","merchant_disbursements","reports"].includes(s)?"reports":"admin");var s;return e[r]||(e[r]=[]),e[r].push(t),e},{});return(0,D.jsx)("div",{className:"fixed inset-0 flex items-center justify-center z-[1100] p-4",style:{background:"rgba(0,0,0,0.5)"},children:(0,D.jsxs)("div",{className:"rounded-2xl w-full flex flex-col overflow-hidden shadow-2xl",style:{background:"#fff",maxWidth:"900px",maxHeight:"92vh",boxShadow:"0 25px 80px rgba(0,0,0,0.25)"},children:[(0,D.jsxs)("div",{className:"flex items-center justify-between gap-4 p-5 flex-wrap",style:{background:"linear-gradient(135deg, #026174 0%, #068294 100%)",color:"#fff",boxShadow:"0 4px 20px rgba(2, 97, 116, 0.3)"},children:[(0,D.jsxs)("div",{className:"flex items-center gap-4",children:[(0,D.jsx)("div",{className:"w-12 h-12 rounded-xl flex items-center justify-center bg-white/20",children:(0,D.jsx)(f.A,{className:"w-6 h-6 text-white"})}),(0,D.jsxs)("div",{children:[(0,D.jsxs)("h2",{className:"text-xl font-bold m-0 text-white",children:["\u0635\u0644\u0627\u062d\u064a\u0627\u062a \u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645: ",r]}),(0,D.jsx)("p",{className:"text-sm opacity-95 mt-1 m-0 text-white/90",children:"\u0627\u062e\u062a\u0631 \u0627\u0644\u0635\u0641\u062d\u0627\u062a \u0648\u0627\u0644\u0625\u062c\u0631\u0627\u0621\u0627\u062a \u0627\u0644\u0645\u0633\u0645\u0648\u062d \u0628\u0647\u0627 \u2014 \u062c\u0645\u064a\u0639 \u0623\u0642\u0633\u0627\u0645 \u0627\u0644\u0646\u0638\u0627\u0645"})]})]}),(0,D.jsx)("button",{type:"button",onClick:l,className:"p-2 rounded-lg hover:bg-white/20 transition-colors text-white border-0 cursor-pointer","aria-label":"\u0625\u063a\u0644\u0627\u0642",children:(0,D.jsx)(j.A,{size:22})})]}),!N&&C.length>0&&(0,D.jsxs)("div",{className:"flex items-center gap-2 px-5 py-3 border-b",style:{background:"#f8fafc",borderColor:"#e2e8f0"},children:[(0,D.jsxs)("button",{type:"button",onClick:()=>w(!0),className:"flex items-center gap-2 px-3 py-1.5 rounded-lg text-sm font-medium border transition-colors",style:{borderColor:"#cbd5e1",color:"#475569",background:"#fff"},children:[(0,D.jsx)(H.A,{size:16}),"\u062a\u0648\u0633\u064a\u0639 \u0627\u0644\u0643\u0644"]}),(0,D.jsxs)("button",{type:"button",onClick:()=>w(!1),className:"flex items-center gap-2 px-3 py-1.5 rounded-lg text-sm font-medium border transition-colors",style:{borderColor:"#cbd5e1",color:"#475569",background:"#fff"},children:[(0,D.jsx)(O,{size:16}),"\u0637\u064a \u0627\u0644\u0643\u0644"]})]}),(0,D.jsx)("div",{className:"overflow-y-auto flex-1 p-5",style:{minHeight:0},children:N?(0,D.jsx)("div",{className:"py-16 text-center text-slate-500 font-medium",children:"\u062c\u0627\u0631\u064a \u062a\u062d\u0645\u064a\u0644 \u0627\u0644\u0635\u0644\u0627\u062d\u064a\u0627\u062a..."}):(0,D.jsx)("div",{className:"space-y-8",children:["main","reports","admin"].map(e=>{const t=z[e];if(null===t||void 0===t||!t.length)return null;const r=Q[e]||e;return(0,D.jsxs)("div",{children:[(0,D.jsx)("h3",{className:"text-sm font-bold uppercase tracking-wide mb-3 px-2",style:{color:"#64748b"},children:r}),(0,D.jsx)("div",{className:"space-y-2",children:t.map(e=>{const t=!1!==p[e.page_key],r=g[e.page_key]||{},a=Array.isArray(e.actions)?e.actions:[],n=a.length>0&&a.every(e=>!0===r[e.key]),o=a.some(e=>!0===r[e.key]),i=G[e.page_key];return(0,D.jsxs)("div",{className:"rounded-xl overflow-hidden border-2 transition-colors",style:{borderColor:o?"rgba(6, 130, 148, 0.35)":"#e2e8f0",background:t?"#fff":o?"rgba(6, 130, 148, 0.04)":"#fafbfc"},children:[(0,D.jsxs)("button",{type:"button",onClick:()=>{return t=e.page_key,void h(e=>(0,s.A)((0,s.A)({},e),{},{[t]:!e[t]}));var t},className:"w-full flex items-center justify-between gap-3 px-4 py-3.5 text-right border-0 cursor-pointer transition-colors hover:opacity-90",style:{background:o?"linear-gradient(90deg, rgba(6, 130, 148, 0.08) 0%, transparent 100%)":"transparent"},children:[(0,D.jsxs)("div",{className:"flex items-center gap-3",children:[i&&(0,D.jsx)("div",{className:"w-10 h-10 rounded-lg flex items-center justify-center shrink-0",style:{background:"rgba(6, 130, 148, 0.1)",color:"#026174"},children:(0,D.jsx)(i,{size:20})}),(0,D.jsx)("span",{className:"font-bold text-base",style:{color:"var(--text-strong)"},children:e.page_label_ar})]}),(0,D.jsxs)("div",{className:"flex items-center gap-3",children:[o&&(0,D.jsxs)("span",{className:"text-xs font-semibold px-2 py-0.5 rounded-full",style:{background:"rgba(6, 130, 148, 0.15)",color:"#0d9488"},children:[a.filter(e=>r[e.key]).length," / ",a.length]}),t?(0,D.jsx)(K,{size:20,className:"text-slate-500"}):(0,D.jsx)(U.A,{size:20,className:"text-slate-500"})]})]}),t&&(0,D.jsxs)("div",{className:"px-4 pb-4 pt-1 border-t",style:{borderColor:"#f1f5f9",background:"#fff"},children:[(0,D.jsxs)("label",{className:"flex items-center gap-3 mb-4 py-2 cursor-pointer select-none",style:{borderBottom:"1px solid #f1f5f9"},children:[(0,D.jsx)("input",{type:"checkbox",checked:n,ref:e=>{e&&(e.indeterminate=o&&!n)},onChange:t=>((e,t)=>{const r=b.find(t=>t.page_key===e);if(!r)return;const a={};r.actions.forEach(e=>{a[e.key]=t}),x(t=>(0,s.A)((0,s.A)({},t),{},{[e]:(0,s.A)((0,s.A)({},t[e]||{}),a)}))})(e.page_key,t.target.checked),className:"w-4 h-4 rounded border-2 cursor-pointer accent-[#026174]",style:{borderColor:"#94a3b8"}}),(0,D.jsx)("span",{className:"text-sm font-bold",style:{color:"#475569"},children:"\u062a\u062d\u062f\u064a\u062f \u0643\u0644 \u0625\u062c\u0631\u0627\u0621\u0627\u062a \u0647\u0630\u0647 \u0627\u0644\u0635\u0641\u062d\u0629"})]}),(0,D.jsx)("div",{className:"grid gap-x-6 gap-y-2.5",style:{gridTemplateColumns:"repeat(auto-fill, minmax(180px, 1fr))"},children:a.map(t=>(0,D.jsxs)("label",{className:"flex items-center gap-3 cursor-pointer select-none py-1",children:[(0,D.jsx)("input",{type:"checkbox",checked:!0===r[t.key],onChange:r=>{return a=e.page_key,n=t.key,o=r.target.checked,void x(e=>{const t=e[a]||{};return(0,s.A)((0,s.A)({},e),{},{[a]:(0,s.A)((0,s.A)({},t),{},{[n]:o})})});var a,n,o},className:"w-4 h-4 rounded border-2 cursor-pointer accent-[#026174]",style:{borderColor:"#94a3b8"}}),(0,D.jsx)("span",{className:"text-sm font-medium",style:{color:"var(--text)"},children:t.label_ar})]},t.key))})]})]},e.page_key)})})]},e)})})}),(0,D.jsxs)("div",{className:"flex items-center gap-3 justify-end p-5 border-t-2 flex-wrap",style:{borderColor:"#e2e8f0",background:"#f8fafc"},children:[(0,D.jsx)("button",{type:"button",onClick:l,className:"px-5 py-2.5 rounded-xl font-semibold border-2 cursor-pointer transition-colors",style:{borderColor:"#cbd5e1",color:"#475569",background:"#fff"},children:"\u0625\u0644\u063a\u0627\u0621"}),(0,D.jsx)("button",{type:"button",onClick:()=>{A.mutate(g)},disabled:A.isPending,className:"flex items-center gap-2 px-6 py-2.5 rounded-xl font-semibold text-white border-0 cursor-pointer transition-all hover:opacity-95 disabled:opacity-60 disabled:cursor-not-allowed shadow-lg",style:{background:"linear-gradient(135deg, #026174 0%, #068294 100%)",boxShadow:"0 4px 14px rgba(6, 130, 148, 0.4)"},children:A.isPending?"\u062c\u0627\u0631\u064a \u0627\u0644\u062d\u0641\u0638...":(0,D.jsxs)(D.Fragment,{children:[(0,D.jsx)(V.A,{size:20}),"\u062d\u0641\u0638 \u0627\u0644\u0635\u0644\u0627\u062d\u064a\u0627\u062a"]})})]})]})})}const X={dashboard:z.A,tasks:M.A,schedules:T.A,templates:I.A,categories:B.A,rtgs:R.A,government_settlements:W.A,ct_matching:E.A,merchant_disbursements:W.A,reports:L.A,attendance:P.A,merchants:R.A,users:h.A,audit_log:I.A,tv_settings:q.A,rtgs_settings:F.A,change_password:k},Z={main:"\u0627\u0644\u0642\u0633\u0645 \u0627\u0644\u0631\u0626\u064a\u0633\u064a \u0648\u0625\u062f\u0627\u0631\u0629 \u0627\u0644\u0645\u0647\u0627\u0645",reports:"\u0627\u0644\u062a\u0642\u0627\u0631\u064a\u0631 \u0648\u0627\u0644\u062a\u062d\u0644\u064a\u0644\u0627\u062a",admin:"\u0627\u0644\u0625\u062f\u0627\u0631\u0629 \u0648\u0627\u0644\u0625\u0639\u062f\u0627\u062f\u0627\u062a"};function J(e){let{definitions:t,value:r,onChange:n,maxHeight:o="400px",excludePageKeys:i=["change_password"]}=e;const[l,d]=(0,a.useState)({}),c=t.filter(e=>!i.includes(e.page_key)).sort((e,t)=>(e.sort_order||0)-(t.sort_order||0)).reduce((e,t)=>{const r=(s=t.page_key,["dashboard","tasks","schedules","templates","categories"].includes(s)?"main":["rtgs","government_settlements","ct_matching","merchant_disbursements","reports"].includes(s)?"reports":"admin");var s;return e[r]||(e[r]=[]),e[r].push(t),e},{});return(0,D.jsx)("div",{className:"rounded-xl border-2 overflow-y-auto",style:{borderColor:"#e2e8f0",background:"#fafbfc",maxHeight:o},children:(0,D.jsx)("div",{className:"p-4 space-y-6",children:["main","reports","admin"].map(e=>{const a=c[e];if(null===a||void 0===a||!a.length)return null;const o=Z[e]||e;return(0,D.jsxs)("div",{children:[(0,D.jsx)("h3",{className:"text-xs font-bold uppercase tracking-wide mb-2 px-1",style:{color:"#64748b"},children:o}),(0,D.jsx)("div",{className:"space-y-2",children:a.map(e=>{const a=!1!==l[e.page_key],o=r[e.page_key]||{},i=Array.isArray(e.actions)?e.actions:[],c=i.length>0&&i.every(e=>!0===o[e.key]),u=i.some(e=>!0===o[e.key]),m=X[e.page_key];return(0,D.jsxs)("div",{className:"rounded-lg overflow-hidden border-2 transition-colors",style:{borderColor:u?"rgba(6, 130, 148, 0.3)":"#e2e8f0",background:a?"#fff":u?"rgba(6, 130, 148, 0.04)":"#fff"},children:[(0,D.jsxs)("button",{type:"button",onClick:()=>{return t=e.page_key,void d(e=>(0,s.A)((0,s.A)({},e),{},{[t]:!e[t]}));var t},className:"w-full flex items-center justify-between gap-2 px-3 py-2.5 text-right border-0 cursor-pointer transition-colors hover:opacity-90 text-sm",style:{background:u?"linear-gradient(90deg, rgba(6, 130, 148, 0.06) 0%, transparent 100%)":"transparent"},children:[(0,D.jsxs)("div",{className:"flex items-center gap-2",children:[m&&(0,D.jsx)("div",{className:"w-8 h-8 rounded-lg flex items-center justify-center shrink-0",style:{background:"rgba(6, 130, 148, 0.1)",color:"#026174"},children:(0,D.jsx)(m,{size:16})}),(0,D.jsx)("span",{className:"font-semibold",style:{color:"var(--text-strong)"},children:e.page_label_ar})]}),(0,D.jsxs)("div",{className:"flex items-center gap-2",children:[u&&(0,D.jsxs)("span",{className:"text-xs font-semibold px-1.5 py-0.5 rounded-full",style:{background:"rgba(6, 130, 148, 0.15)",color:"#0d9488"},children:[i.filter(e=>o[e.key]).length,"/",i.length]}),a?(0,D.jsx)(K,{size:18,className:"text-slate-500"}):(0,D.jsx)(U.A,{size:18,className:"text-slate-500"})]})]}),a&&(0,D.jsxs)("div",{className:"px-3 pb-3 pt-1 border-t",style:{borderColor:"#f1f5f9",background:"#fff"},children:[(0,D.jsxs)("label",{className:"flex items-center gap-2 mb-3 py-1.5 cursor-pointer select-none",style:{borderBottom:"1px solid #f1f5f9"},children:[(0,D.jsx)("input",{type:"checkbox",checked:c,ref:e=>{e&&(e.indeterminate=u&&!c)},onChange:a=>((e,a)=>{const o=t.find(t=>t.page_key===e);if(!o)return;const i={};o.actions.forEach(e=>{i[e.key]=a}),n((0,s.A)((0,s.A)({},r),{},{[e]:(0,s.A)((0,s.A)({},r[e]||{}),i)}))})(e.page_key,a.target.checked),className:"w-3.5 h-3.5 rounded border-2 cursor-pointer accent-[#026174]",style:{borderColor:"#94a3b8"}}),(0,D.jsx)("span",{className:"text-xs font-bold",style:{color:"#475569"},children:"\u062a\u062d\u062f\u064a\u062f \u0627\u0644\u0643\u0644"})]}),(0,D.jsx)("div",{className:"grid gap-x-4 gap-y-1.5",style:{gridTemplateColumns:"repeat(auto-fill, minmax(160px, 1fr))"},children:i.map(t=>(0,D.jsxs)("label",{className:"flex items-center gap-2 cursor-pointer select-none py-0.5",children:[(0,D.jsx)("input",{type:"checkbox",checked:!0===o[t.key],onChange:a=>{return o=e.page_key,i=t.key,l=a.target.checked,void n((0,s.A)((0,s.A)({},r),{},{[o]:(0,s.A)((0,s.A)({},r[o]||{}),{},{[i]:l})}));var o,i,l},className:"w-3.5 h-3.5 rounded border-2 cursor-pointer accent-[#026174]",style:{borderColor:"#94a3b8"}}),(0,D.jsx)("span",{className:"text-xs font-medium",style:{color:"var(--text)"},children:t.label_ar})]},t.key))})]})]},e.page_key)})})]},e)})})})}var $=r(25851);const ee=[{value:"",label:"\u0627\u0644\u0643\u0644"},{value:"dashboard",label:"\u0644\u0648\u062d\u0629 \u0627\u0644\u062a\u062d\u0643\u0645"},{value:"tasks",label:"\u0627\u0644\u0645\u0647\u0627\u0645"},{value:"schedules",label:"\u0627\u0644\u062c\u062f\u0627\u0648\u0644 \u0627\u0644\u0632\u0645\u0646\u064a\u0629"},{value:"templates",label:"\u0642\u0648\u0627\u0644\u0628 \u0627\u0644\u0645\u0647\u0627\u0645"},{value:"categories",label:"\u0627\u0644\u0641\u0626\u0627\u062a"},{value:"rtgs",label:"RTGS"},{value:"government_settlements",label:"\u0627\u0644\u062a\u0633\u0648\u064a\u0627\u062a \u0627\u0644\u062d\u0643\u0648\u0645\u064a\u0629"},{value:"ct_matching",label:"\u0645\u0637\u0627\u0628\u0642\u0629 \u0627\u0644\u0639\u0645\u0648\u0644\u0627\u062a (CT)"},{value:"merchant_disbursements",label:"\u0635\u0631\u0641 \u0645\u0633\u062a\u062d\u0642\u0627\u062a \u0627\u0644\u062a\u062c\u0627\u0631"},{value:"reports",label:"\u0627\u0644\u062a\u0642\u0627\u0631\u064a\u0631"},{value:"attendance",label:"\u0627\u0644\u062d\u0636\u0648\u0631"},{value:"merchants",label:"\u0625\u062f\u0627\u0631\u0629 \u0627\u0644\u062a\u062c\u0627\u0631"},{value:"users",label:"\u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645\u064a\u0646"},{value:"audit_log",label:"\u0633\u062c\u0644 \u0627\u0644\u062a\u062f\u0642\u064a\u0642"},{value:"tv_settings",label:"\u0644\u0648\u062d\u0629 TV"},{value:"rtgs_settings",label:"\u0625\u0639\u062f\u0627\u062f\u0627\u062a RTGS"}];function te(){var e;const{toast:t}=(0,c.dj)(),r=(0,$.T)("users","manage_permissions"),x=(0,$.T)("users","create"),_=(0,$.T)("users","edit"),S=(0,$.T)("users","delete"),z=(0,$.T)("users","toggle_active"),[M,T]=(0,a.useState)(!1),[I,B]=(0,a.useState)(!1),[R,W]=(0,a.useState)(null),[E,L]=(0,a.useState)(null),[P,q]=(0,a.useState)({}),[F,H]=(0,a.useState)({search:"",role:"",active:"",permissionPage:""}),[O,K]=(0,a.useState)({name:"",email:"",password:"",role:"employee",can_create_ad_hoc:!1,can_manage_merchants:!1,active:!0}),{data:U=[],isLoading:V,refetch:G}=(0,n.I)({queryKey:["users"],queryFn:async()=>(await u.A.get("/users")).data}),{data:Q}=(0,n.I)({queryKey:["permission-users-by-page",F.permissionPage],queryFn:async()=>(await u.A.get("/permissions/users-by-page?page_key=".concat(encodeURIComponent(F.permissionPage)))).data,enabled:!!F.permissionPage}),X=null!==(e=null===Q||void 0===Q?void 0:Q.user_ids)&&void 0!==e?e:[],{data:Z=[]}=(0,n.I)({queryKey:["permission-definitions"],queryFn:async()=>(await u.A.get("/permissions/definitions")).data,enabled:M&&r}),{data:te}=(0,n.I)({queryKey:["user-permissions",null===E||void 0===E?void 0:E.id],queryFn:async()=>(await u.A.get("/permissions/users/".concat(E.id))).data,enabled:M&&!(null===E||void 0===E||!E.id)&&"admin"!==(null===E||void 0===E?void 0:E.role)&&r});(0,a.useEffect)(()=>{M&&(E&&"admin"!==E.role?te&&"object"===typeof te&&q(te):q({}))},[M,null===E||void 0===E?void 0:E.id,null===E||void 0===E?void 0:E.role,te]);const re=U.filter(e=>{var t,r;const s=!F.search||(null===(t=e.name)||void 0===t?void 0:t.toLowerCase().includes(F.search.toLowerCase()))||(null===(r=e.email)||void 0===r?void 0:r.toLowerCase().includes(F.search.toLowerCase())),a=!F.role||e.role===F.role,n=""===F.active||"true"===F.active&&e.active||"false"===F.active&&!e.active,o=!F.permissionPage||X.includes(e.id);return s&&a&&n&&o}),se={total:U.length,active:U.filter(e=>e.active).length,inactive:U.filter(e=>!e.active).length,admins:U.filter(e=>"admin"===e.role).length,supervisors:U.filter(e=>"supervisor"===e.role).length,employees:U.filter(e=>"employee"===e.role).length},ae=e=>{e?(L(e),K({name:e.name||"",email:e.email||"",password:"",role:e.role||"employee",can_create_ad_hoc:e.can_create_ad_hoc||!1,can_manage_merchants:e.can_manage_merchants||!1,active:!1!==e.active})):(L(null),K({name:"",email:"",password:"",role:"employee",can_create_ad_hoc:!1,can_manage_merchants:!1,active:!0})),T(!0)},ne=e=>{const t={admin:{variant:"destructive",label:"\u0645\u062f\u064a\u0631"},supervisor:{variant:"info",label:"\u0645\u0634\u0631\u0641"},employee:{variant:"secondary",label:"\u0645\u0648\u0638\u0641"},accountant:{variant:"default",label:"\u0645\u0648\u0638\u0641 \u062d\u0633\u0627\u0628\u0627\u062a"},viewer:{variant:"outline",label:"\u0645\u0634\u0627\u0647\u062f"}}[e]||{variant:"default",label:e};return(0,D.jsx)(i.E,{variant:t.variant,children:t.label})},oe=(e,t)=>{H(r=>(0,s.A)((0,s.A)({},r),{},{[e]:t}))},ie=()=>{H({search:"",role:"",active:"",permissionPage:""})};return(0,D.jsx)("div",{style:{padding:"2rem",minHeight:"100vh",background:"#BBBCC0",display:"flex",justifyContent:"center"},children:(0,D.jsxs)("div",{style:{width:"100%",maxWidth:"1600px"},children:[(0,D.jsxs)("div",{className:"page-header-teal",style:{background:"linear-gradient(90deg, #026174, #068294)",color:"#ffffff",padding:"1.25rem 1.5rem",marginBottom:"1.5rem",borderRadius:"1rem",display:"flex",alignItems:"center",justifyContent:"space-between",boxShadow:"0 10px 25px rgba(0,0,0,0.18)"},children:[(0,D.jsxs)("div",{children:[(0,D.jsx)("h1",{style:{margin:0,fontSize:"2rem",fontWeight:800,color:"#ffffff"},children:"\u0625\u062f\u0627\u0631\u0629 \u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645\u064a\u0646"}),(0,D.jsx)("p",{style:{margin:"0.4rem 0 0 0",fontSize:"0.95rem",opacity:.9,color:"#ffffff"},children:"\u0625\u062f\u0627\u0631\u0629 \u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645\u064a\u0646 \u0648\u0627\u0644\u0635\u0644\u0627\u062d\u064a\u0627\u062a \u0648\u0627\u0644\u0623\u062f\u0648\u0627\u0631 \u0641\u064a \u0627\u0644\u0646\u0638\u0627\u0645"})]}),x&&(0,D.jsxs)("button",{onClick:()=>ae(),style:{padding:"0.7rem 1.4rem",background:"#fff",color:"#068294",border:"none",borderRadius:"999px",cursor:"pointer",fontWeight:600,fontSize:"0.9rem",boxShadow:"0 4px 12px rgba(0,0,0,0.16)",display:"flex",alignItems:"center",gap:"0.5rem"},children:[(0,D.jsx)(p.A,{size:18}),"\u0625\u0636\u0627\u0641\u0629 \u0645\u0633\u062a\u062e\u062f\u0645 \u062c\u062f\u064a\u062f"]})]}),(0,D.jsx)(C.Q,{items:[{label:"\u0625\u062c\u0645\u0627\u0644\u064a \u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645\u064a\u0646",value:se.total,Icon:h.A,color:"#068294",glow:"rgba(6, 130, 148, 0.4)",gradient:"linear-gradient(135deg, #068294 0%, #026174 100%)"},{label:"\u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645\u064a\u0646 \u0627\u0644\u0646\u0634\u0637\u064a\u0646",value:se.active,Icon:g.A,color:"#10b981",glow:"rgba(16, 185, 129, 0.4)",gradient:"linear-gradient(135deg, #10b981 0%, #059669 100%)"},{label:"\u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645\u064a\u0646 \u063a\u064a\u0631 \u0627\u0644\u0646\u0634\u0637\u064a\u0646",value:se.inactive,Icon:b,color:"#ef4444",glow:"rgba(239, 68, 68, 0.4)",gradient:"linear-gradient(135deg, #ef4444 0%, #dc2626 100%)"},{label:"\u0627\u0644\u0645\u062f\u0631\u0627\u0621",value:se.admins,Icon:f.A,color:"#026174",glow:"rgba(2, 97, 116, 0.4)",gradient:"linear-gradient(135deg, #026174 0%, #0f172a 100%)"},{label:"\u0627\u0644\u0645\u0634\u0631\u0641\u064a\u0646",value:se.supervisors,Icon:h.A,color:"#0f766e",glow:"rgba(15, 118, 110, 0.4)",gradient:"linear-gradient(135deg, #0f766e 0%, #0d9488 100%)"},{label:"\u0627\u0644\u0645\u0648\u0638\u0641\u064a\u0646",value:se.employees,Icon:y.A,color:"#0369a1",glow:"rgba(3, 105, 161, 0.4)",gradient:"linear-gradient(135deg, #0369a1 0%, #0284c7 100%)"}]}),(0,D.jsxs)("div",{style:{background:"#fff",padding:"1.25rem 1.5rem",borderRadius:"0.9rem",marginBottom:"1.5rem",boxShadow:"0 4px 14px rgba(0,0,0,0.08)",border:"1px solid #e5e7eb"},children:[(0,D.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(180px, 1fr))",gap:"0.75rem",alignItems:"end"},children:[(0,D.jsxs)("div",{style:{position:"relative",gridColumn:"1 / -1"},children:[(0,D.jsx)(v.A,{size:18,style:{position:"absolute",right:"0.9rem",top:"50%",transform:"translateY(-50%)",color:"#9ca3af"}}),(0,D.jsx)("input",{type:"text",placeholder:"\u0628\u062d\u062b \u0628\u0627\u0644\u0627\u0633\u0645 \u0623\u0648 \u0627\u0644\u0628\u0631\u064a\u062f \u0627\u0644\u0625\u0644\u0643\u062a\u0631\u0648\u0646\u064a...",value:F.search,onChange:e=>oe("search",e.target.value),style:{padding:"0.7rem 0.9rem 0.7rem 2.5rem",border:"1px solid #d4d4d4",borderRadius:"0.5rem",fontSize:"0.95rem",width:"100%"}})]}),(0,D.jsxs)("div",{children:[(0,D.jsx)("label",{style:{display:"block",fontSize:"0.75rem",fontWeight:600,color:"#6b7280",marginBottom:"0.35rem"},children:"\u0627\u0644\u062f\u0648\u0631"}),(0,D.jsxs)("select",{value:F.role,onChange:e=>oe("role",e.target.value),style:{padding:"0.7rem 0.9rem",border:"1px solid #d4d4d4",borderRadius:"0.5rem",fontSize:"0.95rem",width:"100%"},children:[(0,D.jsx)("option",{value:"",children:"\u062c\u0645\u064a\u0639 \u0627\u0644\u0623\u062f\u0648\u0627\u0631"}),(0,D.jsx)("option",{value:"admin",children:"\u0645\u062f\u064a\u0631"}),(0,D.jsx)("option",{value:"supervisor",children:"\u0645\u0634\u0631\u0641"}),(0,D.jsx)("option",{value:"employee",children:"\u0645\u0648\u0638\u0641"}),(0,D.jsx)("option",{value:"accountant",children:"\u0645\u0648\u0638\u0641 \u062d\u0633\u0627\u0628\u0627\u062a"}),(0,D.jsx)("option",{value:"viewer",children:"\u0645\u0634\u0627\u0647\u062f"})]})]}),(0,D.jsxs)("div",{children:[(0,D.jsx)("label",{style:{display:"block",fontSize:"0.75rem",fontWeight:600,color:"#6b7280",marginBottom:"0.35rem"},children:"\u0627\u0644\u062d\u0627\u0644\u0629"}),(0,D.jsxs)("select",{value:F.active,onChange:e=>oe("active",e.target.value),style:{padding:"0.7rem 0.9rem",border:"1px solid #d4d4d4",borderRadius:"0.5rem",fontSize:"0.95rem",width:"100%"},children:[(0,D.jsx)("option",{value:"",children:"\u062c\u0645\u064a\u0639 \u0627\u0644\u062d\u0627\u0644\u0627\u062a"}),(0,D.jsx)("option",{value:"true",children:"\u0646\u0634\u0637"}),(0,D.jsx)("option",{value:"false",children:"\u063a\u064a\u0631 \u0646\u0634\u0637"})]})]}),(0,D.jsxs)("div",{children:[(0,D.jsx)("label",{style:{display:"block",fontSize:"0.75rem",fontWeight:600,color:"#6b7280",marginBottom:"0.35rem"},children:"\u0627\u0644\u0635\u0644\u0627\u062d\u064a\u0627\u062a"}),(0,D.jsx)("select",{value:F.permissionPage,onChange:e=>oe("permissionPage",e.target.value),style:{padding:"0.7rem 0.9rem",border:"1px solid #d4d4d4",borderRadius:"0.5rem",fontSize:"0.95rem",width:"100%",minWidth:"160px"},children:ee.map(e=>(0,D.jsx)("option",{value:e.value,children:e.label},e.value||"all"))}),(0,D.jsx)("span",{style:{fontSize:"0.7rem",color:"#9ca3af",display:"block",marginTop:"0.25rem"},children:"\u0644\u062f\u064a\u0647 \u0635\u0644\u0627\u062d\u064a\u0629 \u0639\u0644\u0649 \u0627\u0644\u0635\u0641\u062d\u0629"})]})]}),(0,D.jsx)("div",{style:{marginTop:"0.75rem",textAlign:"left"},children:(0,D.jsxs)("button",{type:"button",onClick:ie,style:{padding:"0.4rem 0.9rem",borderRadius:"999px",border:"none",background:"#e5e7eb",color:"#111827",fontSize:"0.8rem",cursor:"pointer",display:"inline-flex",alignItems:"center",gap:"0.4rem"},children:[(0,D.jsx)(j.A,{size:14}),"\u0645\u0633\u062d \u0627\u0644\u0641\u0644\u0627\u062a\u0631"]})})]}),V&&(0,D.jsx)("div",{style:{marginTop:"2rem"},children:(0,D.jsx)(m.A,{message:"\u062c\u0627\u0631\u064a \u062a\u062d\u0645\u064a\u0644 \u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645\u064a\u0646..."})}),!V&&(0,D.jsxs)("div",{style:{background:"#fff",borderRadius:"0.9rem",overflow:"hidden",boxShadow:"0 6px 18px rgba(0,0,0,0.12)",maxHeight:"calc(100vh - 400px)",display:"flex",flexDirection:"column"},children:[(0,D.jsx)("div",{style:{overflowX:"auto",overflowY:"auto"},children:0===re.length?(0,D.jsxs)("div",{style:{padding:"3rem",textAlign:"center",color:"#666"},children:[(0,D.jsx)(h.A,{size:48,style:{margin:"0 auto 1rem",opacity:.5}}),(0,D.jsx)("p",{style:{fontSize:"1.1rem",margin:0},children:"\u0644\u0627 \u064a\u0648\u062c\u062f \u0645\u0633\u062a\u062e\u062f\u0645\u064a\u0646 \u0645\u0637\u0627\u0628\u0642\u064a\u0646 \u0644\u0645\u0639\u0627\u064a\u064a\u0631 \u0627\u0644\u0628\u062d\u062b"}),(0,D.jsx)("p",{style:{marginTop:"0.5rem",fontSize:"0.9rem"},children:0===U.length?(0,D.jsxs)(D.Fragment,{children:["\u0644\u0627 \u064a\u0648\u062c\u062f \u0645\u0633\u062a\u062e\u062f\u0645\u064a\u0646 \u0641\u064a \u0627\u0644\u0646\u0638\u0627\u0645."," ",(0,D.jsx)("button",{type:"button",onClick:()=>ae(),style:{background:"none",border:"none",color:"#068294",cursor:"pointer",textDecoration:"underline",fontSize:"0.9rem"},children:"\u0625\u0646\u0634\u0627\u0621 \u0645\u0633\u062a\u062e\u062f\u0645 \u062c\u062f\u064a\u062f"})]}):(0,D.jsxs)(D.Fragment,{children:["\u062c\u0631\u0651\u0628 \u062a\u0639\u062f\u064a\u0644 \u0627\u0644\u0641\u0644\u0627\u062a\u0631 \u0623\u0648"," ",(0,D.jsx)("button",{type:"button",onClick:ie,style:{background:"none",border:"none",color:"#068294",cursor:"pointer",textDecoration:"underline",fontSize:"0.9rem"},children:"\u0645\u0633\u062d \u062c\u0645\u064a\u0639 \u0627\u0644\u0641\u0644\u0627\u062a\u0631"})]})})]}):(0,D.jsxs)("table",{style:{width:"100%",borderCollapse:"collapse"},children:[(0,D.jsx)("thead",{children:(0,D.jsxs)("tr",{className:"table-header-dark",style:{background:"#068294",color:"#fff"},children:[(0,D.jsx)("th",{style:{padding:"0.75rem",textAlign:"right",borderBottom:"1px solid #e5e7eb",fontWeight:600},children:"\u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645"}),(0,D.jsx)("th",{style:{padding:"0.75rem",textAlign:"right",borderBottom:"1px solid #e5e7eb",fontWeight:600},children:"\u0627\u0644\u0628\u0631\u064a\u062f \u0627\u0644\u0625\u0644\u0643\u062a\u0631\u0648\u0646\u064a"}),(0,D.jsx)("th",{style:{padding:"0.75rem",textAlign:"center",borderBottom:"1px solid #e5e7eb",fontWeight:600},children:"\u0627\u0644\u062f\u0648\u0631"}),(0,D.jsx)("th",{style:{padding:"0.75rem",textAlign:"center",borderBottom:"1px solid #e5e7eb",fontWeight:600},children:"\u0627\u0644\u062d\u0627\u0644\u0629"}),(0,D.jsx)("th",{style:{padding:"0.75rem",textAlign:"center",borderBottom:"1px solid #e5e7eb",fontWeight:600},children:"\u0627\u0644\u0635\u0644\u0627\u062d\u064a\u0627\u062a"}),(0,D.jsx)("th",{style:{padding:"0.75rem",textAlign:"center",borderBottom:"1px solid #e5e7eb",fontWeight:600},children:"\u0627\u0644\u0625\u062c\u0631\u0627\u0621\u0627\u062a"})]})}),(0,D.jsx)("tbody",{children:re.map((e,s)=>(0,D.jsxs)(o.P.tr,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.2,delay:.02*s},style:{borderBottom:"1px solid #e5e7eb",transition:"background-color 0.2s"},onMouseEnter:e=>{e.currentTarget.style.backgroundColor="#f9fafb"},onMouseLeave:e=>{e.currentTarget.style.backgroundColor="transparent"},children:[(0,D.jsx)("td",{style:{padding:"0.75rem",textAlign:"right"},children:(0,D.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"0.75rem",justifyContent:"flex-end"},children:[(0,D.jsx)("div",{children:(0,D.jsx)("div",{style:{fontWeight:600,color:"#111827",marginBottom:"0.2rem"},children:e.name})}),(0,D.jsx)(d.e,{src:e.avatar_url?"".concat(window.location.origin).concat(e.avatar_url):null,alt:e.name,size:"sm"})]})}),(0,D.jsx)("td",{style:{padding:"0.75rem",textAlign:"right",color:"#6b7280"},children:e.email}),(0,D.jsx)("td",{style:{padding:"0.75rem",textAlign:"center"},children:ne(e.role)}),(0,D.jsx)("td",{style:{padding:"0.75rem",textAlign:"center"},children:(0,D.jsx)(i.E,{variant:e.active?"success":"outline",children:e.active?"\u0646\u0634\u0637":"\u063a\u064a\u0631 \u0646\u0634\u0637"})}),(0,D.jsx)("td",{style:{padding:"0.75rem",textAlign:"center"},children:(0,D.jsx)("div",{style:{display:"flex",gap:"0.4rem",justifyContent:"center",flexWrap:"wrap"},children:r?(0,D.jsxs)("button",{type:"button",onClick:()=>{W(e),B(!0)},style:{padding:"0.4rem 0.7rem",background:"linear-gradient(135deg, #0d9488 0%, #0f766e 100%)",color:"#fff",border:"none",borderRadius:"0.5rem",cursor:"pointer",fontSize:"0.85rem",display:"inline-flex",alignItems:"center",gap:"0.3rem",transition:"opacity 0.2s",boxShadow:"0 2px 6px rgba(13, 148, 136, 0.3)"},onMouseEnter:e=>{e.currentTarget.style.opacity="0.9"},onMouseLeave:e=>{e.currentTarget.style.opacity="1"},title:"\u0625\u062f\u0627\u0631\u0629 \u0627\u0644\u0635\u0644\u0627\u062d\u064a\u0627\u062a \u0627\u0644\u062a\u0641\u0635\u064a\u0644\u064a\u0629",children:[(0,D.jsx)(k,{size:14}),"\u0627\u0644\u0635\u0644\u0627\u062d\u064a\u0627\u062a"]}):(0,D.jsx)("span",{style:{color:"#9ca3af",fontSize:"0.85rem"},children:"\u2014"})})}),(0,D.jsx)("td",{style:{padding:"0.75rem",textAlign:"center"},children:(0,D.jsxs)("div",{style:{display:"flex",gap:"0.5rem",justifyContent:"center"},children:[_&&(0,D.jsxs)("button",{onClick:()=>ae(e),style:{padding:"0.4rem 0.7rem",background:"#068294",color:"#fff",border:"none",borderRadius:"0.4rem",cursor:"pointer",fontSize:"0.85rem",display:"flex",alignItems:"center",gap:"0.3rem",transition:"background-color 0.2s"},onMouseEnter:e=>{e.currentTarget.style.backgroundColor="#026174"},onMouseLeave:e=>{e.currentTarget.style.backgroundColor="#068294"},children:[(0,D.jsx)(A.A,{size:14}),"\u062a\u0639\u062f\u064a\u0644"]}),z&&(0,D.jsxs)("button",{onClick:()=>(async(e,r)=>{try{await u.A.patch("/users/".concat(e,"/toggle-active"),{active:!r}),t({title:"\u0646\u062c\u062d",description:"\u062a\u0645 \u062a\u062d\u062f\u064a\u062b \u062d\u0627\u0644\u0629 \u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645 \u0628\u0646\u062c\u0627\u062d"}),G()}catch(n){var s,a;t({title:"\u062e\u0637\u0623",description:(null===(s=n.response)||void 0===s||null===(a=s.data)||void 0===a?void 0:a.error)||"\u062d\u062f\u062b \u062e\u0637\u0623",variant:"destructive"})}})(e.id,e.active),style:{padding:"0.4rem 0.7rem",background:e.active?"#ef4444":"#10b981",color:"#fff",border:"none",borderRadius:"0.4rem",cursor:"pointer",fontSize:"0.85rem",display:"flex",alignItems:"center",gap:"0.3rem",transition:"background-color 0.2s"},onMouseEnter:t=>{t.currentTarget.style.backgroundColor=e.active?"#dc2626":"#059669"},onMouseLeave:t=>{t.currentTarget.style.backgroundColor=e.active?"#ef4444":"#10b981"},children:[e.active?(0,D.jsx)(b,{size:14}):(0,D.jsx)(w,{size:14}),e.active?"\u062a\u0639\u0637\u064a\u0644":"\u062a\u0641\u0639\u064a\u0644"]}),S&&(0,D.jsxs)("button",{onClick:()=>(async e=>{if(window.confirm("\u0647\u0644 \u0623\u0646\u062a \u0645\u062a\u0623\u0643\u062f \u0645\u0646 \u062d\u0630\u0641 \u0647\u0630\u0627 \u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645\u061f"))try{await u.A.delete("/users/".concat(e)),t({title:"\u0646\u062c\u062d",description:"\u062a\u0645 \u062d\u0630\u0641 \u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645 \u0628\u0646\u062c\u0627\u062d"}),G()}catch(d){var r,s,a,n,o,i,l;const e=null!==(r=null!==(s=null!==(a=null===(n=d.response)||void 0===n||null===(o=n.data)||void 0===o?void 0:o.error)&&void 0!==a?a:null===(i=d.response)||void 0===i||null===(l=i.data)||void 0===l?void 0:l.message)&&void 0!==s?s:d.message)&&void 0!==r?r:"\u062d\u062f\u062b \u062e\u0637\u0623";t({title:"\u062e\u0637\u0623",description:"string"===typeof e?e:"\u062d\u062f\u062b \u062e\u0637\u0623",variant:"destructive"})}})(e.id),style:{padding:"0.4rem 0.7rem",background:"#ef4444",color:"#fff",border:"none",borderRadius:"0.4rem",cursor:"pointer",fontSize:"0.85rem",display:"flex",alignItems:"center",gap:"0.3rem",transition:"background-color 0.2s"},onMouseEnter:e=>{e.currentTarget.style.backgroundColor="#dc2626"},onMouseLeave:e=>{e.currentTarget.style.backgroundColor="#ef4444"},children:[(0,D.jsx)(N.A,{size:14}),"\u062d\u0630\u0641"]})]})})]},e.id))})]})}),re.length>0&&(0,D.jsx)("div",{style:{padding:"0.75rem 1rem",borderTop:"1px solid #e5e7eb",background:"#f9fafb",display:"flex",justifyContent:"space-between",alignItems:"center"},children:(0,D.jsxs)("div",{style:{fontSize:"0.85rem",color:"#6b7280"},children:["\u0639\u0631\u0636 ",re.length," \u0645\u0646 ",U.length," \u0645\u0633\u062a\u062e\u062f\u0645"]})})]}),M&&(0,D.jsx)("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3,padding:"1rem"},children:(0,D.jsxs)("div",{style:{background:"#fff",padding:"2rem",borderRadius:"1rem",maxWidth:"700px",width:"100%",maxHeight:"90vh",overflowY:"auto",boxShadow:"0 20px 60px rgba(0,0,0,0.3)"},children:[(0,D.jsx)("div",{style:{marginBottom:"1.5rem",paddingBottom:"1rem",borderBottom:"2px solid #e5e7eb"},children:(0,D.jsxs)("h2",{style:{margin:0,fontSize:"1.5rem",fontWeight:700,color:"#111827",display:"flex",alignItems:"center",justifyContent:"space-between"},children:[E?"\u062a\u0639\u062f\u064a\u0644 \u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645":"\u0645\u0633\u062a\u062e\u062f\u0645 \u062c\u062f\u064a\u062f",(0,D.jsx)("button",{onClick:()=>T(!1),style:{background:"transparent",border:"none",cursor:"pointer",padding:"0.25rem",display:"flex",alignItems:"center",color:"#6b7280"},children:(0,D.jsx)(j.A,{size:20})})]})}),E&&(0,D.jsxs)("div",{style:{marginBottom:"1.5rem",padding:"1rem",background:"#f9fafb",borderRadius:"0.75rem",border:"1px solid #e5e7eb"},children:[(0,D.jsx)("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:600,color:"#374151",marginBottom:"0.75rem"},children:"\u0627\u0644\u0635\u0648\u0631\u0629 \u0627\u0644\u0634\u062e\u0635\u064a\u0629"}),(0,D.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"1rem"},children:[(0,D.jsx)(d.e,{src:E.avatar_url?"".concat(window.location.origin).concat(E.avatar_url):null,alt:E.name,size:"xl"}),(0,D.jsx)("div",{style:{flex:1},children:(0,D.jsx)("p",{style:{margin:0,fontSize:"0.875rem",color:"#6b7280",lineHeight:1.5},children:E.avatar_url?"\u064a\u0645\u0643\u0646 \u0644\u0644\u0645\u0633\u062a\u062e\u062f\u0645 \u062a\u063a\u064a\u064a\u0631 \u0635\u0648\u0631\u062a\u0647 \u0645\u0646 \u0635\u0641\u062d\u0629 \u0627\u0644\u0625\u0639\u062f\u0627\u062f\u0627\u062a \u0627\u0644\u0634\u062e\u0635\u064a\u0629":"\u0644\u0627 \u062a\u0648\u062c\u062f \u0635\u0648\u0631\u0629 \u0634\u062e\u0635\u064a\u0629. \u064a\u0645\u0643\u0646 \u0644\u0644\u0645\u0633\u062a\u062e\u062f\u0645 \u0631\u0641\u0639 \u0635\u0648\u0631\u062a\u0647 \u0645\u0646 \u0635\u0641\u062d\u0629 \u0627\u0644\u0625\u0639\u062f\u0627\u062f\u0627\u062a \u0627\u0644\u0634\u062e\u0635\u064a\u0629"})})]})]}),(0,D.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),O.name.trim()&&O.email.trim())if(E||O.password.trim())try{const e={name:O.name,email:O.email,role:O.role,active:O.active};let o;if(O.password.trim()&&(e.password=O.password),E||(e.can_create_ad_hoc=!1,e.can_manage_merchants=!1),E)await u.A.put("/users/".concat(E.id),e),o=E.id,t({title:"\u0646\u062c\u062d",description:"\u062a\u0645 \u062a\u062d\u062f\u064a\u062b \u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645 \u0628\u0646\u062c\u0627\u062d"});else{var s;o=null===(s=(await u.A.post("/users",e)).data)||void 0===s?void 0:s.id,t({title:"\u0646\u062c\u062d",description:"\u062a\u0645 \u0625\u0646\u0634\u0627\u0621 \u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645 \u0628\u0646\u062c\u0627\u062d"})}if(r&&o&&Object.keys(P).length>0)try{await u.A.put("/permissions/users/".concat(o),{permissions:P})}catch(l){var a,n;t({title:"\u062a\u0646\u0628\u064a\u0647",description:(null===(a=l.response)||void 0===a||null===(n=a.data)||void 0===n?void 0:n.error)||"\u062a\u0645 \u062d\u0641\u0638 \u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645 \u0644\u0643\u0646 \u0641\u0634\u0644 \u062d\u0641\u0638 \u0627\u0644\u0635\u0644\u0627\u062d\u064a\u0627\u062a. \u064a\u0645\u0643\u0646\u0643 \u062a\u0639\u064a\u064a\u0646\u0647\u0627 \u0645\u0646 \u0632\u0631 \u0627\u0644\u0635\u0644\u0627\u062d\u064a\u0627\u062a.",variant:"destructive"})}T(!1),q({}),G()}catch(d){var o,i;t({title:"\u062e\u0637\u0623",description:(null===(o=d.response)||void 0===o||null===(i=o.data)||void 0===i?void 0:i.error)||"\u062d\u062f\u062b \u062e\u0637\u0623",variant:"destructive"})}else t({title:"\u062e\u0637\u0623",description:"\u0643\u0644\u0645\u0629 \u0627\u0644\u0645\u0631\u0648\u0631 \u0645\u0637\u0644\u0648\u0628\u0629 \u0644\u0644\u0645\u0633\u062a\u062e\u062f\u0645\u064a\u0646 \u0627\u0644\u062c\u062f\u062f",variant:"destructive"});else t({title:"\u062e\u0637\u0623",description:"\u0627\u0644\u0627\u0633\u0645 \u0648\u0627\u0644\u0628\u0631\u064a\u062f \u0627\u0644\u0625\u0644\u0643\u062a\u0631\u0648\u0646\u064a \u0645\u0637\u0644\u0648\u0628\u0627\u0646",variant:"destructive"})},children:[(0,D.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:"1rem",marginBottom:"1rem"},children:[(0,D.jsxs)("div",{children:[(0,D.jsx)("label",{style:{display:"block",marginBottom:"0.5rem",fontSize:"0.875rem",fontWeight:600,color:"#374151"},children:"\u0627\u0644\u0627\u0633\u0645 *"}),(0,D.jsx)("input",{type:"text",value:O.name,onChange:e=>K((0,s.A)((0,s.A)({},O),{},{name:e.target.value})),placeholder:"\u0623\u062f\u062e\u0644 \u0627\u0644\u0627\u0633\u0645",required:!0,style:{width:"100%",padding:"0.75rem",border:"1px solid #d1d5db",borderRadius:"0.5rem",fontSize:"0.95rem",transition:"border-color 0.2s"},onFocus:e=>e.target.style.borderColor="#068294",onBlur:e=>e.target.style.borderColor="#d1d5db"})]}),(0,D.jsxs)("div",{children:[(0,D.jsx)("label",{style:{display:"block",marginBottom:"0.5rem",fontSize:"0.875rem",fontWeight:600,color:"#374151"},children:"\u0627\u0644\u0628\u0631\u064a\u062f \u0627\u0644\u0625\u0644\u0643\u062a\u0631\u0648\u0646\u064a *"}),(0,D.jsx)("input",{type:"email",value:O.email,onChange:e=>K((0,s.A)((0,s.A)({},O),{},{email:e.target.value})),placeholder:"email@example.com",required:!0,style:{width:"100%",padding:"0.75rem",border:"1px solid #d1d5db",borderRadius:"0.5rem",fontSize:"0.95rem",transition:"border-color 0.2s"},onFocus:e=>e.target.style.borderColor="#068294",onBlur:e=>e.target.style.borderColor="#d1d5db"})]}),(0,D.jsxs)("div",{style:{gridColumn:"1 / -1"},children:[(0,D.jsx)("label",{style:{display:"block",marginBottom:"0.5rem",fontSize:"0.875rem",fontWeight:600,color:"#374151"},children:E?"\u0643\u0644\u0645\u0629 \u0627\u0644\u0645\u0631\u0648\u0631 (\u0627\u062a\u0631\u0643\u0647\u0627 \u0641\u0627\u0631\u063a\u0629 \u0644\u0644\u0627\u062d\u062a\u0641\u0627\u0638 \u0628\u0627\u0644\u0642\u062f\u064a\u0645\u0629)":"\u0643\u0644\u0645\u0629 \u0627\u0644\u0645\u0631\u0648\u0631 *"}),(0,D.jsx)("input",{type:"password",value:O.password,onChange:e=>K((0,s.A)((0,s.A)({},O),{},{password:e.target.value})),placeholder:"\u0623\u062f\u062e\u0644 \u0643\u0644\u0645\u0629 \u0627\u0644\u0645\u0631\u0648\u0631",required:!E,style:{width:"100%",padding:"0.75rem",border:"1px solid #d1d5db",borderRadius:"0.5rem",fontSize:"0.95rem",transition:"border-color 0.2s"},onFocus:e=>e.target.style.borderColor="#068294",onBlur:e=>e.target.style.borderColor="#d1d5db"})]}),(0,D.jsxs)("div",{style:{gridColumn:"1 / -1"},children:[(0,D.jsx)("label",{style:{display:"block",marginBottom:"0.5rem",fontSize:"0.875rem",fontWeight:600,color:"#374151"},children:"\u0627\u0644\u062f\u0648\u0631 *"}),(0,D.jsx)(l.Z,{value:O.role,onChange:e=>K((0,s.A)((0,s.A)({},O),{},{role:e})),options:[{value:"admin",label:"\u0645\u062f\u064a\u0631"},{value:"supervisor",label:"\u0645\u0634\u0631\u0641"},{value:"employee",label:"\u0645\u0648\u0638\u0641"},{value:"accountant",label:"\u0645\u0648\u0638\u0641 \u062d\u0633\u0627\u0628\u0627\u062a"},{value:"viewer",label:"\u0645\u0634\u0627\u0647\u062f"}],getOptionLabel:e=>e.label,getOptionValue:e=>e.value,placeholder:"\u0627\u062e\u062a\u0631 \u0627\u0644\u062f\u0648\u0631"})]})]}),(0,D.jsxs)("div",{style:{marginTop:"1.5rem",padding:"1rem",background:"#f9fafb",borderRadius:"0.75rem",border:"1px solid #e5e7eb"},children:[(0,D.jsx)("label",{style:{display:"block",marginBottom:"1rem",fontSize:"0.875rem",fontWeight:600,color:"#374151"},children:"\u0627\u0644\u062d\u0627\u0644\u0629"}),(0,D.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"0.75rem"},children:[(0,D.jsx)("input",{type:"checkbox",id:"active",checked:O.active,onChange:e=>K((0,s.A)((0,s.A)({},O),{},{active:e.target.checked})),className:"custom-checkbox"}),(0,D.jsx)("label",{htmlFor:"active",style:{fontSize:"0.95rem",fontWeight:500,color:"#374151",cursor:"pointer",userSelect:"none"},children:"\u0646\u0634\u0637 (\u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645 \u064a\u0645\u0643\u0646\u0647 \u062a\u0633\u062c\u064a\u0644 \u0627\u0644\u062f\u062e\u0648\u0644 \u0648\u0627\u0633\u062a\u062e\u062f\u0627\u0645 \u0627\u0644\u0646\u0638\u0627\u0645)"})]})]}),r&&"admin"!==O.role&&(0,D.jsxs)("div",{style:{marginTop:"1.5rem"},children:[(0,D.jsx)("label",{style:{display:"block",marginBottom:"0.5rem",fontSize:"0.875rem",fontWeight:600,color:"#374151"},children:"\u0627\u0644\u0635\u0644\u0627\u062d\u064a\u0627\u062a \u0627\u0644\u062a\u0641\u0635\u064a\u0644\u064a\u0629"}),(0,D.jsx)("p",{style:{margin:"0 0 0.5rem",fontSize:"0.8rem",color:"#6b7280"},children:"\u0627\u062e\u062a\u0631 \u0627\u0644\u0635\u0641\u062d\u0627\u062a \u0648\u0627\u0644\u0625\u062c\u0631\u0627\u0621\u0627\u062a \u0627\u0644\u0645\u0633\u0645\u0648\u062d \u0628\u0647\u0627. \u064a\u0645\u0643\u0646\u0643 \u0623\u064a\u0636\u0627\u064b \u062a\u0639\u064a\u064a\u0646\u0647\u0627 \u0644\u0627\u062d\u0642\u0627\u064b \u0645\u0646 \u0632\u0631 \xab\u0627\u0644\u0635\u0644\u0627\u062d\u064a\u0627\u062a\xbb \u0641\u064a \u0627\u0644\u062c\u062f\u0648\u0644."}),Z.length>0?(0,D.jsx)(J,{definitions:Z,value:P,onChange:q,maxHeight:"320px"}):(0,D.jsx)("div",{style:{padding:"1rem",background:"#f9fafb",borderRadius:"0.5rem",color:"#6b7280",fontSize:"0.875rem"},children:"\u062c\u0627\u0631\u064a \u062a\u062d\u0645\u064a\u0644 \u0642\u0627\u0626\u0645\u0629 \u0627\u0644\u0635\u0644\u0627\u062d\u064a\u0627\u062a..."})]}),(!r||"admin"===O.role)&&(0,D.jsxs)("div",{style:{marginTop:"1rem",padding:"0.75rem 1rem",background:"rgba(6, 130, 148, 0.08)",borderRadius:"0.5rem",border:"1px solid rgba(6, 130, 148, 0.2)",fontSize:"0.875rem",color:"#0d9488"},children:[(0,D.jsx)("strong",{children:"\u0627\u0644\u0635\u0644\u0627\u062d\u064a\u0627\u062a \u0627\u0644\u062a\u0641\u0635\u064a\u0644\u064a\u0629:"})," \u062a\u064f\u062f\u0627\u0631 \u0645\u0646 \u0632\u0631 \xab\u0627\u0644\u0635\u0644\u0627\u062d\u064a\u0627\u062a\xbb \u0641\u064a \u0639\u0645\u0648\u062f \u0627\u0644\u0635\u0644\u0627\u062d\u064a\u0627\u062a \u0644\u0643\u0644 \u0645\u0633\u062a\u062e\u062f\u0645 (\u0639\u0631\u0636\u060c \u0625\u0636\u0627\u0641\u0629\u060c \u062a\u0639\u062f\u064a\u0644\u060c \u062d\u0630\u0641\u060c \u0625\u0644\u062e)."]}),(0,D.jsxs)("div",{style:{display:"flex",gap:"1rem",justifyContent:"flex-end",marginTop:"2rem",paddingTop:"1.5rem",borderTop:"1px solid #e5e7eb"},children:[(0,D.jsx)("button",{type:"button",onClick:()=>T(!1),style:{padding:"0.75rem 1.5rem",background:"#f3f4f6",color:"#374151",border:"none",borderRadius:"0.5rem",cursor:"pointer",fontSize:"0.95rem",fontWeight:600,transition:"background-color 0.2s"},onMouseEnter:e=>{e.currentTarget.style.backgroundColor="#e5e7eb"},onMouseLeave:e=>{e.currentTarget.style.backgroundColor="#f3f4f6"},children:"\u0625\u0644\u063a\u0627\u0621"}),(0,D.jsx)("button",{type:"submit",style:{padding:"0.75rem 1.5rem",background:"#068294",color:"#fff",border:"none",borderRadius:"0.5rem",cursor:"pointer",fontSize:"0.95rem",fontWeight:600,transition:"background-color 0.2s",display:"flex",alignItems:"center",gap:"0.5rem"},onMouseEnter:e=>{e.currentTarget.style.backgroundColor="#026174"},onMouseLeave:e=>{e.currentTarget.style.backgroundColor="#068294"},children:E?"\u062a\u062d\u062f\u064a\u062b":"\u0625\u0646\u0634\u0627\u0621"})]})]})]})}),I&&R&&(0,D.jsx)(Y,{userId:R.id,userName:R.name,userRole:R.role,open:I,onClose:()=>{B(!1),W(null)}})]})})}},64265(e,t,r){r.d(t,{A:()=>s});const s=(0,r(21639).A)("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]])},70492(e,t,r){r.d(t,{Cf:()=>v,Es:()=>k,L3:()=>A,c7:()=>j,lG:()=>x,rr:()=>w,zM:()=>b});var s=r(22555),a=r(53986),n=r(65043),o=r(95438),i=r(40614),l=r(15074),d=r(70579);const c=["className"],u=["className","children","style"],m=["className"],p=["className"],h=["className"],g=["className"],x=o.bL,b=o.l9,f=o.ZL,y=(o.bm,n.forwardRef((e,t)=>{let{className:r}=e,n=(0,a.A)(e,c);return(0,d.jsx)(o.hJ,(0,s.A)({ref:t,className:(0,l.cn)("fixed inset-0 z-50 backdrop-blur-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",r),style:(0,s.A)({background:"rgba(42, 110, 133, 0.2)"},n.style||{})},n))}));y.displayName=o.hJ.displayName;const v=n.forwardRef((e,t)=>{let{className:r,children:n,style:c}=e,m=(0,a.A)(e,u);return(0,d.jsxs)(f,{children:[(0,d.jsx)(y,{}),(0,d.jsxs)(o.UC,(0,s.A)((0,s.A)({ref:t,className:(0,l.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-5 border-2 p-6 shadow-2xl duration-300 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] rounded-2xl",r),style:(0,s.A)({background:"#ffffff",borderColor:"rgba(6, 130, 148, 0.25)",boxShadow:"0 25px 50px -12px rgba(0, 0, 0, 0.15), 0 0 0 1px rgba(6, 130, 148, 0.08)"},c||{}),"aria-describedby":void 0},m),{},{children:[n,(0,d.jsxs)(o.bm,{className:"absolute right-4 top-4 rounded-xl p-1.5 opacity-70 ring-offset-background transition-all hover:opacity-100 hover:bg-white focus:outline-none focus:ring-2 focus:ring-[#068294] focus:ring-offset-2 disabled:pointer-events-none",style:{color:"#2A6E85"},children:[(0,d.jsx)(i.A,{className:"h-5 w-5"}),(0,d.jsx)("span",{className:"sr-only",children:"\u0625\u063a\u0644\u0627\u0642"})]})]}))]})});v.displayName=o.UC.displayName;const j=e=>{let{className:t}=e,r=(0,a.A)(e,m);return(0,d.jsx)("div",(0,s.A)({className:(0,l.cn)("flex flex-col space-y-1.5 text-center sm:text-right",t)},r))};j.displayName="DialogHeader";const k=e=>{let{className:t}=e,r=(0,a.A)(e,p);return(0,d.jsx)("div",(0,s.A)({className:(0,l.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2 sm:space-x-reverse",t)},r))};k.displayName="DialogFooter";const A=n.forwardRef((e,t)=>{let{className:r}=e,n=(0,a.A)(e,h);return(0,d.jsx)(o.hE,(0,s.A)({ref:t,className:(0,l.cn)("text-lg font-bold leading-none tracking-tight",r),style:(0,s.A)({color:"#2A6E85",fontWeight:700},n.style||{})},n))});A.displayName=o.hE.displayName;const w=n.forwardRef((e,t)=>{let{className:r}=e,n=(0,a.A)(e,g);return(0,d.jsx)(o.VY,(0,s.A)({ref:t,className:(0,l.cn)("text-sm text-muted-foreground",r)},n))});w.displayName=o.VY.displayName},71360(e,t,r){r.d(t,{A:()=>s});const s=(0,r(21639).A)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},72147(e,t,r){r.d(t,{Z:()=>m});var s=r(65043),a=r(36210),n=r(96817),o=r(39292),i=r(15074),l=r(69772),d=r(70492),c=r(49954),u=r(70579);function m(e){let{value:t,onChange:r,options:m,getOptionLabel:p,getOptionValue:h,placeholder:g="\u0627\u062e\u062a\u0631...",searchPlaceholder:x="\u0627\u0628\u062d\u062b...",className:b,disabled:f}=e;const[y,v]=s.useState(!1),[j,k]=s.useState(""),A=s.useMemo(()=>{if(!j)return m;const e=j.toLowerCase();return m.filter(t=>p(t).toLowerCase().includes(e))},[m,j,p]),w=m.find(e=>h(e)===t);return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsxs)(l.$,{type:"button",variant:"outline",role:"combobox","aria-expanded":y,className:(0,i.cn)("w-full justify-between",b),onClick:()=>v(!0),disabled:f,children:[w?p(w):g,(0,u.jsx)(n.A,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"})]}),(0,u.jsx)(d.lG,{open:y,onOpenChange:v,children:(0,u.jsxs)(d.Cf,{className:"sm:max-w-[425px] select-modal-formal ds-popover",children:[(0,u.jsx)(d.c7,{children:(0,u.jsx)(d.L3,{className:"text-slate-800 font-bold text-xl",children:"\u0627\u062e\u062a\u0631 \u0645\u0646 \u0627\u0644\u0642\u0627\u0626\u0645\u0629"})}),(0,u.jsxs)("div",{className:"space-y-4",children:[(0,u.jsxs)("div",{className:"relative",children:[(0,u.jsx)(o.A,{className:"absolute right-3 top-1/2 -translate-y-1/2 h-4 w-4 text-[#068294]"}),(0,u.jsx)(c.p,{placeholder:x,value:j,onChange:e=>k(e.target.value),className:"pr-9 bg-white border-slate-200 text-slate-800 placeholder:text-slate-500 focus:ring-[#068294]/30 focus:border-[#068294]"})]}),(0,u.jsx)("div",{className:"max-h-[300px] overflow-y-auto space-y-1 scrollbar-formal",children:0===A.length?(0,u.jsx)("div",{className:"text-center py-8 text-slate-600 font-medium",children:"\u0644\u0627 \u062a\u0648\u062c\u062f \u0646\u062a\u0627\u0626\u062c"}):A.map(e=>{const s=h(e),n=t===s;return(0,u.jsxs)("button",{type:"button",role:"option","aria-selected":n,onClick:()=>{r(s),v(!1),k("")},className:(0,i.cn)("ds-option w-full text-right flex items-center justify-between px-3 py-2.5 rounded-lg transition-colors",n?"bg-[#EBF4F6] text-[#026174] font-semibold":"bg-transparent text-slate-800"),children:[(0,u.jsx)("span",{children:p(e)}),n&&(0,u.jsx)(a.A,{className:"h-4 w-4 text-[#068294]"})]},s)})})]})]})})]})}},72301(e,t,r){r.d(t,{A:()=>a});r(65043);var s=r(70579);function a(e){let{message:t="\u062c\u0627\u0631\u064a \u0627\u0644\u062a\u062d\u0645\u064a\u0644..."}=e;return(0,s.jsxs)("div",{className:"loading-wrapper",children:[(0,s.jsx)("div",{className:"loading-spinner"}),(0,s.jsx)("p",{className:"loading-message",children:t})]})}},92382(e,t,r){r.d(t,{A:()=>s});const s=(0,r(21639).A)("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]])}}]);
//# sourceMappingURL=392.be34dd21.chunk.js.map
{"version":3,"file":"static/js/639.9fe24d6d.chunk.js","mappings":"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","sources":["components/ui/badge.tsx","../node_modules/lucide-react/src/icons/eye.ts","components/ui/textarea.tsx","../node_modules/lucide-react/src/icons/refresh-cw.ts","store/useTasksStore.ts","components/SettlementStamp.tsx","pages/tasks-v2.tsx","hooks/use-tasks.ts"],"sourcesContent":["import * as React from \"react\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\nimport { cn } from \"@/lib/utils\"\n\nconst badgeVariants = cva(\n  \"inline-flex items-center rounded-lg border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2\",\n  {\n    variants: {\n      variant: {\n        default:\n          \"border-transparent bg-[#026174] text-white hover:bg-[#01505f]\",\n        secondary:\n          \"border-transparent bg-[#068294] text-white hover:bg-[#057a8a]\",\n        destructive:\n          \"border-transparent bg-[#ef4444] text-white hover:bg-[#dc2626]\",\n        outline: \"border-[rgba(2,97,116,0.3)] bg-transparent text-[#026174]\",\n        success:\n          \"border-transparent bg-[#22c55e] text-white hover:bg-[#16a34a]\",\n        warning:\n          \"border-transparent bg-[#f59e0b] text-white hover:bg-[#d97706]\",\n        info:\n          \"border-transparent bg-[#026174] text-white hover:bg-[#01505f]\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n    },\n  }\n)\n\nexport interface BadgeProps\n  extends React.HTMLAttributes<HTMLDivElement>,\n    VariantProps<typeof badgeVariants> {}\n\nfunction Badge({ className, variant, ...props }: BadgeProps) {\n  return (\n    <div className={cn(badgeVariants({ variant }), className)} {...props} />\n  )\n}\n\nexport { Badge, badgeVariants }\n","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name Eye\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMiAxMnMzLTcgMTAtNyAxMCA3IDEwIDctMyA3LTEwIDctMTAtNy0xMC03WiIgLz4KICA8Y2lyY2xlIGN4PSIxMiIgY3k9IjEyIiByPSIzIiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/eye\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Eye = createLucideIcon('Eye', [\n  ['path', { d: 'M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z', key: 'rwhkz3' }],\n  ['circle', { cx: '12', cy: '12', r: '3', key: '1v7zrd' }],\n]);\n\nexport default Eye;\n","import * as React from \"react\"\nimport { cn } from \"@/lib/utils\"\n\nexport interface TextareaProps\n  extends React.TextareaHTMLAttributes<HTMLTextAreaElement> {}\n\nconst Textarea = React.forwardRef<HTMLTextAreaElement, TextareaProps>(\n  ({ className, ...props }, ref) => {\n    return (\n      <textarea\n        className={cn(\n          \"flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 transition-all resize-none\",\n          className\n        )}\n        ref={ref}\n        {...props}\n      />\n    )\n  }\n)\nTextarea.displayName = \"Textarea\"\n\nexport { Textarea }\n","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name RefreshCw\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMyAxMmE5IDkgMCAwIDEgOS05IDkuNzUgOS43NSAwIDAgMSA2Ljc0IDIuNzRMMjEgOCIgLz4KICA8cGF0aCBkPSJNMjEgM3Y1aC01IiAvPgogIDxwYXRoIGQ9Ik0yMSAxMmE5IDkgMCAwIDEtOSA5IDkuNzUgOS43NSAwIDAgMS02Ljc0LTIuNzRMMyAxNiIgLz4KICA8cGF0aCBkPSJNOCAxNkgzdjUiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/refresh-cw\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst RefreshCw = createLucideIcon('RefreshCw', [\n  ['path', { d: 'M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8', key: 'v9h5vc' }],\n  ['path', { d: 'M21 3v5h-5', key: '1q7to0' }],\n  ['path', { d: 'M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16', key: '3uifl3' }],\n  ['path', { d: 'M8 16H3v5', key: '1cv678' }],\n]);\n\nexport default RefreshCw;\n","import { create } from 'zustand';\n\ninterface Task {\n  id: number;\n  type: 'daily' | 'ad-hoc';\n  title: string;\n  template_title?: string;\n  category_name?: string;\n  assigned_to_name?: string;\n  created_by_name?: string;\n  status: 'pending' | 'completed' | 'overdue' | 'cancelled' | 'skipped';\n  task_date?: string;\n  due_date_time?: string;\n  beneficiary?: string;\n  assigned_to_user_id?: number;\n}\n\ninterface TasksState {\n  dailyTasks: Task[];\n  adHocTasks: Task[];\n  setDailyTasks: (tasks: Task[]) => void;\n  setAdHocTasks: (tasks: Task[]) => void;\n  addTask: (task: Task) => void;\n  updateTask: (id: number, updates: Partial<Task>) => void;\n  removeTask: (id: number, type: 'daily' | 'ad-hoc') => void;\n}\n\nexport const useTasksStore = create<TasksState>((set) => ({\n  dailyTasks: [],\n  adHocTasks: [],\n  setDailyTasks: (tasks) => set({ dailyTasks: tasks }),\n  setAdHocTasks: (tasks) => set({ adHocTasks: tasks }),\n  addTask: (task) =>\n    set((state) => {\n      if (task.type === 'daily') {\n        return { dailyTasks: [...state.dailyTasks, task] };\n      }\n      return { adHocTasks: [...state.adHocTasks, task] };\n    }),\n  updateTask: (id, updates) =>\n    set((state) => ({\n      dailyTasks: state.dailyTasks.map((t) =>\n        t.id === id ? { ...t, ...updates } : t\n      ),\n      adHocTasks: state.adHocTasks.map((t) =>\n        t.id === id ? { ...t, ...updates } : t\n      ),\n    })),\n  removeTask: (id, type) =>\n    set((state) => {\n      if (type === 'daily') {\n        return { dailyTasks: state.dailyTasks.filter((t) => t.id !== id) };\n      }\n      return { adHocTasks: state.adHocTasks.filter((t) => t.id !== id) };\n    }),\n}));\n","import { useEffect, useState } from 'react';\nimport { motion, AnimatePresence } from 'framer-motion';\n\nconst STAMP_SRC = '/stamp-settlement-reconciliation.png';\n\ninterface SettlementStampProps {\n  show: boolean;\n  onComplete?: () => void;\n  duration?: number;\n  /** نص مخصص تحت الختم */\n  subtitle?: string;\n}\n\nexport function SettlementStamp({\n  show,\n  onComplete,\n  duration = 2400,\n  subtitle = 'تسوية مطابقة',\n}: SettlementStampProps) {\n  const [visible, setVisible] = useState(show);\n  const [progress, setProgress] = useState(0);\n\n  useEffect(() => {\n    setVisible(show);\n    setProgress(0);\n    if (!show) return;\n    const start = Date.now();\n    const interval = setInterval(() => {\n      const elapsed = Date.now() - start;\n      setProgress(Math.min((elapsed / duration) * 100, 100));\n    }, 50);\n    const t = setTimeout(() => {\n      clearInterval(interval);\n      setVisible(false);\n      onComplete?.();\n    }, duration);\n    return () => {\n      clearTimeout(t);\n      clearInterval(interval);\n    };\n  }, [show, duration, onComplete]);\n\n  return (\n    <AnimatePresence>\n      {visible && (\n        <motion.div\n          initial={{ opacity: 0 }}\n          animate={{ opacity: 1 }}\n          exit={{ opacity: 0 }}\n          transition={{ duration: 0.2 }}\n          className=\"fixed inset-0 z-[100] flex items-center justify-center backdrop-blur-md\"\n          style={{ background: 'rgba(42, 110, 133, 0.35)' }}\n          aria-hidden=\"true\"\n        >\n          {/* حلقة نجاح متحركة */}\n          <motion.div\n            initial={{ scale: 0.8, opacity: 0 }}\n            animate={{ scale: 1.2, opacity: 0.15 }}\n            exit={{ scale: 1, opacity: 0 }}\n            transition={{ duration: 0.5 }}\n            className=\"absolute w-72 h-72 rounded-full border-4 border-emerald-400\"\n          />\n          <motion.div\n            initial={{ scale: 0.8, opacity: 0 }}\n            animate={{ scale: 1.1, opacity: 0.1 }}\n            exit={{ scale: 1, opacity: 0 }}\n            transition={{ duration: 0.5, delay: 0.1 }}\n            className=\"absolute w-64 h-64 rounded-full border-4 border-[#068294]\"\n          />\n\n          <motion.div\n            initial={{ scale: 0.5, opacity: 0, rotate: -12 }}\n            animate={{ scale: 1, opacity: 1, rotate: 0 }}\n            exit={{ scale: 0.9, opacity: 0 }}\n            transition={{ type: 'spring', stiffness: 280, damping: 22 }}\n            className=\"relative flex flex-col items-center justify-center\"\n          >\n            <motion.div\n              initial={{ scale: 0.8 }}\n              animate={{ scale: 1 }}\n              transition={{ type: 'spring', stiffness: 300, damping: 18, delay: 0.1 }}\n              className=\"relative\"\n            >\n              <img\n                src={STAMP_SRC}\n                alt=\"ختم التسوية\"\n                className=\"w-44 h-44 sm:w-52 sm:h-52 object-contain\"\n                style={{\n                  filter: 'drop-shadow(0 10px 32px rgba(0,0,0,0.35)) drop-shadow(0 0 0 1px rgba(255,255,255,0.1))',\n                }}\n              />\n              <motion.div\n                initial={{ scale: 0 }}\n                animate={{ scale: 1 }}\n                transition={{ delay: 0.25, type: 'spring', stiffness: 400, damping: 15 }}\n                className=\"absolute -bottom-1 -right-1 w-10 h-10 rounded-full bg-emerald-500 flex items-center justify-center shadow-lg\"\n                aria-hidden\n              >\n                <svg className=\"w-6 h-6 text-white\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\" strokeWidth={2.5}>\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" d=\"M5 13l4 4L19 7\" />\n                </svg>\n              </motion.div>\n            </motion.div>\n\n            <motion.p\n              initial={{ opacity: 0, y: 10 }}\n              animate={{ opacity: 1, y: 0 }}\n              transition={{ delay: 0.35 }}\n              className=\"mt-4 text-xl font-bold text-white drop-shadow-lg\"\n            >\n              {subtitle}\n            </motion.p>\n            <motion.p\n              initial={{ opacity: 0 }}\n              animate={{ opacity: 1 }}\n              transition={{ delay: 0.45 }}\n              className=\"mt-1 text-sm text-white/80\"\n            >\n              تم حفظ التنفيذ بنجاح\n            </motion.p>\n\n            {/* شريط تقدم صغير */}\n            <div className=\"mt-6 w-48 h-1 rounded-full bg-white/20 overflow-hidden\">\n              <motion.div\n                className=\"h-full rounded-full bg-emerald-400\"\n                initial={{ width: 0 }}\n                animate={{ width: `${progress}%` }}\n                transition={{ duration: 0.05 }}\n              />\n            </div>\n          </motion.div>\n        </motion.div>\n      )}\n    </AnimatePresence>\n  );\n}\n","import { useState, useMemo } from 'react';\nimport { useQuery } from '@tanstack/react-query';\nimport { motion, AnimatePresence } from 'framer-motion';\nimport { Button } from '@/components/ui/button';\nimport { Input } from '@/components/ui/input';\nimport { Badge } from '@/components/ui/badge';\nimport { SearchableSelect } from '@/components/ui/searchable-select';\nimport {\n  Dialog,\n  DialogContent,\n  DialogHeader,\n  DialogTitle,\n  DialogFooter,\n} from '@/components/ui/dialog';\nimport { Textarea } from '@/components/ui/textarea';\nimport {\n  useDailyTasks,\n  useAdHocTasks,\n  useExecuteTask,\n  useCreateAdHocTask,\n  useGenerateDailyTasks,\n} from '@/hooks/use-tasks';\nimport { useAuthStore } from '@/store/useAuthStore';\nimport { useToast } from '@/hooks/use-toast';\nimport { useHasPermission } from '@/hooks/useHasPermission';\nimport api from '@/lib/api';\nimport { formatTime12h } from '@/lib/format';\nimport {\n  Search,\n  Plus,\n  FileText,\n  CheckSquare,\n  Clock,\n  AlertCircle,\n  Filter,\n  RefreshCw,\n  Calendar,\n  Eye,\n  LayoutGrid,\n  Table2,\n} from 'lucide-react';\nimport moment from 'moment-timezone';\nimport { CompanyLogo } from '@/components/CompanyLogo';\nimport { KpiCards } from '@/components/KpiCards';\nimport { SettlementStamp } from '@/components/SettlementStamp';\n\nconst todayBaghdad = () => moment().tz('Asia/Baghdad').format('YYYY-MM-DD');\nconst BRAND_PRIMARY = '#068294';\n\nfunction DetailRow({ label, value, multiline }: { label: string; value: string; multiline?: boolean }) {\n  return (\n    <div className=\"flex justify-between items-start gap-4 p-3 rounded-xl border bg-white\" style={{ borderColor: 'rgba(6, 130, 148, 0.2)', background: 'rgba(255,255,255,0.95)' }}>\n      <span className=\"font-medium shrink-0\" style={{ color: '#068294' }}>{label}:</span>\n      <span className={multiline ? 'text-end whitespace-pre-wrap break-words flex-1' : 'font-semibold'} style={{ color: BRAND_PRIMARY }}>{value}</span>\n    </div>\n  );\n}\n\nfunction EmptyTasksCard({ message }: { message: string }) {\n  return (\n    <div\n      className=\"rounded-2xl p-16 text-center\"\n      style={{ background: 'var(--surface)', boxShadow: 'var(--shadow-card)', border: '1px solid var(--border)' }}\n    >\n      <div className=\"w-16 h-16 rounded-2xl mx-auto mb-4 flex items-center justify-center\" style={{ background: 'rgba(8, 131, 149, 0.08)' }}>\n        <FileText className=\"w-8 h-8\" style={{ color: 'var(--primary-600)' }} />\n      </div>\n      <p className=\"text-lg font-bold m-0\" style={{ color: 'var(--text-strong)' }}>{message}</p>\n    </div>\n  );\n}\n\nfunction TaskCard({\n  task,\n  index,\n  type,\n  getStatusBadge,\n  onDetails,\n  onExecute,\n  canExecute,\n}: {\n  task: any;\n  index: number;\n  type: 'daily' | 'ad-hoc';\n  getStatusBadge: (s: string) => JSX.Element;\n  onDetails: () => void;\n  onExecute: () => void;\n  canExecute?: boolean;\n}) {\n  const statusColors: Record<string, { bg: string; bar: string }> = {\n    completed: { bg: 'rgba(22, 163, 74, 0.12)', bar: 'linear-gradient(180deg, #16a34a, #22c55e)' },\n    pending: { bg: 'rgba(245, 158, 11, 0.12)', bar: 'linear-gradient(180deg, #d97706, #f59e0b)' },\n    overdue: { bg: 'rgba(220, 38, 38, 0.12)', bar: 'linear-gradient(180deg, #b91c1c, #dc2626)' },\n  };\n  const sc = statusColors[task.status] || { bg: 'rgba(100, 116, 139, 0.12)', bar: 'linear-gradient(180deg, var(--primary-800), var(--primary-600))' };\n  const title = task.template_title || task.title || '';\n\n  return (\n    <motion.div\n      initial={{ opacity: 0, y: 16 }}\n      animate={{ opacity: 1, y: 0 }}\n      exit={{ opacity: 0, scale: 0.98 }}\n      whileHover={{\n        scale: 1.15,\n        y: -8,\n        zIndex: 20,\n        boxShadow: '0 28px 56px rgba(2, 97, 116, 0.2), 0 0 0 1px rgba(8, 131, 149, 0.3)',\n        transition: { duration: 0.3, ease: [0.25, 0.46, 0.45, 0.94] },\n      }}\n      transition={{ duration: 0.25, delay: index * 0.03, ease: [0.25, 0.46, 0.45, 0.94] }}\n      className=\"group relative flex flex-col rounded-2xl overflow-hidden cursor-pointer\"\n      style={{\n        background: 'var(--surface)',\n        border: '2px solid var(--border-card)',\n        boxShadow: '0 2px 8px rgba(15, 23, 42, 0.06), inset 0 1px 0 rgba(255,255,255,0.8)',\n      }}\n    >\n      <div className=\"absolute inset-0 opacity-0 group-hover:opacity-100 pointer-events-none overflow-hidden rounded-2xl card-shine-hover\" />\n      <div\n        className=\"absolute top-0 bottom-0 w-1 rounded-r-full opacity-80 group-hover:opacity-100 group-hover:w-1.5 transition-all duration-300\"\n        style={{ right: 0, background: sc.bar, boxShadow: '0 0 12px rgba(8, 131, 149, 0.3)' }}\n      />\n      <div\n        className=\"absolute top-0 right-0 left-0 h-1 opacity-0 group-hover:opacity-100 transition-opacity duration-300\"\n        style={{ background: 'linear-gradient(90deg, var(--primary-600), var(--primary-800))' }}\n      />\n      <div className=\"p-5 pl-5 pr-6 flex flex-col flex-1\">\n        <div className=\"flex items-start justify-between gap-3 mb-2\">\n          <h3 className=\"text-lg font-bold leading-snug line-clamp-2 flex-1 min-w-0\" style={{ color: 'var(--text-strong)' }}>\n            {title}\n          </h3>\n          {getStatusBadge(task.status)}\n        </div>\n        <div className=\"flex flex-wrap gap-2 mb-3\">\n          {task.category_name && (\n            <span\n              className=\"inline-flex items-center gap-1.5 px-2.5 py-1 rounded-lg text-sm font-medium\"\n              style={{ background: 'rgba(8, 131, 149, 0.08)', color: 'var(--primary-800)' }}\n            >\n              <FileText className=\"w-3.5 h-3.5\" />\n              {task.category_name}\n            </span>\n          )}\n          {task.target_settlement_date && (\n            <span className=\"px-2.5 py-1 rounded-lg text-xs font-mono bg-slate-100 text-slate-600\" dir=\"ltr\">\n              تسوية {String(task.target_settlement_date).slice(0, 10)}\n            </span>\n          )}\n          <span className=\"px-2 py-0.5 rounded text-xs font-medium\" style={{ background: sc.bg, color: type === 'daily' ? 'var(--primary-800)' : '#7c3aed' }}>\n            {type === 'daily' ? 'يومية' : 'خاصة'}\n          </span>\n        </div>\n        <div className=\"space-y-2 text-sm flex-1 mb-4\">\n          {task.assigned_to_name && (\n            <div className=\"flex justify-between items-center p-2 rounded-lg\" style={{ background: 'rgba(6, 130, 148, 0.06)' }}>\n              <span className=\"font-medium\" style={{ color: 'var(--text-muted)' }}>المسؤول:</span>\n              <span className=\"font-semibold\" style={{ color: 'var(--primary-800)' }}>{task.assigned_to_name}</span>\n            </div>\n          )}\n          {task.created_by_name && type === 'ad-hoc' && (\n            <div className=\"flex justify-between items-center p-2 rounded-lg\" style={{ background: 'rgba(6, 130, 148, 0.06)' }}>\n              <span className=\"font-medium\" style={{ color: 'var(--text-muted)' }}>أنشأها:</span>\n              <span className=\"font-semibold\" style={{ color: 'var(--primary-800)' }}>{task.created_by_name}</span>\n            </div>\n          )}\n          {task.task_date && (\n            <div className=\"flex justify-between items-center p-2 rounded-lg\" style={{ background: 'rgba(6, 130, 148, 0.06)' }}>\n              <span className=\"font-medium\" style={{ color: 'var(--text-muted)' }}>التاريخ:</span>\n              <span className=\"font-semibold\" dir=\"ltr\">{moment(task.task_date).format('YYYY-MM-DD')}</span>\n            </div>\n          )}\n        </div>\n        <div className=\"flex gap-2 pt-4 mt-auto border-t\" style={{ borderColor: 'var(--border)' }}>\n          <motion.button\n            type=\"button\"\n            onClick={(e) => { e.stopPropagation(); onDetails(); }}\n            className=\"ds-btn ds-btn-outline flex-1 flex items-center justify-center gap-2 text-sm\"\n            whileHover={{ scale: 1.03 }}\n            whileTap={{ scale: 0.98 }}\n          >\n            <Eye className=\"w-4 h-4\" />\n            تفاصيل\n          </motion.button>\n          {task.status !== 'completed' && canExecute && (\n            <motion.button\n              type=\"button\"\n              onClick={(e) => { e.stopPropagation(); onExecute(); }}\n              className=\"ds-btn ds-btn-primary flex-1 flex items-center justify-center gap-2 text-sm\"\n              whileHover={{ scale: 1.03 }}\n              whileTap={{ scale: 0.98 }}\n            >\n              <CheckSquare className=\"w-4 h-4\" />\n              تنفيذ\n            </motion.button>\n          )}\n        </div>\n      </div>\n    </motion.div>\n  );\n}\n\nexport function TasksV2() {\n  const { user } = useAuthStore();\n  const { toast } = useToast();\n  const [searchQuery, setSearchQuery] = useState('');\n  const [filterView, setFilterView] = useState('');\n  const [dateMode, setDateMode] = useState<'all' | 'single' | 'range'>('single');\n  const [filterDate, setFilterDate] = useState(todayBaghdad());\n  const [filterDateFrom, setFilterDateFrom] = useState('');\n  const [filterDateTo, setFilterDateTo] = useState('');\n  const [filterAssignee, setFilterAssignee] = useState('');\n  const [viewMode, setViewMode] = useState<'cards' | 'table'>('cards');\n  const [filterTaskType, setFilterTaskType] = useState<'all' | 'daily_only' | 'ad_hoc_only'>('all');\n  const [showExecuteModal, setShowExecuteModal] = useState(false);\n  const [showCreateModal, setShowCreateModal] = useState(false);\n  const [showDetailsModal, setShowDetailsModal] = useState(false);\n  const [detailsTask, setDetailsTask] = useState<any>(null);\n  const [selectedTask, setSelectedTask] = useState<any>(null);\n  const [executionData, setExecutionData] = useState({\n    resultStatus: 'completed',\n    notes: '',\n    durationMinutes: '',\n    settlement_date: '',\n    settlement_value: '',\n  });\n  const [executionError, setExecutionError] = useState('');\n  const [showSettlementStamp, setShowSettlementStamp] = useState(false);\n\n  const canFilterByAssignee = useHasPermission('tasks', 'filter_by_assignee');\n  const canExecute = useHasPermission('tasks', 'execute');\n  const canCreateAdHoc = useHasPermission('tasks', 'create_ad_hoc');\n  const canGenerateDaily = useHasPermission('schedules', 'create');\n\n  // Build filters\n  const dailyFilters = {\n    ...(dateMode === 'single' && filterDate ? { date: filterDate } : {}),\n    ...(dateMode === 'range' && filterDateFrom && filterDateTo\n      ? { dateFrom: filterDateFrom, dateTo: filterDateTo }\n      : {}),\n    ...(filterView ? { view: filterView } : {}),\n    ...(canFilterByAssignee && filterAssignee ? { assignedTo: filterAssignee } : {}),\n  };\n\n  const adHocFilters = {\n    ...(dateMode === 'range' && filterDateFrom && filterDateTo\n      ? { dateFrom: filterDateFrom, dateTo: filterDateTo }\n      : {}),\n    ...(filterView ? { view: filterView } : {}),\n    ...(canFilterByAssignee && filterAssignee ? { assignedTo: filterAssignee } : {}),\n  };\n\n  const { data: dailyTasks = [], isLoading: dailyLoading } = useDailyTasks(dailyFilters);\n  const { data: adHocTasks = [], isLoading: adHocLoading } = useAdHocTasks(adHocFilters);\n  const executeTask = useExecuteTask();\n  const createTask = useCreateAdHocTask();\n  const generateTasks = useGenerateDailyTasks();\n\n  // Fetch users and templates\n  const { data: users = [] } = useQuery({\n    queryKey: ['users'],\n    queryFn: async () => {\n      const response = await api.get('/users');\n      return response.data;\n    },\n  });\n\n  const { data: templates = [] } = useQuery({\n    queryKey: ['templates'],\n    queryFn: async () => {\n      const response = await api.get('/templates?active=true');\n      return response.data;\n    },\n  });\n\n  const isLoading = dailyLoading || adHocLoading;\n\n  // فرز: غير مكتملة أولاً (pending, overdue) ثم المكتملة\n  const sortByIncompleteFirst = (tasks: any[]) =>\n    [...tasks].sort((a, b) => {\n      const aIncomplete = a.status !== 'completed';\n      const bIncomplete = b.status !== 'completed';\n      if (aIncomplete && !bIncomplete) return -1;\n      if (!aIncomplete && bIncomplete) return 1;\n      return 0;\n    });\n\n  // فلترة بالبحث النصي\n  const filterBySearch = (tasks: any[]) => {\n    if (!searchQuery.trim()) return tasks;\n    const q = searchQuery.toLowerCase().trim();\n    return tasks.filter((t: any) => {\n      const title = (t.template_title || t.title || '').toLowerCase();\n      const category = (t.category_name || '').toLowerCase();\n      const assignee = (t.assigned_to_name || '').toLowerCase();\n      const creator = (t.created_by_name || '').toLowerCase();\n      return title.includes(q) || category.includes(q) || assignee.includes(q) || creator.includes(q);\n    });\n  };\n\n  const sortedDailyTasks = useMemo(\n    () => filterBySearch(sortByIncompleteFirst(dailyTasks)),\n    [dailyTasks, searchQuery]\n  );\n  const sortedAdHocTasks = useMemo(\n    () => filterBySearch(sortByIncompleteFirst(adHocTasks)),\n    [adHocTasks, searchQuery]\n  );\n\n  const showDailySection = filterTaskType === 'all' || filterTaskType === 'daily_only';\n  const showAdHocSection = filterTaskType === 'all' || filterTaskType === 'ad_hoc_only';\n\n  const stats = {\n    total: dailyTasks.length + adHocTasks.length,\n    pending: [...dailyTasks, ...adHocTasks].filter((t) => t.status === 'pending' || t.status === 'overdue').length,\n    completed: [...dailyTasks, ...adHocTasks].filter((t) => t.status === 'completed').length,\n    overdue: dailyTasks.filter((t) => t.status === 'overdue').length,\n  };\n\n  const isGovSettlementTask =\n    selectedTask?.type === 'daily' &&\n    selectedTask?.template_required_fields?.category_type === 'government_settlement_bank';\n\n  const openExecuteModal = (task: any) => {\n    setSelectedTask({ ...task, type: task.type || 'daily' });\n    setExecutionError('');\n    if (task.template_required_fields?.category_type === 'government_settlement_bank') {\n      setExecutionData((prev) => ({\n        ...prev,\n        settlement_date: task.target_settlement_date ? String(task.target_settlement_date).slice(0, 10) : '',\n        settlement_value: '',\n      }));\n    }\n    setShowExecuteModal(true);\n  };\n\n  const handleExecute = async () => {\n    if (!selectedTask) return;\n    if (isGovSettlementTask && (executionData.resultStatus === 'completed' || executionData.resultStatus === 'completed_late')) {\n      if (!executionData.settlement_date?.trim() || !executionData.settlement_value?.trim()) {\n        toast({\n          title: 'تنبيه',\n          description: 'مهام التسوية الحكومية تتطلب تاريخ التسوية وقيمة التسوية',\n          variant: 'destructive',\n        });\n        return;\n      }\n    }\n\n    setExecutionError('');\n    try {\n      const dailyId = selectedTask.type === 'daily' ? Number(selectedTask.id) : undefined;\n      const adHocId = selectedTask.type === 'ad-hoc' ? Number(selectedTask.id) : undefined;\n      if ((selectedTask.type === 'daily' && (dailyId == null || Number.isNaN(dailyId))) ||\n          (selectedTask.type === 'ad-hoc' && (adHocId == null || Number.isNaN(adHocId)))) {\n        setExecutionError('معرف المهمة غير صالح. أعد فتح الصفحة وحاول مرة أخرى.');\n        return;\n      }\n      const payload: any = {\n        dailyTaskId: selectedTask.type === 'daily' ? dailyId : undefined,\n        adHocTaskId: selectedTask.type === 'ad-hoc' ? adHocId : undefined,\n        resultStatus: executionData.resultStatus,\n        notes: executionData.notes,\n        durationMinutes: executionData.durationMinutes\n          ? parseInt(executionData.durationMinutes, 10)\n          : undefined,\n      };\n      if (isGovSettlementTask && (executionData.resultStatus === 'completed' || executionData.resultStatus === 'completed_late')) {\n        const raw = executionData.settlement_date?.trim().slice(0, 10) || '';\n        payload.settlement_date = raw.includes('/') ? raw.replace(/\\//g, '-') : raw;\n        const val = executionData.settlement_value?.replace?.(/,/g, '') ?? executionData.settlement_value;\n        payload.settlement_value = val === '' ? undefined : val;\n      }\n      await executeTask.mutateAsync(payload);\n      setShowSettlementStamp(true);\n    } catch (err: any) {\n      const data = err?.response?.data;\n      const code = data?.code;\n      const msg =\n        data?.error ??\n        data?.message ??\n        (typeof data === 'string' ? data : null) ??\n        (err?.message && err.message !== 'Network Error' ? err.message : 'حدث خطأ. تحقق من الاتصال ثم أعد المحاولة.');\n      setExecutionError(msg + (data?.expected_sum_sttle != null ? ` (المتوقع: ${Number(data.expected_sum_sttle).toLocaleString('en-US')})` : ''));\n      if (code === 'SETTLEMENT_MISMATCH') {\n        toast({\n          title: 'غير مطابقة',\n          description: msg + (data?.expected_sum_sttle != null ? ` (المتوقع: ${Number(data.expected_sum_sttle).toLocaleString('en-US')})` : ''),\n          variant: 'destructive',\n        });\n        return;\n      }\n      toast({\n        title: 'خطأ',\n        description: msg,\n        variant: 'destructive',\n      });\n    }\n  };\n\n  const handleCreateFromTemplate = async (templateId: string) => {\n    const template = templates.find((t: any) => t.id === parseInt(templateId));\n    if (!template) return;\n\n    const created = await createTask.mutateAsync({\n      templateId: parseInt(templateId),\n      categoryId: template.category_id,\n      title: template.title,\n      description: template.description,\n    });\n\n    // Open execute modal for the created task\n    setSelectedTask({ ...created, type: 'ad-hoc' });\n    setShowCreateModal(false);\n    setShowExecuteModal(true);\n  };\n\n  const getStatusBadge = (status: string) => {\n    const variants: Record<string, any> = {\n      completed: { variant: 'success' as const, label: 'مكتملة' },\n      pending: { variant: 'warning' as const, label: 'معلقة' },\n      overdue: { variant: 'destructive' as const, label: 'متأخرة' },\n      cancelled: { variant: 'outline' as const, label: 'ملغاة' },\n      skipped: { variant: 'outline' as const, label: 'تخطي' },\n    };\n    const config = variants[status] || { variant: 'default' as const, label: status };\n    return <Badge variant={config.variant}>{config.label}</Badge>;\n  };\n\n  return (\n    <div\n      className=\"min-h-screen\"\n      style={{\n        padding: '1.5rem 2rem',\n        background: 'linear-gradient(180deg, #f1f5f9 0%, #e2e8f0 100%)',\n      }}\n    >\n      <div className=\"mx-auto\" style={{ maxWidth: '1400px' }}>\n      <SettlementStamp\n        show={showSettlementStamp}\n        onComplete={() => {\n          setShowSettlementStamp(false);\n          setShowExecuteModal(false);\n          setSelectedTask(null);\n          setExecutionData({ resultStatus: 'completed', notes: '', durationMinutes: '', settlement_date: '', settlement_value: '' });\n        }}\n      />\n      {/* Header */}\n      <div\n        className=\"page-header-teal rounded-xl flex flex-wrap items-center justify-between gap-4 p-5 mb-6\"\n        style={{\n          background: 'linear-gradient(135deg, #026174 0%, #068294 100%)',\n          color: '#ffffff',\n          boxShadow: '0 10px 30px rgba(2, 97, 116, 0.35)',\n        }}\n      >\n        <div>\n          <h1 className=\"text-2xl font-bold m-0 text-white\">المهام</h1>\n          <p className=\"text-sm opacity-90 mt-1 m-0 text-white\">\n            إدارة وتنفيذ المهام اليومية والخاصة\n          </p>\n        </div>\n        <div className=\"flex items-center gap-2 flex-wrap\">\n          <div className=\"flex rounded-full overflow-hidden border border-white/30 bg-white/10 p-0.5\">\n            <button type=\"button\" onClick={() => setViewMode('cards')} className={`flex items-center gap-2 px-3 py-2 rounded-full text-sm font-medium transition-colors ${viewMode === 'cards' ? 'bg-white text-[#026174] shadow' : 'text-white/90 hover:bg-white/10'}`}>\n              <LayoutGrid className=\"w-4 h-4\" /> كروت\n            </button>\n            <button type=\"button\" onClick={() => setViewMode('table')} className={`flex items-center gap-2 px-3 py-2 rounded-full text-sm font-medium transition-colors ${viewMode === 'table' ? 'bg-white text-[#026174] shadow' : 'text-white/90 hover:bg-white/10'}`}>\n              <Table2 className=\"w-4 h-4\" /> جدول\n            </button>\n          </div>\n          {canGenerateDaily && (\n            <button type=\"button\" onClick={() => generateTasks.mutate()} disabled={generateTasks.isPending} className=\"flex items-center gap-2 px-4 py-2 rounded-full text-sm font-medium bg-white/20 hover:bg-white/30 transition-colors text-white disabled:opacity-50\">\n              <RefreshCw className={`w-4 h-4 ${generateTasks.isPending ? 'animate-spin' : ''}`} /> توليد المهام\n            </button>\n          )}\n          {canCreateAdHoc && (\n          <button type=\"button\" onClick={() => setShowCreateModal(true)} className=\"flex items-center gap-2 px-4 py-2 rounded-full text-sm font-medium bg-white text-[#026174] cursor-pointer hover:bg-white/95 transition-colors shadow\">\n            <Plus className=\"w-4 h-4\" /> إنشاء من قالب\n          </button>\n          )}\n        </div>\n      </div>\n\n      <KpiCards\n          items={[\n            { label: 'إجمالي المهام', value: stats.total, Icon: CheckSquare, color: '#068294', glow: 'rgba(6, 130, 148, 0.4)', gradient: 'linear-gradient(135deg, #068294 0%, #026174 100%)' },\n            { label: 'معلقة', value: stats.pending, Icon: Clock, color: '#f59e0b', glow: 'rgba(245, 158, 11, 0.4)', gradient: 'linear-gradient(135deg, #f59e0b 0%, #d97706 100%)' },\n            { label: 'مكتملة', value: stats.completed, Icon: CheckSquare, color: '#059669', glow: 'rgba(5, 150, 105, 0.4)', gradient: 'linear-gradient(135deg, #059669 0%, #047857 100%)' },\n            { label: 'متأخرة', value: stats.overdue, Icon: AlertCircle, color: '#dc2626', glow: 'rgba(220, 38, 38, 0.4)', gradient: 'linear-gradient(135deg, #dc2626 0%, #b91c1c 100%)' },\n          ]}\n        />\n\n      {/* Filters */}\n      <div\n        className=\"rounded-2xl p-5 mb-6 border border-slate-200/80\"\n        style={{\n          background: 'linear-gradient(180deg, #ffffff 0%, #f8fafc 100%)',\n          boxShadow: '0 4px 20px rgba(0,0,0,0.06)',\n        }}\n      >\n        <div className=\"flex items-center gap-2 mb-4\">\n          <div className=\"p-1.5 rounded-lg bg-slate-100\">\n            <Filter className=\"w-4 h-4 text-slate-600\" />\n          </div>\n          <span className=\"text-base font-semibold text-slate-700\">الفلاتر والبحث</span>\n        </div>\n        <div className=\"mb-4\">\n          <label className=\"block text-xs font-medium text-slate-500 mb-1\">بحث في المهام</label>\n          <div className=\"relative\">\n            <Search className=\"absolute right-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400\" />\n            <input\n              type=\"text\"\n              placeholder=\"ابحث عن أي مهمة (عنوان، فئة، مسؤول...)\"\n              value={searchQuery}\n              onChange={(e) => setSearchQuery(e.target.value)}\n              className=\"w-full pr-10 px-3 py-2 border border-slate-200 rounded-lg text-sm focus:ring-2 focus:ring-[#068294]/30 focus:border-[#068294] bg-white text-slate-800\"\n            />\n          </div>\n          <p className=\"text-xs mt-1.5 text-slate-500\">يمكنك البحث عن أي مهمة وإنجازها حتى لو لم تكن مخصصة لك</p>\n        </div>\n        <div className=\"grid gap-4 md:grid-cols-2 lg:grid-cols-5\">\n            <div>\n              <label className=\"block text-xs font-medium text-slate-500 mb-1\">نوع المهام</label>\n              <SearchableSelect\n                value={filterTaskType}\n                onChange={(val) => setFilterTaskType(val as 'all' | 'daily_only' | 'ad_hoc_only')}\n                options={[\n                  { value: 'all', label: 'الكل (اليومية + الخاصة)' },\n                  { value: 'daily_only', label: 'اليومية فقط' },\n                  { value: 'ad_hoc_only', label: 'الخاصة فقط' },\n                ]}\n                getOptionLabel={(opt: any) => opt.label}\n                getOptionValue={(opt: any) => opt.value}\n                placeholder=\"الكل\"\n                searchPlaceholder=\"ابحث...\"\n              />\n            </div>\n            <div>\n              <label className=\"block text-xs font-medium text-slate-500 mb-1\">عرض المهام</label>\n              <SearchableSelect\n                value={filterView}\n                onChange={setFilterView}\n                options={[\n                  { value: '', label: 'الكل' },\n                  { value: 'department_pending', label: 'مهام القسم المعلقة' },\n                  { value: 'department_completed', label: 'مهام القسم المنجزة' },\n                  { value: 'my_pending', label: 'مهام المعلقة من قبلي' },\n                ]}\n                getOptionLabel={(opt: any) => opt.label}\n                getOptionValue={(opt: any) => opt.value}\n                placeholder=\"الكل\"\n                searchPlaceholder=\"ابحث...\"\n              />\n            </div>\n            <div>\n              <label className=\"block text-xs font-medium text-slate-500 mb-1\">التاريخ</label>\n              <SearchableSelect\n                value={dateMode}\n                onChange={(val) => setDateMode(val as any)}\n                options={[\n                  { value: 'all', label: 'عام (كل الفترات)' },\n                  { value: 'single', label: 'يوم محدد' },\n                  { value: 'range', label: 'فترة معينة' },\n                ]}\n                getOptionLabel={(opt: any) => opt.label}\n                getOptionValue={(opt: any) => opt.value}\n                placeholder=\"اختر وضع التاريخ\"\n                searchPlaceholder=\"ابحث...\"\n              />\n            </div>\n            {dateMode === 'single' && (\n              <div>\n                <label className=\"block text-xs font-medium text-slate-500 mb-1\">اليوم</label>\n                <Input\n                  type=\"date\"\n                  value={filterDate}\n                  onChange={(e) => setFilterDate(e.target.value)}\n                  className=\"border border-slate-200 rounded-lg\"\n                />\n              </div>\n            )}\n            {dateMode === 'range' && (\n              <>\n                <div>\n                  <label className=\"block text-xs font-medium text-slate-500 mb-1\">من</label>\n                  <Input\n                    type=\"date\"\n                    value={filterDateFrom}\n                    onChange={(e) => setFilterDateFrom(e.target.value)}\n                    className=\"border border-slate-200 rounded-lg\"\n                  />\n                </div>\n                <div>\n                  <label className=\"block text-xs font-medium text-slate-500 mb-1\">إلى</label>\n                  <Input\n                    type=\"date\"\n                    value={filterDateTo}\n                    onChange={(e) => setFilterDateTo(e.target.value)}\n                    className=\"border border-slate-200 rounded-lg\"\n                  />\n                </div>\n              </>\n            )}\n            {canFilterByAssignee && (\n              <div>\n                <label className=\"block text-xs font-medium text-slate-500 mb-1\">المسؤول</label>\n                <SearchableSelect\n                  value={filterAssignee}\n                  onChange={setFilterAssignee}\n                  options={[{ value: '', label: 'الكل' }, ...users.map((u: any) => ({ value: u.id.toString(), label: u.name }))]}\n                  getOptionLabel={(opt: any) => opt.label}\n                  getOptionValue={(opt: any) => opt.value}\n                  placeholder=\"الكل\"\n                  searchPlaceholder=\"ابحث عن مستخدم...\"\n                />\n              </div>\n            )}\n          </div>\n        </div>\n\n      {/* Tasks List */}\n      {isLoading ? (\n        <div\n          className=\"rounded-2xl p-16 flex justify-center\"\n          style={{ background: 'var(--surface)', boxShadow: 'var(--shadow-card)', border: '1px solid var(--border)' }}\n        >\n          <div className=\"animate-pulse flex flex-col items-center gap-4\">\n            <div className=\"w-14 h-14 rounded-2xl bg-slate-100\" />\n            <p className=\"text-sm font-medium\" style={{ color: 'var(--text-muted)' }}>جاري تحميل المهام...</p>\n          </div>\n        </div>\n      ) : viewMode === 'table' ? (\n        <div className=\"overflow-x-auto\">\n          <table className=\"ds-table w-full\">\n            <thead>\n              <tr className=\"table-header-dark\" style={{ background: 'linear-gradient(135deg, #026174 0%, #068294 100%)' }}>\n                <th className=\"text-end py-4 px-4 font-bold text-white\">المهمة</th>\n                <th className=\"text-end py-4 px-4 font-bold text-white\">النوع</th>\n                <th className=\"text-end py-4 px-4 font-bold text-white\">الفئة</th>\n                <th className=\"text-end py-4 px-4 font-bold text-white\">الحالة</th>\n                <th className=\"text-end py-4 px-4 font-bold text-white\">التاريخ</th>\n                <th className=\"text-end py-4 px-4 font-bold text-white\">المسؤول</th>\n                <th className=\"text-end py-4 px-4 font-bold text-white\">إجراءات</th>\n              </tr>\n            </thead>\n            <tbody>\n              {[\n                ...(showDailySection ? sortedDailyTasks.map((t: any) => ({ ...t, _rowType: 'daily' })) : []),\n                ...(showAdHocSection ? sortedAdHocTasks.map((t: any) => ({ ...t, _rowType: 'ad-hoc' })) : []),\n              ].map((task: any) => (\n                <tr key={`${task._rowType}-${task.id}`}>\n                  <td className=\"py-3 px-4 font-medium\" style={{ color: 'var(--text-strong)' }}>{task.template_title || task.title}</td>\n                  <td className=\"py-3 px-4\"><span className=\"px-2 py-0.5 rounded text-xs font-medium\" style={{ background: (task._rowType === 'ad-hoc' ? 'rgba(124, 58, 237, 0.12)' : 'rgba(6, 130, 148, 0.12)'), color: (task._rowType === 'ad-hoc' ? '#7c3aed' : 'var(--primary-800)') }}>{task._rowType === 'ad-hoc' ? 'خاصة' : 'يومية'}</span></td>\n                  <td className=\"py-3 px-4\" style={{ color: 'var(--text)' }}>{task.category_name || '—'}</td>\n                  <td className=\"py-3 px-4\">{getStatusBadge(task.status)}</td>\n                  <td className=\"py-3 px-4\" style={{ color: 'var(--text)' }} dir=\"ltr\">{task.task_date ? moment(task.task_date).format('YYYY-MM-DD') : '—'}</td>\n                  <td className=\"py-3 px-4\" style={{ color: 'var(--text)' }}>{(task.assigned_to_name || task.created_by_name) || '—'}</td>\n                  <td className=\"py-3 px-4\">\n                    <div className=\"flex items-center gap-2 justify-end\">\n                      <button type=\"button\" onClick={() => { setDetailsTask({ ...task, type: task._rowType }); setShowDetailsModal(true); }} className=\"ds-btn ds-btn-outline flex items-center gap-1.5 px-3 py-1.5 text-sm\"><Eye className=\"w-3.5 h-3.5\" /> تفاصيل</button>\n                      {task.status !== 'completed' && canExecute && (\n                        <button type=\"button\" onClick={() => openExecuteModal({ ...task, type: task._rowType })} className=\"ds-btn ds-btn-primary flex items-center gap-1.5 px-3 py-1.5 text-sm\"><CheckSquare className=\"w-3.5 h-3.5\" /> تنفيذ</button>\n                      )}\n                    </div>\n                  </td>\n                </tr>\n              ))}\n            </tbody>\n          </table>\n        </div>\n      ) : (\n        <div className=\"space-y-8\">\n          {/* Daily Tasks */}\n          {showDailySection && (\n            <div>\n              <div className=\"flex items-center justify-between mb-4\">\n                <h2 className=\"text-xl font-bold flex items-center gap-2\" style={{ color: 'var(--primary-800)' }}>\n                  <Calendar className=\"h-5 w-5\" />\n                  المهام اليومية المجدولة\n                  <span className=\"px-2.5 py-0.5 rounded-lg text-sm font-bold\" style={{ background: 'rgba(6, 130, 148, 0.12)', color: 'var(--primary-800)' }}>\n                    {sortedDailyTasks.length}\n                  </span>\n                </h2>\n              </div>\n              <div className=\"grid gap-5 sm:grid-cols-2 xl:grid-cols-3\">\n                <AnimatePresence>\n                  {sortedDailyTasks.map((task: any, index: number) => (\n                    <TaskCard\n                      key={`daily-${task.id}`}\n                      task={task}\n                      index={index}\n                      type=\"daily\"\n                      getStatusBadge={getStatusBadge}\n                      onDetails={() => { setDetailsTask({ ...task, type: 'daily' }); setShowDetailsModal(true); }}\n                      onExecute={() => openExecuteModal({ ...task, type: 'daily' })}\n                      canExecute={canExecute}\n                    />\n                  ))}\n                </AnimatePresence>\n              </div>\n              {sortedDailyTasks.length === 0 && (\n                <EmptyTasksCard message=\"لا توجد مهام مجدولة\" />\n              )}\n            </div>\n          )}\n\n          {/* Ad-hoc Tasks */}\n          {showAdHocSection && (\n            <div>\n              <div className=\"flex items-center justify-between mb-4\">\n                <h2 className=\"text-xl font-bold flex items-center gap-2\" style={{ color: 'var(--primary-800)' }}>\n                  <FileText className=\"h-5 w-5\" />\n                  المهام الخاصة\n                  <span className=\"px-2.5 py-0.5 rounded-lg text-sm font-bold\" style={{ background: 'rgba(6, 130, 148, 0.12)', color: 'var(--primary-800)' }}>\n                    {sortedAdHocTasks.length}\n                  </span>\n                </h2>\n              </div>\n              <div className=\"grid gap-5 sm:grid-cols-2 xl:grid-cols-3\">\n                <AnimatePresence>\n                  {sortedAdHocTasks.map((task: any, index: number) => (\n                    <TaskCard\n                      key={`ad-hoc-${task.id}`}\n                      task={task}\n                      index={index}\n                      type=\"ad-hoc\"\n                      getStatusBadge={getStatusBadge}\n                      onDetails={() => { setDetailsTask({ ...task, type: 'ad-hoc' }); setShowDetailsModal(true); }}\n                      onExecute={() => { setSelectedTask({ ...task, type: 'ad-hoc' }); setShowExecuteModal(true); }}\n                      canExecute={canExecute}\n                    />\n                  ))}\n                </AnimatePresence>\n              </div>\n              {sortedAdHocTasks.length === 0 && (\n                <EmptyTasksCard message=\"لا توجد مهام خاصة\" />\n              )}\n            </div>\n          )}\n        </div>\n      )}\n\n      {/* Details Modal */}\n      <Dialog open={showDetailsModal} onOpenChange={setShowDetailsModal}>\n        <DialogContent className=\"max-w-2xl max-h-[90vh] overflow-y-auto rounded-2xl\">\n          <DialogHeader>\n            <DialogTitle className=\"text-2xl font-bold flex items-center gap-2\" style={{ color: BRAND_PRIMARY }}>\n              <Eye className=\"h-6 w-6\" />\n              تفاصيل المهمة\n            </DialogTitle>\n          </DialogHeader>\n          {detailsTask && (\n            <div className=\"space-y-4\">\n              <div className=\"p-4 rounded-xl bg-slate-50 border border-slate-200\">\n                <h3 className=\"text-lg font-bold mb-2 text-slate-800\">\n                  {detailsTask.template_title || detailsTask.title}\n                </h3>\n                {detailsTask.category_name && (\n                  <Badge variant=\"outline\" className=\"rounded-lg\">{detailsTask.category_name}</Badge>\n                )}\n                {getStatusBadge(detailsTask.status)}\n              </div>\n              <div className=\"grid gap-3 text-sm\">\n                {detailsTask.type === 'daily' && detailsTask.assigned_to_name && (\n                  <DetailRow label=\"المسؤول\" value={detailsTask.assigned_to_name} />\n                )}\n                {detailsTask.task_date && (\n                  <DetailRow label=\"التاريخ\" value={moment(detailsTask.task_date).format('YYYY-MM-DD')} />\n                )}\n                {detailsTask.due_date_time && (\n                  <DetailRow label=\"وقت الاستحقاق\" value={formatTime12h(detailsTask.due_date_time)} />\n                )}\n                {detailsTask.description && (\n                  <DetailRow label=\"الوصف\" value={detailsTask.description} multiline />\n                )}\n                {detailsTask.type === 'ad-hoc' && detailsTask.created_by_name && (\n                  <DetailRow label=\"أنشأها\" value={detailsTask.created_by_name} />\n                )}\n                {detailsTask.beneficiary && (\n                  <DetailRow label=\"الجهة المستفيدة\" value={detailsTask.beneficiary} />\n                )}\n                {detailsTask.notes && (\n                  <DetailRow label=\"ملاحظات\" value={detailsTask.notes} multiline />\n                )}\n              </div>\n              {detailsTask.status !== 'completed' && canExecute && (\n                <Button\n                  className=\"w-full rounded-xl text-white font-bold animate-pulse\"\n                  style={{ background: BRAND_PRIMARY, color: '#ffffff' }}\n                  onClick={() => {\n                    setShowDetailsModal(false);\n                    openExecuteModal(detailsTask);\n                  }}\n                >\n                  <CheckSquare className=\"h-4 w-4 ml-2\" />\n                  تنفيذ المهمة\n                </Button>\n              )}\n            </div>\n          )}\n        </DialogContent>\n      </Dialog>\n\n      {/* Execute Modal */}\n      <Dialog\n        open={showExecuteModal}\n        onOpenChange={(open) => {\n          setShowExecuteModal(open);\n          if (!open) setExecutionError('');\n        }}\n      >\n        <DialogContent className=\"max-w-2xl\">\n          <DialogHeader>\n            <div className=\"flex items-center gap-3\">\n              <CompanyLogo size=\"sm\" animated={false} />\n              <DialogTitle className=\"text-2xl font-bold\" style={{ color: BRAND_PRIMARY }}>تنفيذ المهمة</DialogTitle>\n            </div>\n          </DialogHeader>\n          <div className=\"space-y-4\">\n            <div className=\"space-y-2\">\n              <label className=\"text-sm font-semibold\">حالة التنفيذ</label>\n              <SearchableSelect\n                value={executionData.resultStatus}\n                onChange={(val) => setExecutionData({ ...executionData, resultStatus: val })}\n                options={[\n                  { value: 'completed', label: 'مكتملة (في الوقت)' },\n                  { value: 'completed_late', label: 'مكتملة (متأخرة)' },\n                  { value: 'skipped', label: 'تم التخطي' },\n                  { value: 'cancelled', label: 'ملغاة' },\n                ]}\n                getOptionLabel={(opt: any) => opt.label}\n                getOptionValue={(opt: any) => opt.value}\n                placeholder=\"اختر الحالة\"\n              />\n            </div>\n\n            {isGovSettlementTask && (executionData.resultStatus === 'completed' || executionData.resultStatus === 'completed_late') && (\n              <div className=\"space-y-3 rounded-xl border-2 p-4\" style={{ borderColor: 'rgba(6, 130, 148, 0.25)', background: 'rgba(255,255,255,0.9)' }}>\n                <p className=\"text-sm font-semibold\" style={{ color: '#2A6E85' }}>تأكيد التسوية (مطابقة مع صفحة التسويات الحكومية)</p>\n                <div className=\"grid grid-cols-1 sm:grid-cols-2 gap-3\">\n                  <div className=\"space-y-1\">\n                    <label className=\"text-sm font-medium\">تاريخ التسوية *</label>\n                    <Input\n                      type=\"date\"\n                      value={executionData.settlement_date}\n                      onChange={(e) => setExecutionData({ ...executionData, settlement_date: e.target.value })}\n                      className=\"border-2\"\n                    />\n                  </div>\n                  <div className=\"space-y-1\">\n                    <label className=\"text-sm font-medium\">قيمة التسوية (STTLE) *</label>\n                    <Input\n                      type=\"text\"\n                      inputMode=\"decimal\"\n                      placeholder=\"0.00\"\n                      value={executionData.settlement_value}\n                      onChange={(e) => setExecutionData({ ...executionData, settlement_value: e.target.value })}\n                      className=\"border-2 font-mono\"\n                      dir=\"ltr\"\n                    />\n                  </div>\n                </div>\n                <p className=\"text-xs\" style={{ color: '#068294' }}>يتم مقارنة القيمة مع مجموع STTLE في صفحة التسويات الحكومية حسب التاريخ والمصرف. عند التطابق تُقبل المهمة وتظهر «تسوية مطابقة».</p>\n              </div>\n            )}\n\n            <div className=\"space-y-2\">\n              <label className=\"text-sm font-semibold\">ملاحظات</label>\n              <Textarea\n                value={executionData.notes}\n                onChange={(e) => setExecutionData({ ...executionData, notes: e.target.value })}\n                rows={4}\n                className=\"border-2\"\n              />\n            </div>\n            <div className=\"space-y-2\">\n              <label className=\"text-sm font-semibold\">المدة (دقيقة) - اختياري</label>\n              <Input\n                type=\"number\"\n                value={executionData.durationMinutes}\n                onChange={(e) =>\n                  setExecutionData({ ...executionData, durationMinutes: e.target.value })\n                }\n                min=\"0\"\n                className=\"border-2\"\n              />\n            </div>\n            {executionError && (\n              <div className=\"rounded-xl border-2 border-red-200 bg-red-50 p-3 text-sm text-red-800\" role=\"alert\">\n                {executionError}\n              </div>\n            )}\n          </div>\n          <DialogFooter className=\"gap-2 pt-4 border-t border-slate-200\">\n            <Button variant=\"outline\" onClick={() => setShowExecuteModal(false)} className=\"rounded-xl\">\n              إلغاء\n            </Button>\n            <Button\n              onClick={handleExecute}\n              disabled={executeTask.isPending}\n              className=\"rounded-xl font-semibold\"\n              style={{ background: 'linear-gradient(135deg, #026174, #068294)', color: '#fff' }}\n            >\n              {executeTask.isPending ? 'جاري الحفظ...' : 'حفظ'}\n            </Button>\n          </DialogFooter>\n        </DialogContent>\n      </Dialog>\n\n      {/* Create from Template Modal */}\n      <Dialog open={showCreateModal} onOpenChange={setShowCreateModal}>\n        <DialogContent className=\"max-w-lg\">\n          <DialogHeader>\n            <div className=\"flex items-center gap-3\">\n              <CompanyLogo size=\"sm\" animated={false} />\n              <DialogTitle className=\"text-xl text-slate-900\">إنشاء مهمة من قالب</DialogTitle>\n            </div>\n            <p className=\"text-sm text-slate-500 mt-1\">اختر قالبًا لإنشاء مهمة خاصة فورًا.</p>\n          </DialogHeader>\n          <div className=\"space-y-4\">\n            <div className=\"space-y-2\">\n              <label className=\"text-sm font-medium text-slate-700\">اختر قالب المهمة *</label>\n              <SearchableSelect\n                value=\"\"\n                onChange={handleCreateFromTemplate}\n                options={templates}\n                getOptionLabel={(opt: any) => opt.title}\n                getOptionValue={(opt: any) => opt.id.toString()}\n                placeholder=\"— اختر قالب —\"\n                searchPlaceholder=\"ابحث عن قالب...\"\n              />\n            </div>\n          </div>\n          <DialogFooter className=\"gap-2 pt-4 border-t border-slate-200\">\n            <Button variant=\"outline\" onClick={() => setShowCreateModal(false)} className=\"rounded-xl\">\n              إلغاء\n            </Button>\n          </DialogFooter>\n        </DialogContent>\n      </Dialog>\n      </div>\n    </div>\n  );\n}\n","import { useQuery, useMutation, useQueryClient } from '@tanstack/react-query';\nimport api from '@/lib/api';\nimport { useToast } from '@/hooks/use-toast';\nimport { useTasksStore } from '@/store/useTasksStore';\n\nexport function useDailyTasks(filters?: {\n  date?: string;\n  dateFrom?: string;\n  dateTo?: string;\n  view?: string;\n  assignedTo?: string;\n}) {\n  const queryClient = useQueryClient();\n  const { setDailyTasks } = useTasksStore();\n\n  const query = useQuery({\n    queryKey: ['daily-tasks', filters],\n    queryFn: async () => {\n      const params = new URLSearchParams();\n      if (filters?.date) params.append('date', filters.date);\n      if (filters?.dateFrom) params.append('dateFrom', filters.dateFrom);\n      if (filters?.dateTo) params.append('dateTo', filters.dateTo);\n      if (filters?.view) params.append('view', filters.view);\n      if (filters?.assignedTo) params.append('assignedTo', filters.assignedTo);\n\n      const response = await api.get(`/tasks/daily?${params.toString()}`);\n      const tasks = response.data.map((task: any) => ({\n        ...task,\n        type: 'daily' as const,\n      }));\n      setDailyTasks(tasks);\n      return tasks;\n    },\n  });\n\n  return query;\n}\n\nexport function useAdHocTasks(filters?: {\n  dateFrom?: string;\n  dateTo?: string;\n  view?: string;\n  assignedTo?: string;\n}) {\n  const queryClient = useQueryClient();\n  const { setAdHocTasks } = useTasksStore();\n\n  const query = useQuery({\n    queryKey: ['ad-hoc-tasks', filters],\n    queryFn: async () => {\n      const params = new URLSearchParams();\n      if (filters?.dateFrom) params.append('dateFrom', filters.dateFrom);\n      if (filters?.dateTo) params.append('dateTo', filters.dateTo);\n      if (filters?.view) params.append('view', filters.view);\n      if (filters?.assignedTo) params.append('assignedTo', filters.assignedTo);\n\n      const response = await api.get(`/tasks/ad-hoc?${params.toString()}`);\n      const tasks = response.data.map((task: any) => ({\n        ...task,\n        type: 'ad-hoc' as const,\n      }));\n      setAdHocTasks(tasks);\n      return tasks;\n    },\n  });\n\n  return query;\n}\n\nexport function useExecuteTask() {\n  const queryClient = useQueryClient();\n  const { toast } = useToast();\n\n  return useMutation({\n    mutationFn: async (data: {\n      dailyTaskId?: number;\n      adHocTaskId?: number;\n      resultStatus: string;\n      notes?: string;\n      durationMinutes?: number;\n      settlement_date?: string;\n      settlement_value?: string | number;\n    }) => {\n      const response = await api.post('/tasks/execute', data);\n      return response.data;\n    },\n    onSuccess: (data: any) => {\n      queryClient.invalidateQueries({ queryKey: ['daily-tasks'] });\n      queryClient.invalidateQueries({ queryKey: ['ad-hoc-tasks'] });\n      if (data?.verification_status === 'matched') {\n        toast({\n          title: 'تسوية مطابقة',\n          description: 'تم التحقق من قيمة التسوية مع صفحة التسويات الحكومية بنجاح.',\n          variant: 'success',\n        });\n      } else {\n        toast({\n          title: 'نجح',\n          description: 'تم تسجيل تنفيذ المهمة بنجاح',\n          variant: 'success',\n        });\n      }\n    },\n    onError: (error: any) => {\n      const code = error.response?.data?.code;\n      if (code === 'SETTLEMENT_MISMATCH') return;\n      toast({\n        title: 'خطأ',\n        description: error.response?.data?.error || error.message || 'حدث خطأ',\n        variant: 'destructive',\n      });\n    },\n  });\n}\n\nexport function useCreateAdHocTask() {\n  const queryClient = useQueryClient();\n  const { toast } = useToast();\n\n  return useMutation({\n    mutationFn: async (data: {\n      templateId?: number;\n      categoryId?: number;\n      title: string;\n      description?: string;\n      beneficiary?: string;\n    }) => {\n      const response = await api.post('/tasks/ad-hoc', data);\n      return response.data;\n    },\n    onSuccess: () => {\n      queryClient.invalidateQueries({ queryKey: ['ad-hoc-tasks'] });\n      toast({\n        title: 'نجح',\n        description: 'تم إنشاء المهمة الخاصة بنجاح',\n        variant: 'success',\n      });\n    },\n    onError: (error: any) => {\n      toast({\n        title: 'خطأ',\n        description: error.response?.data?.error || 'حدث خطأ',\n        variant: 'destructive',\n      });\n    },\n  });\n}\n\nexport function useGenerateDailyTasks() {\n  const queryClient = useQueryClient();\n  const { toast } = useToast();\n\n  return useMutation({\n    mutationFn: async () => {\n      const response = await api.post('/tasks/generate-daily');\n      return response.data;\n    },\n    onSuccess: (data) => {\n      queryClient.invalidateQueries({ queryKey: ['daily-tasks'] });\n      toast({\n        title: 'نجح',\n        description: data.message || 'تم توليد المهام بنجاح',\n        variant: 'success',\n      });\n    },\n    onError: (error: any) => {\n      toast({\n        title: 'خطأ',\n        description: error.response?.data?.error || 'حدث خطأ',\n        variant: 'destructive',\n      });\n    },\n  });\n}\n"],"names":["badgeVariants","cva","variants","variant","default","secondary","destructive","outline","success","warning","info","defaultVariants","Badge","_ref","className","props","_objectWithoutProperties","_excluded","_jsx","_objectSpread","cn","Eye","createLucideIcon","d","key","cx","cy","r","Textarea","React","ref","displayName","RefreshCw","useTasksStore","create","set","dailyTasks","adHocTasks","setDailyTasks","tasks","setAdHocTasks","addTask","task","state","type","updateTask","id","updates","map","t","removeTask","filter","SettlementStamp","show","onComplete","duration","subtitle","visible","setVisible","useState","progress","setProgress","useEffect","start","Date","now","interval","setInterval","elapsed","Math","min","setTimeout","clearInterval","clearTimeout","AnimatePresence","children","_jsxs","motion","div","initial","opacity","animate","exit","transition","style","background","scale","delay","rotate","stiffness","damping","src","alt","fill","viewBox","stroke","strokeWidth","strokeLinecap","strokeLinejoin","p","y","width","concat","BRAND_PRIMARY","DetailRow","label","value","multiline","borderColor","color","EmptyTasksCard","_ref2","message","boxShadow","border","FileText","TaskCard","_ref3","index","getStatusBadge","onDetails","onExecute","canExecute","sc","completed","bg","bar","pending","overdue","status","title","template_title","whileHover","zIndex","ease","right","category_name","target_settlement_date","dir","String","slice","assigned_to_name","created_by_name","task_date","moment","format","button","onClick","e","stopPropagation","whileTap","CheckSquare","TasksV2","_selectedTask$templat","user","useAuthStore","toast","useToast","searchQuery","setSearchQuery","filterView","setFilterView","dateMode","setDateMode","filterDate","setFilterDate","tz","filterDateFrom","setFilterDateFrom","filterDateTo","setFilterDateTo","filterAssignee","setFilterAssignee","viewMode","setViewMode","filterTaskType","setFilterTaskType","showExecuteModal","setShowExecuteModal","showCreateModal","setShowCreateModal","showDetailsModal","setShowDetailsModal","detailsTask","setDetailsTask","selectedTask","setSelectedTask","executionData","setExecutionData","resultStatus","notes","durationMinutes","settlement_date","settlement_value","executionError","setExecutionError","showSettlementStamp","setShowSettlementStamp","canFilterByAssignee","useHasPermission","canCreateAdHoc","canGenerateDaily","dailyFilters","date","dateFrom","dateTo","view","assignedTo","adHocFilters","data","isLoading","dailyLoading","filters","useQueryClient","useQuery","queryKey","queryFn","async","params","URLSearchParams","append","api","get","toString","useDailyTasks","adHocLoading","useAdHocTasks","executeTask","queryClient","useMutation","mutationFn","post","onSuccess","invalidateQueries","verification_status","description","onError","error","_error$response","_error$response$data","_error$response2","_error$response2$data","response","code","useExecuteTask","createTask","_error$response3","_error$response3$data","useCreateAdHocTask","generateTasks","_error$response4","_error$response4$data","useGenerateDailyTasks","users","templates","sortByIncompleteFirst","sort","a","b","aIncomplete","bIncomplete","filterBySearch","trim","q","toLowerCase","category","assignee","creator","includes","sortedDailyTasks","useMemo","sortedAdHocTasks","showDailySection","showAdHocSection","stats","total","length","isGovSettlementTask","template_required_fields","category_type","openExecuteModal","_task$template_requir","prev","config","cancelled","skipped","padding","maxWidth","LayoutGrid","Table2","mutate","disabled","isPending","Plus","KpiCards","items","Icon","glow","gradient","Clock","AlertCircle","Filter","Search","placeholder","onChange","target","SearchableSelect","val","options","getOptionLabel","opt","getOptionValue","searchPlaceholder","Input","_Fragment","u","name","_rowType","Calendar","Dialog","open","onOpenChange","DialogContent","DialogHeader","DialogTitle","due_date_time","formatTime12h","beneficiary","Button","CompanyLogo","size","animated","inputMode","rows","role","DialogFooter","_executionData$settle","_executionData$settle2","dailyId","Number","undefined","adHocId","isNaN","payload","dailyTaskId","adHocTaskId","parseInt","_executionData$settle3","_executionData$settle4","_executionData$settle5","_executionData$settle6","raw","replace","call","mutateAsync","err","_err$response","_ref4","_ref5","_data$error","msg","expected_sum_sttle","toLocaleString","template","find","templateId","created","categoryId","category_id"],"ignoreList":[],"sourceRoot":""}
{"version":3,"file":"static/js/639.a0402956.chunk.js","mappings":"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","sources":["components/ui/badge.tsx","../node_modules/lucide-react/src/icons/eye.ts","components/ui/textarea.tsx","../node_modules/lucide-react/src/icons/refresh-cw.ts","store/useTasksStore.ts","components/SettlementStamp.tsx","pages/tasks-v2.tsx","hooks/use-tasks.ts"],"sourcesContent":["import * as React from \"react\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\nimport { cn } from \"@/lib/utils\"\n\nconst badgeVariants = cva(\n  \"inline-flex items-center rounded-lg border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2\",\n  {\n    variants: {\n      variant: {\n        default:\n          \"border-transparent bg-[#026174] text-white hover:bg-[#01505f]\",\n        secondary:\n          \"border-transparent bg-[#068294] text-white hover:bg-[#057a8a]\",\n        destructive:\n          \"border-transparent bg-[#ef4444] text-white hover:bg-[#dc2626]\",\n        outline: \"border-[rgba(2,97,116,0.3)] bg-transparent text-[#026174]\",\n        success:\n          \"border-transparent bg-[#22c55e] text-white hover:bg-[#16a34a]\",\n        warning:\n          \"border-transparent bg-[#f59e0b] text-white hover:bg-[#d97706]\",\n        info:\n          \"border-transparent bg-[#026174] text-white hover:bg-[#01505f]\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n    },\n  }\n)\n\nexport interface BadgeProps\n  extends React.HTMLAttributes<HTMLDivElement>,\n    VariantProps<typeof badgeVariants> {}\n\nfunction Badge({ className, variant, ...props }: BadgeProps) {\n  return (\n    <div className={cn(badgeVariants({ variant }), className)} {...props} />\n  )\n}\n\nexport { Badge, badgeVariants }\n","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name Eye\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMiAxMnMzLTcgMTAtNyAxMCA3IDEwIDctMyA3LTEwIDctMTAtNy0xMC03WiIgLz4KICA8Y2lyY2xlIGN4PSIxMiIgY3k9IjEyIiByPSIzIiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/eye\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Eye = createLucideIcon('Eye', [\n  ['path', { d: 'M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z', key: 'rwhkz3' }],\n  ['circle', { cx: '12', cy: '12', r: '3', key: '1v7zrd' }],\n]);\n\nexport default Eye;\n","import * as React from \"react\"\nimport { cn } from \"@/lib/utils\"\n\nexport interface TextareaProps\n  extends React.TextareaHTMLAttributes<HTMLTextAreaElement> {}\n\nconst Textarea = React.forwardRef<HTMLTextAreaElement, TextareaProps>(\n  ({ className, ...props }, ref) => {\n    return (\n      <textarea\n        className={cn(\n          \"flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 transition-all resize-none\",\n          className\n        )}\n        ref={ref}\n        {...props}\n      />\n    )\n  }\n)\nTextarea.displayName = \"Textarea\"\n\nexport { Textarea }\n","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name RefreshCw\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMyAxMmE5IDkgMCAwIDEgOS05IDkuNzUgOS43NSAwIDAgMSA2Ljc0IDIuNzRMMjEgOCIgLz4KICA8cGF0aCBkPSJNMjEgM3Y1aC01IiAvPgogIDxwYXRoIGQ9Ik0yMSAxMmE5IDkgMCAwIDEtOSA5IDkuNzUgOS43NSAwIDAgMS02Ljc0LTIuNzRMMyAxNiIgLz4KICA8cGF0aCBkPSJNOCAxNkgzdjUiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/refresh-cw\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst RefreshCw = createLucideIcon('RefreshCw', [\n  ['path', { d: 'M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8', key: 'v9h5vc' }],\n  ['path', { d: 'M21 3v5h-5', key: '1q7to0' }],\n  ['path', { d: 'M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16', key: '3uifl3' }],\n  ['path', { d: 'M8 16H3v5', key: '1cv678' }],\n]);\n\nexport default RefreshCw;\n","import { create } from 'zustand';\n\ninterface Task {\n  id: number;\n  type: 'daily' | 'ad-hoc';\n  title: string;\n  template_title?: string;\n  category_name?: string;\n  assigned_to_name?: string;\n  created_by_name?: string;\n  status: 'pending' | 'completed' | 'overdue' | 'cancelled' | 'skipped';\n  task_date?: string;\n  due_date_time?: string;\n  beneficiary?: string;\n  assigned_to_user_id?: number;\n}\n\ninterface TasksState {\n  dailyTasks: Task[];\n  adHocTasks: Task[];\n  setDailyTasks: (tasks: Task[]) => void;\n  setAdHocTasks: (tasks: Task[]) => void;\n  addTask: (task: Task) => void;\n  updateTask: (id: number, updates: Partial<Task>) => void;\n  removeTask: (id: number, type: 'daily' | 'ad-hoc') => void;\n}\n\nexport const useTasksStore = create<TasksState>((set) => ({\n  dailyTasks: [],\n  adHocTasks: [],\n  setDailyTasks: (tasks) => set({ dailyTasks: tasks }),\n  setAdHocTasks: (tasks) => set({ adHocTasks: tasks }),\n  addTask: (task) =>\n    set((state) => {\n      if (task.type === 'daily') {\n        return { dailyTasks: [...state.dailyTasks, task] };\n      }\n      return { adHocTasks: [...state.adHocTasks, task] };\n    }),\n  updateTask: (id, updates) =>\n    set((state) => ({\n      dailyTasks: state.dailyTasks.map((t) =>\n        t.id === id ? { ...t, ...updates } : t\n      ),\n      adHocTasks: state.adHocTasks.map((t) =>\n        t.id === id ? { ...t, ...updates } : t\n      ),\n    })),\n  removeTask: (id, type) =>\n    set((state) => {\n      if (type === 'daily') {\n        return { dailyTasks: state.dailyTasks.filter((t) => t.id !== id) };\n      }\n      return { adHocTasks: state.adHocTasks.filter((t) => t.id !== id) };\n    }),\n}));\n","import { useEffect, useState } from 'react';\nimport { motion, AnimatePresence } from 'framer-motion';\n\nconst STAMP_SRC = '/stamp-settlement-reconciliation.png';\n\ninterface SettlementStampProps {\n  show: boolean;\n  onComplete?: () => void;\n  duration?: number;\n  /** نص مخصص تحت الختم */\n  subtitle?: string;\n}\n\nexport function SettlementStamp({\n  show,\n  onComplete,\n  duration = 2400,\n  subtitle = 'تسوية مطابقة',\n}: SettlementStampProps) {\n  const [visible, setVisible] = useState(show);\n  const [progress, setProgress] = useState(0);\n\n  useEffect(() => {\n    setVisible(show);\n    setProgress(0);\n    if (!show) return;\n    const start = Date.now();\n    const interval = setInterval(() => {\n      const elapsed = Date.now() - start;\n      setProgress(Math.min((elapsed / duration) * 100, 100));\n    }, 50);\n    const t = setTimeout(() => {\n      clearInterval(interval);\n      setVisible(false);\n      onComplete?.();\n    }, duration);\n    return () => {\n      clearTimeout(t);\n      clearInterval(interval);\n    };\n  }, [show, duration, onComplete]);\n\n  return (\n    <AnimatePresence>\n      {visible && (\n        <motion.div\n          initial={{ opacity: 0 }}\n          animate={{ opacity: 1 }}\n          exit={{ opacity: 0 }}\n          transition={{ duration: 0.2 }}\n          className=\"fixed inset-0 z-[100] flex items-center justify-center backdrop-blur-md\"\n          style={{ background: 'rgba(42, 110, 133, 0.35)' }}\n          aria-hidden=\"true\"\n        >\n          {/* حلقة نجاح متحركة */}\n          <motion.div\n            initial={{ scale: 0.8, opacity: 0 }}\n            animate={{ scale: 1.2, opacity: 0.15 }}\n            exit={{ scale: 1, opacity: 0 }}\n            transition={{ duration: 0.5 }}\n            className=\"absolute w-72 h-72 rounded-full border-4 border-emerald-400\"\n          />\n          <motion.div\n            initial={{ scale: 0.8, opacity: 0 }}\n            animate={{ scale: 1.1, opacity: 0.1 }}\n            exit={{ scale: 1, opacity: 0 }}\n            transition={{ duration: 0.5, delay: 0.1 }}\n            className=\"absolute w-64 h-64 rounded-full border-4 border-[#068294]\"\n          />\n\n          <motion.div\n            initial={{ scale: 0.5, opacity: 0, rotate: -12 }}\n            animate={{ scale: 1, opacity: 1, rotate: 0 }}\n            exit={{ scale: 0.9, opacity: 0 }}\n            transition={{ type: 'spring', stiffness: 280, damping: 22 }}\n            className=\"relative flex flex-col items-center justify-center\"\n          >\n            <motion.div\n              initial={{ scale: 0.8 }}\n              animate={{ scale: 1 }}\n              transition={{ type: 'spring', stiffness: 300, damping: 18, delay: 0.1 }}\n              className=\"relative\"\n            >\n              <img\n                src={STAMP_SRC}\n                alt=\"ختم التسوية\"\n                className=\"w-44 h-44 sm:w-52 sm:h-52 object-contain\"\n                style={{\n                  filter: 'drop-shadow(0 10px 32px rgba(0,0,0,0.35)) drop-shadow(0 0 0 1px rgba(255,255,255,0.1))',\n                }}\n              />\n              <motion.div\n                initial={{ scale: 0 }}\n                animate={{ scale: 1 }}\n                transition={{ delay: 0.25, type: 'spring', stiffness: 400, damping: 15 }}\n                className=\"absolute -bottom-1 -right-1 w-10 h-10 rounded-full bg-emerald-500 flex items-center justify-center shadow-lg\"\n                aria-hidden\n              >\n                <svg className=\"w-6 h-6 text-white\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\" strokeWidth={2.5}>\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" d=\"M5 13l4 4L19 7\" />\n                </svg>\n              </motion.div>\n            </motion.div>\n\n            <motion.p\n              initial={{ opacity: 0, y: 10 }}\n              animate={{ opacity: 1, y: 0 }}\n              transition={{ delay: 0.35 }}\n              className=\"mt-4 text-xl font-bold text-white drop-shadow-lg\"\n            >\n              {subtitle}\n            </motion.p>\n            <motion.p\n              initial={{ opacity: 0 }}\n              animate={{ opacity: 1 }}\n              transition={{ delay: 0.45 }}\n              className=\"mt-1 text-sm text-white/80\"\n            >\n              تم حفظ التنفيذ بنجاح\n            </motion.p>\n\n            {/* شريط تقدم صغير */}\n            <div className=\"mt-6 w-48 h-1 rounded-full bg-white/20 overflow-hidden\">\n              <motion.div\n                className=\"h-full rounded-full bg-emerald-400\"\n                initial={{ width: 0 }}\n                animate={{ width: `${progress}%` }}\n                transition={{ duration: 0.05 }}\n              />\n            </div>\n          </motion.div>\n        </motion.div>\n      )}\n    </AnimatePresence>\n  );\n}\n","import { useState, useMemo, useEffect } from 'react';\nimport { useQuery, useQueryClient } from '@tanstack/react-query';\nimport { motion, AnimatePresence } from 'framer-motion';\nimport { Button } from '@/components/ui/button';\nimport { Input } from '@/components/ui/input';\nimport { Badge } from '@/components/ui/badge';\nimport { SearchableSelect } from '@/components/ui/searchable-select';\nimport {\n  Dialog,\n  DialogContent,\n  DialogHeader,\n  DialogTitle,\n  DialogFooter,\n} from '@/components/ui/dialog';\nimport { Textarea } from '@/components/ui/textarea';\nimport {\n  useDailyTasks,\n  useAdHocTasks,\n  useExecuteTask,\n  useCreateAdHocTask,\n  useGenerateDailyTasks,\n} from '@/hooks/use-tasks';\nimport { useAuthStore } from '@/store/useAuthStore';\nimport { useToast } from '@/hooks/use-toast';\nimport { useHasPermission } from '@/hooks/useHasPermission';\nimport api from '@/lib/api';\nimport { formatTime12h } from '@/lib/format';\nimport {\n  Search,\n  Plus,\n  FileText,\n  CheckSquare,\n  Clock,\n  AlertCircle,\n  Filter,\n  RefreshCw,\n  Calendar,\n  Eye,\n  LayoutGrid,\n  Table2,\n  Trash2,\n} from 'lucide-react';\nimport moment from 'moment-timezone';\nimport { CompanyLogo } from '@/components/CompanyLogo';\nimport { KpiCards } from '@/components/KpiCards';\nimport { SettlementStamp } from '@/components/SettlementStamp';\n\nconst todayBaghdad = () => moment().tz('Asia/Baghdad').format('YYYY-MM-DD');\nconst BRAND_PRIMARY = '#068294';\n\nfunction DetailRow({ label, value, multiline }: { label: string; value: string; multiline?: boolean }) {\n  return (\n    <div className=\"flex justify-between items-start gap-4 p-3 rounded-xl border bg-white\" style={{ borderColor: 'rgba(6, 130, 148, 0.2)', background: 'rgba(255,255,255,0.95)' }}>\n      <span className=\"font-medium shrink-0\" style={{ color: '#068294' }}>{label}:</span>\n      <span className={multiline ? 'text-end whitespace-pre-wrap break-words flex-1' : 'font-semibold'} style={{ color: BRAND_PRIMARY }}>{value}</span>\n    </div>\n  );\n}\n\nfunction EmptyTasksCard({ message }: { message: string }) {\n  return (\n    <div\n      className=\"rounded-2xl p-16 text-center\"\n      style={{ background: 'var(--surface)', boxShadow: 'var(--shadow-card)', border: '1px solid var(--border)' }}\n    >\n      <div className=\"w-16 h-16 rounded-2xl mx-auto mb-4 flex items-center justify-center\" style={{ background: 'rgba(8, 131, 149, 0.08)' }}>\n        <FileText className=\"w-8 h-8\" style={{ color: 'var(--primary-600)' }} />\n      </div>\n      <p className=\"text-lg font-bold m-0\" style={{ color: 'var(--text-strong)' }}>{message}</p>\n    </div>\n  );\n}\n\nfunction TaskCard({\n  task,\n  index,\n  type,\n  getStatusBadge,\n  onDetails,\n  onExecute,\n  onDelete,\n  canExecute,\n  canDelete,\n}: {\n  task: any;\n  index: number;\n  type: 'daily' | 'ad-hoc';\n  getStatusBadge: (s: string) => JSX.Element;\n  onDetails: () => void;\n  onExecute: () => void;\n  onDelete?: () => void;\n  canExecute?: boolean;\n  canDelete?: boolean;\n}) {\n  const statusColors: Record<string, { bg: string; bar: string }> = {\n    completed: { bg: 'rgba(22, 163, 74, 0.12)', bar: 'linear-gradient(180deg, #16a34a, #22c55e)' },\n    pending: { bg: 'rgba(245, 158, 11, 0.12)', bar: 'linear-gradient(180deg, #d97706, #f59e0b)' },\n    overdue: { bg: 'rgba(220, 38, 38, 0.12)', bar: 'linear-gradient(180deg, #b91c1c, #dc2626)' },\n  };\n  const sc = statusColors[task.status] || { bg: 'rgba(100, 116, 139, 0.12)', bar: 'linear-gradient(180deg, var(--primary-800), var(--primary-600))' };\n  const title = task.template_title || task.title || '';\n\n  return (\n    <motion.div\n      initial={{ opacity: 0, y: 16 }}\n      animate={{ opacity: 1, y: 0 }}\n      exit={{ opacity: 0, scale: 0.98 }}\n      whileHover={{\n        scale: 1.15,\n        y: -8,\n        zIndex: 20,\n        boxShadow: '0 28px 56px rgba(2, 97, 116, 0.2), 0 0 0 1px rgba(8, 131, 149, 0.3)',\n        transition: { duration: 0.3, ease: [0.25, 0.46, 0.45, 0.94] },\n      }}\n      transition={{ duration: 0.25, delay: index * 0.03, ease: [0.25, 0.46, 0.45, 0.94] }}\n      className=\"group relative flex flex-col rounded-2xl overflow-hidden cursor-pointer\"\n      style={{\n        background: 'var(--surface)',\n        border: '2px solid var(--border-card)',\n        boxShadow: '0 2px 8px rgba(15, 23, 42, 0.06), inset 0 1px 0 rgba(255,255,255,0.8)',\n      }}\n    >\n      <div className=\"absolute inset-0 opacity-0 group-hover:opacity-100 pointer-events-none overflow-hidden rounded-2xl card-shine-hover\" />\n      <div\n        className=\"absolute top-0 bottom-0 w-1 rounded-r-full opacity-80 group-hover:opacity-100 group-hover:w-1.5 transition-all duration-300\"\n        style={{ right: 0, background: sc.bar, boxShadow: '0 0 12px rgba(8, 131, 149, 0.3)' }}\n      />\n      <div\n        className=\"absolute top-0 right-0 left-0 h-1 opacity-0 group-hover:opacity-100 transition-opacity duration-300\"\n        style={{ background: 'linear-gradient(90deg, var(--primary-600), var(--primary-800))' }}\n      />\n      <div className=\"p-5 pl-5 pr-6 flex flex-col flex-1\">\n        <div className=\"flex items-start justify-between gap-3 mb-2\">\n          <h3 className=\"text-lg font-bold leading-snug line-clamp-2 flex-1 min-w-0\" style={{ color: 'var(--text-strong)' }}>\n            {title}\n          </h3>\n          {getStatusBadge(task.status)}\n        </div>\n        <div className=\"flex flex-wrap gap-2 mb-3\">\n          {task.category_name && (\n            <span\n              className=\"inline-flex items-center gap-1.5 px-2.5 py-1 rounded-lg text-sm font-medium\"\n              style={{ background: 'rgba(8, 131, 149, 0.08)', color: 'var(--primary-800)' }}\n            >\n              <FileText className=\"w-3.5 h-3.5\" />\n              {task.category_name}\n            </span>\n          )}\n          {task.target_settlement_date && (\n            <span className=\"px-2.5 py-1 rounded-lg text-xs font-mono bg-slate-100 text-slate-600\" dir=\"ltr\">\n              تسوية {String(task.target_settlement_date).slice(0, 10)}\n            </span>\n          )}\n          <span className=\"px-2 py-0.5 rounded text-xs font-medium\" style={{ background: sc.bg, color: type === 'daily' ? 'var(--primary-800)' : '#7c3aed' }}>\n            {type === 'daily' ? 'يومية' : 'خاصة'}\n          </span>\n        </div>\n        <div className=\"space-y-2 text-sm flex-1 mb-4\">\n          {task.assigned_to_name && (\n            <div className=\"flex justify-between items-center p-2 rounded-lg\" style={{ background: 'rgba(6, 130, 148, 0.06)' }}>\n              <span className=\"font-medium\" style={{ color: 'var(--text-muted)' }}>المسؤول:</span>\n              <span className=\"font-semibold\" style={{ color: 'var(--primary-800)' }}>{task.assigned_to_name}</span>\n            </div>\n          )}\n          {task.created_by_name && type === 'ad-hoc' && (\n            <div className=\"flex justify-between items-center p-2 rounded-lg\" style={{ background: 'rgba(6, 130, 148, 0.06)' }}>\n              <span className=\"font-medium\" style={{ color: 'var(--text-muted)' }}>أنشأها:</span>\n              <span className=\"font-semibold\" style={{ color: 'var(--primary-800)' }}>{task.created_by_name}</span>\n            </div>\n          )}\n          {task.task_date && (\n            <div className=\"flex justify-between items-center p-2 rounded-lg\" style={{ background: 'rgba(6, 130, 148, 0.06)' }}>\n              <span className=\"font-medium\" style={{ color: 'var(--text-muted)' }}>التاريخ:</span>\n              <span className=\"font-semibold\" dir=\"ltr\">{moment(task.task_date).format('YYYY-MM-DD')}</span>\n            </div>\n          )}\n        </div>\n        <div className=\"flex gap-2 pt-4 mt-auto border-t\" style={{ borderColor: 'var(--border)' }}>\n          <motion.button\n            type=\"button\"\n            onClick={(e) => { e.stopPropagation(); onDetails(); }}\n            className=\"ds-btn ds-btn-outline flex-1 flex items-center justify-center gap-2 text-sm\"\n            whileHover={{ scale: 1.03 }}\n            whileTap={{ scale: 0.98 }}\n          >\n            <Eye className=\"w-4 h-4\" />\n            تفاصيل\n          </motion.button>\n          {task.status !== 'completed' && canExecute && (\n            <motion.button\n              type=\"button\"\n              onClick={(e) => { e.stopPropagation(); onExecute(); }}\n              className=\"ds-btn ds-btn-primary flex-1 flex items-center justify-center gap-2 text-sm\"\n              whileHover={{ scale: 1.03 }}\n              whileTap={{ scale: 0.98 }}\n            >\n              <CheckSquare className=\"w-4 h-4\" />\n              تنفيذ\n            </motion.button>\n          )}\n          {canDelete && onDelete && (\n            <motion.button\n              type=\"button\"\n              onClick={(e) => { e.stopPropagation(); onDelete(); }}\n              className=\"ds-btn flex items-center justify-center gap-2 text-sm px-3 py-2 rounded-lg text-white hover:opacity-90\"\n              style={{ background: 'var(--color-danger, #dc2626)' }}\n              whileHover={{ scale: 1.03 }}\n              whileTap={{ scale: 0.98 }}\n              title=\"حذف المهمة\"\n            >\n              <Trash2 className=\"w-4 h-4\" />\n              حذف\n            </motion.button>\n          )}\n        </div>\n      </div>\n    </motion.div>\n  );\n}\n\nexport function TasksV2() {\n  const { user } = useAuthStore();\n  const { toast } = useToast();\n  const [searchQuery, setSearchQuery] = useState('');\n  const [filterView, setFilterView] = useState('');\n  const [dateMode, setDateMode] = useState<'all' | 'single' | 'range'>('single');\n  const [filterDate, setFilterDate] = useState(todayBaghdad());\n  const [filterDateFrom, setFilterDateFrom] = useState('');\n  const [filterDateTo, setFilterDateTo] = useState('');\n  const [filterAssignee, setFilterAssignee] = useState('');\n  const [viewMode, setViewMode] = useState<'cards' | 'table'>('cards');\n  const [filterTaskType, setFilterTaskType] = useState<'all' | 'daily_only' | 'ad_hoc_only'>('all');\n  const [showExecuteModal, setShowExecuteModal] = useState(false);\n  const [showCreateModal, setShowCreateModal] = useState(false);\n  const [showDetailsModal, setShowDetailsModal] = useState(false);\n  const [detailsTask, setDetailsTask] = useState<any>(null);\n  const [selectedTask, setSelectedTask] = useState<any>(null);\n  const [executionData, setExecutionData] = useState({\n    resultStatus: 'completed',\n    notes: '',\n    durationMinutes: '',\n    settlement_date: '',\n    settlement_value: '',\n  });\n  const [executionError, setExecutionError] = useState('');\n  const [showSettlementStamp, setShowSettlementStamp] = useState(false);\n\n  const canFilterByAssignee = useHasPermission('tasks', 'filter_by_assignee');\n  const canExecute = useHasPermission('tasks', 'execute');\n  const canCreateAdHoc = useHasPermission('tasks', 'create_ad_hoc');\n  const canGenerateDaily = useHasPermission('tasks', 'view');\n  const canDeleteTask = useHasPermission('tasks', 'delete_task');\n\n  const [taskToDelete, setTaskToDelete] = useState<{ id: number; type: 'daily' | 'ad-hoc' } | null>(null);\n  const [deleteSubmitting, setDeleteSubmitting] = useState(false);\n  const [deleteAllConfirm, setDeleteAllConfirm] = useState(false);\n  const [deleteAllSubmitting, setDeleteAllSubmitting] = useState(false);\n  const queryClient = useQueryClient();\n\n  // Build filters\n  const dailyFilters = {\n    ...(dateMode === 'single' && filterDate ? { date: filterDate } : {}),\n    ...(dateMode === 'range' && filterDateFrom && filterDateTo\n      ? { dateFrom: filterDateFrom, dateTo: filterDateTo }\n      : {}),\n    ...(filterView ? { view: filterView } : {}),\n    ...(canFilterByAssignee && filterAssignee ? { assignedTo: filterAssignee } : {}),\n  };\n\n  const adHocFilters = {\n    ...(dateMode === 'range' && filterDateFrom && filterDateTo\n      ? { dateFrom: filterDateFrom, dateTo: filterDateTo }\n      : {}),\n    ...(filterView ? { view: filterView } : {}),\n    ...(canFilterByAssignee && filterAssignee ? { assignedTo: filterAssignee } : {}),\n  };\n\n  const { data: dailyTasks = [], isLoading: dailyLoading, refetch: refetchDaily } = useDailyTasks(dailyFilters);\n  const { data: adHocTasks = [], isLoading: adHocLoading } = useAdHocTasks(adHocFilters);\n  const executeTask = useExecuteTask();\n  const createTask = useCreateAdHocTask();\n  const generateTasks = useGenerateDailyTasks();\n\n  // جلب المهام تلقائياً عند فتح الصفحة — التأكد من توليد مهام اليوم إن لم تُولَّد بعد (مثلاً لو الخادم كان متوقفاً عند 00:10)\n  useEffect(() => {\n    api.get('/tasks/ensure-daily')\n      .then((res) => {\n        const data = res.data;\n        if (data?.generated > 0) {\n          queryClient.invalidateQueries({ queryKey: ['daily-tasks'] });\n        }\n      })\n      .catch(() => {});\n  }, [queryClient]);\n\n  // Fetch users and templates\n  const { data: users = [] } = useQuery({\n    queryKey: ['users'],\n    queryFn: async () => {\n      const response = await api.get('/users');\n      return response.data;\n    },\n  });\n\n  const { data: templates = [] } = useQuery({\n    queryKey: ['templates'],\n    queryFn: async () => {\n      const response = await api.get('/templates?active=true');\n      return response.data;\n    },\n  });\n\n  const isLoading = dailyLoading || adHocLoading;\n\n  // فرز: غير مكتملة أولاً (pending, overdue) ثم المكتملة\n  const sortByIncompleteFirst = (tasks: any[]) =>\n    [...tasks].sort((a, b) => {\n      const aIncomplete = a.status !== 'completed';\n      const bIncomplete = b.status !== 'completed';\n      if (aIncomplete && !bIncomplete) return -1;\n      if (!aIncomplete && bIncomplete) return 1;\n      return 0;\n    });\n\n  // فلترة بالبحث النصي\n  const filterBySearch = (tasks: any[]) => {\n    if (!searchQuery.trim()) return tasks;\n    const q = searchQuery.toLowerCase().trim();\n    return tasks.filter((t: any) => {\n      const title = (t.template_title || t.title || '').toLowerCase();\n      const category = (t.category_name || '').toLowerCase();\n      const assignee = (t.assigned_to_name || '').toLowerCase();\n      const creator = (t.created_by_name || '').toLowerCase();\n      return title.includes(q) || category.includes(q) || assignee.includes(q) || creator.includes(q);\n    });\n  };\n\n  const sortedDailyTasks = useMemo(\n    () => filterBySearch(sortByIncompleteFirst(dailyTasks)),\n    [dailyTasks, searchQuery]\n  );\n  const sortedAdHocTasks = useMemo(\n    () => filterBySearch(sortByIncompleteFirst(adHocTasks)),\n    [adHocTasks, searchQuery]\n  );\n\n  const showDailySection = filterTaskType === 'all' || filterTaskType === 'daily_only';\n  const showAdHocSection = filterTaskType === 'all' || filterTaskType === 'ad_hoc_only';\n\n  const stats = {\n    total: dailyTasks.length + adHocTasks.length,\n    pending: [...dailyTasks, ...adHocTasks].filter((t) => t.status === 'pending' || t.status === 'overdue').length,\n    completed: [...dailyTasks, ...adHocTasks].filter((t) => t.status === 'completed').length,\n    overdue: dailyTasks.filter((t) => t.status === 'overdue').length,\n  };\n\n  const isGovSettlementTask =\n    selectedTask?.type === 'daily' &&\n    selectedTask?.template_required_fields?.category_type === 'government_settlement_bank';\n\n  const openExecuteModal = (task: any) => {\n    setSelectedTask({ ...task, type: task.type || 'daily' });\n    setExecutionError('');\n    if (task.template_required_fields?.category_type === 'government_settlement_bank') {\n      setExecutionData((prev) => ({\n        ...prev,\n        settlement_date: task.target_settlement_date ? String(task.target_settlement_date).slice(0, 10) : '',\n        settlement_value: '',\n      }));\n    }\n    setShowExecuteModal(true);\n  };\n\n  const handleDeleteClick = (task: any, type: 'daily' | 'ad-hoc') => setTaskToDelete({ id: task.id, type });\n  const cancelDelete = () => setTaskToDelete(null);\n  const handleDeleteConfirm = async () => {\n    if (!taskToDelete) return;\n    try {\n      setDeleteSubmitting(true);\n      const path = taskToDelete.type === 'daily' ? 'daily' : 'ad-hoc';\n      await api.delete(`/tasks/${path}/${taskToDelete.id}`);\n      toast({ title: 'تم', description: 'تم حذف المهمة' });\n      setTaskToDelete(null);\n      await Promise.all([\n        queryClient.invalidateQueries({ queryKey: ['daily-tasks'] }),\n        queryClient.invalidateQueries({ queryKey: ['ad-hoc-tasks'] }),\n      ]);\n    } catch (err: any) {\n      toast({ title: 'خطأ', description: err.response?.data?.error || 'فشل حذف المهمة', variant: 'destructive' });\n    } finally {\n      setDeleteSubmitting(false);\n    }\n  };\n\n  const handleDeleteAllConfirm = async () => {\n    try {\n      setDeleteAllSubmitting(true);\n      const res = await api.delete('/tasks/all');\n      toast({ title: 'تم', description: (res.data as any)?.message || 'تم حذف جميع المهام' });\n      setDeleteAllConfirm(false);\n      await Promise.all([\n        queryClient.invalidateQueries({ queryKey: ['daily-tasks'] }),\n        queryClient.invalidateQueries({ queryKey: ['ad-hoc-tasks'] }),\n      ]);\n    } catch (err: any) {\n      toast({ title: 'خطأ', description: err.response?.data?.error || 'فشل حذف المهام', variant: 'destructive' });\n    } finally {\n      setDeleteAllSubmitting(false);\n    }\n  };\n\n  const handleExecute = async () => {\n    if (!selectedTask) return;\n    if (isGovSettlementTask && (executionData.resultStatus === 'completed' || executionData.resultStatus === 'completed_late')) {\n      if (!executionData.settlement_date?.trim() || !executionData.settlement_value?.trim()) {\n        toast({\n          title: 'تنبيه',\n          description: 'مهام التسوية الحكومية تتطلب تاريخ التسوية وقيمة التسوية',\n          variant: 'destructive',\n        });\n        return;\n      }\n    }\n\n    setExecutionError('');\n    try {\n      const dailyId = selectedTask.type === 'daily' ? Number(selectedTask.id) : undefined;\n      const adHocId = selectedTask.type === 'ad-hoc' ? Number(selectedTask.id) : undefined;\n      if ((selectedTask.type === 'daily' && (dailyId == null || Number.isNaN(dailyId))) ||\n          (selectedTask.type === 'ad-hoc' && (adHocId == null || Number.isNaN(adHocId)))) {\n        setExecutionError('معرف المهمة غير صالح. أعد فتح الصفحة وحاول مرة أخرى.');\n        return;\n      }\n      const payload: any = {\n        dailyTaskId: selectedTask.type === 'daily' ? dailyId : undefined,\n        adHocTaskId: selectedTask.type === 'ad-hoc' ? adHocId : undefined,\n        resultStatus: executionData.resultStatus,\n        notes: executionData.notes,\n        durationMinutes: executionData.durationMinutes\n          ? parseInt(executionData.durationMinutes, 10)\n          : undefined,\n      };\n      if (isGovSettlementTask && (executionData.resultStatus === 'completed' || executionData.resultStatus === 'completed_late')) {\n        const raw = executionData.settlement_date?.trim().slice(0, 10) || '';\n        payload.settlement_date = raw.includes('/') ? raw.replace(/\\//g, '-') : raw;\n        const val = executionData.settlement_value?.replace?.(/,/g, '') ?? executionData.settlement_value;\n        payload.settlement_value = val === '' ? undefined : val;\n      }\n      await executeTask.mutateAsync(payload);\n      setShowSettlementStamp(true);\n    } catch (err: any) {\n      const data = err?.response?.data;\n      const code = data?.code;\n      const msg =\n        data?.error ??\n        data?.message ??\n        (typeof data === 'string' ? data : null) ??\n        (err?.message && err.message !== 'Network Error' ? err.message : 'حدث خطأ. تحقق من الاتصال ثم أعد المحاولة.');\n      setExecutionError(msg + (data?.expected_sum_sttle != null ? ` (المتوقع: ${Number(data.expected_sum_sttle).toLocaleString('en-US')})` : ''));\n      if (code === 'SETTLEMENT_MISMATCH') {\n        toast({\n          title: 'غير مطابقة',\n          description: msg + (data?.expected_sum_sttle != null ? ` (المتوقع: ${Number(data.expected_sum_sttle).toLocaleString('en-US')})` : ''),\n          variant: 'destructive',\n        });\n        return;\n      }\n      toast({\n        title: 'خطأ',\n        description: msg,\n        variant: 'destructive',\n      });\n    }\n  };\n\n  const handleCreateFromTemplate = async (templateId: string) => {\n    const template = templates.find((t: any) => t.id === parseInt(templateId));\n    if (!template) return;\n\n    const created = await createTask.mutateAsync({\n      templateId: parseInt(templateId),\n      categoryId: template.category_id,\n      title: template.title,\n      description: template.description,\n    });\n\n    // Open execute modal for the created task\n    setSelectedTask({ ...created, type: 'ad-hoc' });\n    setShowCreateModal(false);\n    setShowExecuteModal(true);\n  };\n\n  const getStatusBadge = (status: string) => {\n    const variants: Record<string, any> = {\n      completed: { variant: 'success' as const, label: 'مكتملة' },\n      pending: { variant: 'warning' as const, label: 'معلقة' },\n      overdue: { variant: 'destructive' as const, label: 'متأخرة' },\n      cancelled: { variant: 'outline' as const, label: 'ملغاة' },\n      skipped: { variant: 'outline' as const, label: 'تخطي' },\n    };\n    const config = variants[status] || { variant: 'default' as const, label: status };\n    return <Badge variant={config.variant}>{config.label}</Badge>;\n  };\n\n  return (\n    <div\n      className=\"min-h-screen\"\n      style={{\n        padding: '1.5rem 2rem',\n        background: 'linear-gradient(180deg, #f1f5f9 0%, #e2e8f0 100%)',\n      }}\n    >\n      <div className=\"mx-auto\" style={{ maxWidth: '1400px' }}>\n      <SettlementStamp\n        show={showSettlementStamp}\n        onComplete={() => {\n          setShowSettlementStamp(false);\n          setShowExecuteModal(false);\n          setSelectedTask(null);\n          setExecutionData({ resultStatus: 'completed', notes: '', durationMinutes: '', settlement_date: '', settlement_value: '' });\n        }}\n      />\n      {/* Header */}\n      <div\n        className=\"page-header-teal rounded-xl flex flex-wrap items-center justify-between gap-4 p-5 mb-6\"\n        style={{\n          background: 'linear-gradient(135deg, #026174 0%, #068294 100%)',\n          color: '#ffffff',\n          boxShadow: '0 10px 30px rgba(2, 97, 116, 0.35)',\n        }}\n      >\n        <div>\n          <h1 className=\"text-2xl font-bold m-0 text-white\">المهام</h1>\n          <p className=\"text-sm opacity-90 mt-1 m-0 text-white\">\n            إدارة وتنفيذ المهام اليومية والخاصة\n          </p>\n        </div>\n        <div className=\"flex items-center gap-2 flex-wrap\">\n          <div className=\"flex rounded-full overflow-hidden border border-white/30 bg-white/10 p-0.5\">\n            <button type=\"button\" onClick={() => setViewMode('cards')} className={`flex items-center gap-2 px-3 py-2 rounded-full text-sm font-medium transition-colors ${viewMode === 'cards' ? 'bg-white text-[#026174] shadow' : 'text-white/90 hover:bg-white/10'}`}>\n              <LayoutGrid className=\"w-4 h-4\" /> كروت\n            </button>\n            <button type=\"button\" onClick={() => setViewMode('table')} className={`flex items-center gap-2 px-3 py-2 rounded-full text-sm font-medium transition-colors ${viewMode === 'table' ? 'bg-white text-[#026174] shadow' : 'text-white/90 hover:bg-white/10'}`}>\n              <Table2 className=\"w-4 h-4\" /> جدول\n            </button>\n          </div>\n          {canGenerateDaily && (\n            <button type=\"button\" onClick={() => generateTasks.mutate()} disabled={generateTasks.isPending} className=\"flex items-center gap-2 px-4 py-2 rounded-full text-sm font-medium bg-white/20 hover:bg-white/30 transition-colors text-white disabled:opacity-50\">\n              <RefreshCw className={`w-4 h-4 ${generateTasks.isPending ? 'animate-spin' : ''}`} /> توليد المهام\n            </button>\n          )}\n          {canCreateAdHoc && (\n          <button type=\"button\" onClick={() => setShowCreateModal(true)} className=\"flex items-center gap-2 px-4 py-2 rounded-full text-sm font-medium bg-white text-[#026174] cursor-pointer hover:bg-white/95 transition-colors shadow\">\n            <Plus className=\"w-4 h-4\" /> إنشاء من قالب\n          </button>\n          )}\n          {canDeleteTask && (\n            <button type=\"button\" onClick={() => setDeleteAllConfirm(true)} className=\"flex items-center gap-2 px-4 py-2 rounded-full text-sm font-medium bg-red-600/90 hover:bg-red-600 text-white transition-colors shadow\" title=\"حذف جميع المهام\">\n              <Trash2 className=\"w-4 h-4\" /> حذف الكل\n            </button>\n          )}\n        </div>\n      </div>\n\n      <KpiCards\n          items={[\n            { label: 'إجمالي المهام', value: stats.total, Icon: CheckSquare, color: '#068294', glow: 'rgba(6, 130, 148, 0.4)', gradient: 'linear-gradient(135deg, #068294 0%, #026174 100%)' },\n            { label: 'معلقة', value: stats.pending, Icon: Clock, color: '#f59e0b', glow: 'rgba(245, 158, 11, 0.4)', gradient: 'linear-gradient(135deg, #f59e0b 0%, #d97706 100%)' },\n            { label: 'مكتملة', value: stats.completed, Icon: CheckSquare, color: '#059669', glow: 'rgba(5, 150, 105, 0.4)', gradient: 'linear-gradient(135deg, #059669 0%, #047857 100%)' },\n            { label: 'متأخرة', value: stats.overdue, Icon: AlertCircle, color: '#dc2626', glow: 'rgba(220, 38, 38, 0.4)', gradient: 'linear-gradient(135deg, #dc2626 0%, #b91c1c 100%)' },\n          ]}\n        />\n\n      {/* Filters */}\n      <div\n        className=\"rounded-2xl p-5 mb-6 border border-slate-200/80\"\n        style={{\n          background: 'linear-gradient(180deg, #ffffff 0%, #f8fafc 100%)',\n          boxShadow: '0 4px 20px rgba(0,0,0,0.06)',\n        }}\n      >\n        <div className=\"flex items-center gap-2 mb-4\">\n          <div className=\"p-1.5 rounded-lg bg-slate-100\">\n            <Filter className=\"w-4 h-4 text-slate-600\" />\n          </div>\n          <span className=\"text-base font-semibold text-slate-700\">الفلاتر والبحث</span>\n        </div>\n        <div className=\"mb-4\">\n          <label className=\"block text-xs font-medium text-slate-500 mb-1\">بحث في المهام</label>\n          <div className=\"relative\">\n            <Search className=\"absolute right-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400\" />\n            <input\n              type=\"text\"\n              placeholder=\"ابحث عن أي مهمة (عنوان، فئة، مسؤول...)\"\n              value={searchQuery}\n              onChange={(e) => setSearchQuery(e.target.value)}\n              className=\"w-full pr-10 px-3 py-2 border border-slate-200 rounded-lg text-sm focus:ring-2 focus:ring-[#068294]/30 focus:border-[#068294] bg-white text-slate-800\"\n            />\n          </div>\n          <p className=\"text-xs mt-1.5 text-slate-500\">يمكنك البحث عن أي مهمة وإنجازها حتى لو لم تكن مخصصة لك</p>\n        </div>\n        <div className=\"grid gap-4 md:grid-cols-2 lg:grid-cols-5\">\n            <div>\n              <label className=\"block text-xs font-medium text-slate-500 mb-1\">نوع المهام</label>\n              <SearchableSelect\n                value={filterTaskType}\n                onChange={(val) => setFilterTaskType(val as 'all' | 'daily_only' | 'ad_hoc_only')}\n                options={[\n                  { value: 'all', label: 'الكل (اليومية + الخاصة)' },\n                  { value: 'daily_only', label: 'اليومية فقط' },\n                  { value: 'ad_hoc_only', label: 'الخاصة فقط' },\n                ]}\n                getOptionLabel={(opt: any) => opt.label}\n                getOptionValue={(opt: any) => opt.value}\n                placeholder=\"الكل\"\n                searchPlaceholder=\"ابحث...\"\n              />\n            </div>\n            <div>\n              <label className=\"block text-xs font-medium text-slate-500 mb-1\">عرض المهام</label>\n              <SearchableSelect\n                value={filterView}\n                onChange={setFilterView}\n                options={[\n                  { value: '', label: 'الكل' },\n                  { value: 'department_pending', label: 'مهام القسم المعلقة' },\n                  { value: 'department_completed', label: 'مهام القسم المنجزة' },\n                  { value: 'my_pending', label: 'مهام المعلقة من قبلي' },\n                ]}\n                getOptionLabel={(opt: any) => opt.label}\n                getOptionValue={(opt: any) => opt.value}\n                placeholder=\"الكل\"\n                searchPlaceholder=\"ابحث...\"\n              />\n            </div>\n            <div>\n              <label className=\"block text-xs font-medium text-slate-500 mb-1\">التاريخ</label>\n              <SearchableSelect\n                value={dateMode}\n                onChange={(val) => setDateMode(val as any)}\n                options={[\n                  { value: 'all', label: 'عام (كل الفترات)' },\n                  { value: 'single', label: 'يوم محدد' },\n                  { value: 'range', label: 'فترة معينة' },\n                ]}\n                getOptionLabel={(opt: any) => opt.label}\n                getOptionValue={(opt: any) => opt.value}\n                placeholder=\"اختر وضع التاريخ\"\n                searchPlaceholder=\"ابحث...\"\n              />\n            </div>\n            {dateMode === 'single' && (\n              <div>\n                <label className=\"block text-xs font-medium text-slate-500 mb-1\">اليوم</label>\n                <Input\n                  type=\"date\"\n                  value={filterDate}\n                  onChange={(e) => setFilterDate(e.target.value)}\n                  className=\"border border-slate-200 rounded-lg\"\n                />\n              </div>\n            )}\n            {dateMode === 'range' && (\n              <>\n                <div>\n                  <label className=\"block text-xs font-medium text-slate-500 mb-1\">من</label>\n                  <Input\n                    type=\"date\"\n                    value={filterDateFrom}\n                    onChange={(e) => setFilterDateFrom(e.target.value)}\n                    className=\"border border-slate-200 rounded-lg\"\n                  />\n                </div>\n                <div>\n                  <label className=\"block text-xs font-medium text-slate-500 mb-1\">إلى</label>\n                  <Input\n                    type=\"date\"\n                    value={filterDateTo}\n                    onChange={(e) => setFilterDateTo(e.target.value)}\n                    className=\"border border-slate-200 rounded-lg\"\n                  />\n                </div>\n              </>\n            )}\n            {canFilterByAssignee && (\n              <div>\n                <label className=\"block text-xs font-medium text-slate-500 mb-1\">المسؤول</label>\n                <SearchableSelect\n                  value={filterAssignee}\n                  onChange={setFilterAssignee}\n                  options={[{ value: '', label: 'الكل' }, ...users.map((u: any) => ({ value: u.id.toString(), label: u.name }))]}\n                  getOptionLabel={(opt: any) => opt.label}\n                  getOptionValue={(opt: any) => opt.value}\n                  placeholder=\"الكل\"\n                  searchPlaceholder=\"ابحث عن مستخدم...\"\n                />\n              </div>\n            )}\n          </div>\n        </div>\n\n      {/* Tasks List */}\n      {isLoading ? (\n        <div\n          className=\"rounded-2xl p-16 flex justify-center\"\n          style={{ background: 'var(--surface)', boxShadow: 'var(--shadow-card)', border: '1px solid var(--border)' }}\n        >\n          <div className=\"animate-pulse flex flex-col items-center gap-4\">\n            <div className=\"w-14 h-14 rounded-2xl bg-slate-100\" />\n            <p className=\"text-sm font-medium\" style={{ color: 'var(--text-muted)' }}>جاري تحميل المهام...</p>\n          </div>\n        </div>\n      ) : viewMode === 'table' ? (\n        <div className=\"overflow-x-auto\">\n          <table className=\"ds-table w-full\">\n            <thead>\n              <tr className=\"table-header-dark\" style={{ background: 'linear-gradient(135deg, #026174 0%, #068294 100%)' }}>\n                <th className=\"text-end py-4 px-4 font-bold text-white\">المهمة</th>\n                <th className=\"text-end py-4 px-4 font-bold text-white\">النوع</th>\n                <th className=\"text-end py-4 px-4 font-bold text-white\">الفئة</th>\n                <th className=\"text-end py-4 px-4 font-bold text-white\">الحالة</th>\n                <th className=\"text-end py-4 px-4 font-bold text-white\">التاريخ</th>\n                <th className=\"text-end py-4 px-4 font-bold text-white\">المسؤول</th>\n                <th className=\"text-end py-4 px-4 font-bold text-white\">إجراءات</th>\n              </tr>\n            </thead>\n            <tbody>\n              {[\n                ...(showDailySection ? sortedDailyTasks.map((t: any) => ({ ...t, _rowType: 'daily' })) : []),\n                ...(showAdHocSection ? sortedAdHocTasks.map((t: any) => ({ ...t, _rowType: 'ad-hoc' })) : []),\n              ].map((task: any) => (\n                <tr key={`${task._rowType}-${task.id}`}>\n                  <td className=\"py-3 px-4 font-medium\" style={{ color: 'var(--text-strong)' }}>{task.template_title || task.title}</td>\n                  <td className=\"py-3 px-4\"><span className=\"px-2 py-0.5 rounded text-xs font-medium\" style={{ background: (task._rowType === 'ad-hoc' ? 'rgba(124, 58, 237, 0.12)' : 'rgba(6, 130, 148, 0.12)'), color: (task._rowType === 'ad-hoc' ? '#7c3aed' : 'var(--primary-800)') }}>{task._rowType === 'ad-hoc' ? 'خاصة' : 'يومية'}</span></td>\n                  <td className=\"py-3 px-4\" style={{ color: 'var(--text)' }}>{task.category_name || '—'}</td>\n                  <td className=\"py-3 px-4\">{getStatusBadge(task.status)}</td>\n                  <td className=\"py-3 px-4\" style={{ color: 'var(--text)' }} dir=\"ltr\">{task.task_date ? moment(task.task_date).format('YYYY-MM-DD') : '—'}</td>\n                  <td className=\"py-3 px-4\" style={{ color: 'var(--text)' }}>{(task.assigned_to_name || task.created_by_name) || '—'}</td>\n                  <td className=\"py-3 px-4\">\n                    <div className=\"flex items-center gap-2 justify-end\">\n                      <button type=\"button\" onClick={() => { setDetailsTask({ ...task, type: task._rowType }); setShowDetailsModal(true); }} className=\"ds-btn ds-btn-outline flex items-center gap-1.5 px-3 py-1.5 text-sm\"><Eye className=\"w-3.5 h-3.5\" /> تفاصيل</button>\n                      {task.status !== 'completed' && canExecute && (\n                        <button type=\"button\" onClick={() => openExecuteModal({ ...task, type: task._rowType })} className=\"ds-btn ds-btn-primary flex items-center gap-1.5 px-3 py-1.5 text-sm\"><CheckSquare className=\"w-3.5 h-3.5\" /> تنفيذ</button>\n                      )}\n                      {canDeleteTask && (\n                        <button type=\"button\" onClick={() => handleDeleteClick(task, task._rowType)} className=\"ds-btn flex items-center gap-1.5 px-3 py-1.5 text-sm text-white rounded-lg hover:opacity-90\" style={{ background: '#dc2626' }} title=\"حذف\"><Trash2 className=\"w-3.5 h-3.5\" /> حذف</button>\n                      )}\n                    </div>\n                  </td>\n                </tr>\n              ))}\n            </tbody>\n          </table>\n        </div>\n      ) : (\n        <div className=\"space-y-8\">\n          {/* Daily Tasks */}\n          {showDailySection && (\n            <div>\n              <div className=\"flex items-center justify-between mb-4\">\n                <h2 className=\"text-xl font-bold flex items-center gap-2\" style={{ color: 'var(--primary-800)' }}>\n                  <Calendar className=\"h-5 w-5\" />\n                  المهام اليومية المجدولة\n                  <span className=\"px-2.5 py-0.5 rounded-lg text-sm font-bold\" style={{ background: 'rgba(6, 130, 148, 0.12)', color: 'var(--primary-800)' }}>\n                    {sortedDailyTasks.length}\n                  </span>\n                </h2>\n              </div>\n              <div className=\"grid gap-5 sm:grid-cols-2 xl:grid-cols-3\">\n                <AnimatePresence>\n                  {sortedDailyTasks.map((task: any, index: number) => (\n                    <TaskCard\n                      key={`daily-${task.id}`}\n                      task={task}\n                      index={index}\n                      type=\"daily\"\n                      getStatusBadge={getStatusBadge}\n                      onDetails={() => { setDetailsTask({ ...task, type: 'daily' }); setShowDetailsModal(true); }}\n                      onExecute={() => openExecuteModal({ ...task, type: 'daily' })}\n                      onDelete={canDeleteTask ? () => handleDeleteClick(task, 'daily') : undefined}\n                      canExecute={canExecute}\n                      canDelete={canDeleteTask}\n                    />\n                  ))}\n                </AnimatePresence>\n              </div>\n              {sortedDailyTasks.length === 0 && (\n                <EmptyTasksCard message=\"لا توجد مهام مجدولة\" />\n              )}\n            </div>\n          )}\n\n          {/* Ad-hoc Tasks */}\n          {showAdHocSection && (\n            <div>\n              <div className=\"flex items-center justify-between mb-4\">\n                <h2 className=\"text-xl font-bold flex items-center gap-2\" style={{ color: 'var(--primary-800)' }}>\n                  <FileText className=\"h-5 w-5\" />\n                  المهام الخاصة\n                  <span className=\"px-2.5 py-0.5 rounded-lg text-sm font-bold\" style={{ background: 'rgba(6, 130, 148, 0.12)', color: 'var(--primary-800)' }}>\n                    {sortedAdHocTasks.length}\n                  </span>\n                </h2>\n              </div>\n              <div className=\"grid gap-5 sm:grid-cols-2 xl:grid-cols-3\">\n                <AnimatePresence>\n                  {sortedAdHocTasks.map((task: any, index: number) => (\n                    <TaskCard\n                      key={`ad-hoc-${task.id}`}\n                      task={task}\n                      index={index}\n                      type=\"ad-hoc\"\n                      getStatusBadge={getStatusBadge}\n                      onDetails={() => { setDetailsTask({ ...task, type: 'ad-hoc' }); setShowDetailsModal(true); }}\n                      onExecute={() => { setSelectedTask({ ...task, type: 'ad-hoc' }); setShowExecuteModal(true); }}\n                      onDelete={canDeleteTask ? () => handleDeleteClick(task, 'ad-hoc') : undefined}\n                      canExecute={canExecute}\n                      canDelete={canDeleteTask}\n                    />\n                  ))}\n                </AnimatePresence>\n              </div>\n              {sortedAdHocTasks.length === 0 && (\n                <EmptyTasksCard message=\"لا توجد مهام خاصة\" />\n              )}\n            </div>\n          )}\n        </div>\n      )}\n\n      {/* حذف مهمة واحدة */}\n      <Dialog open={!!taskToDelete} onOpenChange={(open) => !open && !deleteSubmitting && cancelDelete()}>\n        <DialogContent className=\"max-w-sm rounded-2xl\">\n          <DialogHeader>\n            <DialogTitle className=\"text-lg font-bold\">حذف المهمة</DialogTitle>\n          </DialogHeader>\n          <p className=\"text-sm text-slate-600\">هل أنت متأكد من حذف هذه المهمة؟ لا يمكن التراجع عن هذا الإجراء.</p>\n          <DialogFooter className=\"gap-2 pt-4\">\n            <Button type=\"button\" variant=\"outline\" onClick={cancelDelete} disabled={deleteSubmitting}>إلغاء</Button>\n            <Button type=\"button\" onClick={handleDeleteConfirm} disabled={deleteSubmitting} className=\"bg-red-600 hover:bg-red-700 text-white\">{deleteSubmitting ? 'جاري الحذف...' : 'حذف'}</Button>\n          </DialogFooter>\n        </DialogContent>\n      </Dialog>\n\n      {/* حذف الكل */}\n      <Dialog open={deleteAllConfirm} onOpenChange={(open) => !open && !deleteAllSubmitting && setDeleteAllConfirm(false)}>\n        <DialogContent className=\"max-w-sm rounded-2xl\">\n          <DialogHeader>\n            <DialogTitle className=\"text-lg font-bold\">حذف جميع المهام</DialogTitle>\n          </DialogHeader>\n          <p className=\"text-sm text-slate-600\">هل أنت متأكد من حذف <strong>جميع</strong> المهام (اليومية والخاصة)؟ لا يمكن التراجع عن هذا الإجراء.</p>\n          <DialogFooter className=\"gap-2 pt-4\">\n            <Button type=\"button\" variant=\"outline\" onClick={() => setDeleteAllConfirm(false)} disabled={deleteAllSubmitting}>إلغاء</Button>\n            <Button type=\"button\" onClick={handleDeleteAllConfirm} disabled={deleteAllSubmitting} className=\"bg-red-600 hover:bg-red-700 text-white\">{deleteAllSubmitting ? 'جاري الحذف...' : 'حذف الكل'}</Button>\n          </DialogFooter>\n        </DialogContent>\n      </Dialog>\n\n      {/* Details Modal */}\n      <Dialog open={showDetailsModal} onOpenChange={setShowDetailsModal}>\n        <DialogContent className=\"max-w-2xl max-h-[90vh] overflow-y-auto rounded-2xl\">\n          <DialogHeader>\n            <DialogTitle className=\"text-2xl font-bold flex items-center gap-2\" style={{ color: BRAND_PRIMARY }}>\n              <Eye className=\"h-6 w-6\" />\n              تفاصيل المهمة\n            </DialogTitle>\n          </DialogHeader>\n          {detailsTask && (\n            <div className=\"space-y-4\">\n              <div className=\"p-4 rounded-xl bg-slate-50 border border-slate-200\">\n                <h3 className=\"text-lg font-bold mb-2 text-slate-800\">\n                  {detailsTask.template_title || detailsTask.title}\n                </h3>\n                {detailsTask.category_name && (\n                  <Badge variant=\"outline\" className=\"rounded-lg\">{detailsTask.category_name}</Badge>\n                )}\n                {getStatusBadge(detailsTask.status)}\n              </div>\n              <div className=\"grid gap-3 text-sm\">\n                {detailsTask.type === 'daily' && detailsTask.assigned_to_name && (\n                  <DetailRow label=\"المسؤول\" value={detailsTask.assigned_to_name} />\n                )}\n                {detailsTask.task_date && (\n                  <DetailRow label=\"التاريخ\" value={moment(detailsTask.task_date).format('YYYY-MM-DD')} />\n                )}\n                {detailsTask.due_date_time && (\n                  <DetailRow label=\"وقت الاستحقاق\" value={formatTime12h(detailsTask.due_date_time)} />\n                )}\n                {detailsTask.description && (\n                  <DetailRow label=\"الوصف\" value={detailsTask.description} multiline />\n                )}\n                {detailsTask.type === 'ad-hoc' && detailsTask.created_by_name && (\n                  <DetailRow label=\"أنشأها\" value={detailsTask.created_by_name} />\n                )}\n                {detailsTask.beneficiary && (\n                  <DetailRow label=\"الجهة المستفيدة\" value={detailsTask.beneficiary} />\n                )}\n                {detailsTask.notes && (\n                  <DetailRow label=\"ملاحظات\" value={detailsTask.notes} multiline />\n                )}\n              </div>\n              {detailsTask.status !== 'completed' && canExecute && (\n                <Button\n                  className=\"w-full rounded-xl text-white font-bold animate-pulse\"\n                  style={{ background: BRAND_PRIMARY, color: '#ffffff' }}\n                  onClick={() => {\n                    setShowDetailsModal(false);\n                    openExecuteModal(detailsTask);\n                  }}\n                >\n                  <CheckSquare className=\"h-4 w-4 ml-2\" />\n                  تنفيذ المهمة\n                </Button>\n              )}\n            </div>\n          )}\n        </DialogContent>\n      </Dialog>\n\n      {/* Execute Modal */}\n      <Dialog\n        open={showExecuteModal}\n        onOpenChange={(open) => {\n          setShowExecuteModal(open);\n          if (!open) setExecutionError('');\n        }}\n      >\n        <DialogContent className=\"max-w-2xl\">\n          <DialogHeader>\n            <div className=\"flex items-center gap-3\">\n              <CompanyLogo size=\"sm\" animated={false} />\n              <DialogTitle className=\"text-2xl font-bold\" style={{ color: BRAND_PRIMARY }}>تنفيذ المهمة</DialogTitle>\n            </div>\n          </DialogHeader>\n          <div className=\"space-y-4\">\n            <div className=\"space-y-2\">\n              <label className=\"text-sm font-semibold\">حالة التنفيذ</label>\n              <SearchableSelect\n                value={executionData.resultStatus}\n                onChange={(val) => setExecutionData({ ...executionData, resultStatus: val })}\n                options={[\n                  { value: 'completed', label: 'مكتملة (في الوقت)' },\n                  { value: 'completed_late', label: 'مكتملة (متأخرة)' },\n                  { value: 'skipped', label: 'تم التخطي' },\n                  { value: 'cancelled', label: 'ملغاة' },\n                ]}\n                getOptionLabel={(opt: any) => opt.label}\n                getOptionValue={(opt: any) => opt.value}\n                placeholder=\"اختر الحالة\"\n              />\n            </div>\n\n            {isGovSettlementTask && (executionData.resultStatus === 'completed' || executionData.resultStatus === 'completed_late') && (\n              <div className=\"space-y-3 rounded-xl border-2 p-4\" style={{ borderColor: 'rgba(6, 130, 148, 0.25)', background: 'rgba(255,255,255,0.9)' }}>\n                <p className=\"text-sm font-semibold\" style={{ color: '#2A6E85' }}>تأكيد التسوية (مطابقة مع صفحة التسويات الحكومية)</p>\n                <div className=\"grid grid-cols-1 sm:grid-cols-2 gap-3\">\n                  <div className=\"space-y-1\">\n                    <label className=\"text-sm font-medium\">تاريخ التسوية *</label>\n                    <Input\n                      type=\"date\"\n                      value={executionData.settlement_date}\n                      onChange={(e) => setExecutionData({ ...executionData, settlement_date: e.target.value })}\n                      className=\"border-2\"\n                    />\n                  </div>\n                  <div className=\"space-y-1\">\n                    <label className=\"text-sm font-medium\">قيمة التسوية (STTLE) *</label>\n                    <Input\n                      type=\"text\"\n                      inputMode=\"decimal\"\n                      placeholder=\"0.00\"\n                      value={executionData.settlement_value}\n                      onChange={(e) => setExecutionData({ ...executionData, settlement_value: e.target.value })}\n                      className=\"border-2 font-mono\"\n                      dir=\"ltr\"\n                    />\n                  </div>\n                </div>\n                <p className=\"text-xs\" style={{ color: '#068294' }}>يتم مقارنة القيمة مع مجموع STTLE في صفحة التسويات الحكومية حسب التاريخ والمصرف. عند التطابق تُقبل المهمة وتظهر «تسوية مطابقة».</p>\n              </div>\n            )}\n\n            <div className=\"space-y-2\">\n              <label className=\"text-sm font-semibold\">ملاحظات</label>\n              <Textarea\n                value={executionData.notes}\n                onChange={(e) => setExecutionData({ ...executionData, notes: e.target.value })}\n                rows={4}\n                className=\"border-2\"\n              />\n            </div>\n            <div className=\"space-y-2\">\n              <label className=\"text-sm font-semibold\">المدة (دقيقة) - اختياري</label>\n              <Input\n                type=\"number\"\n                value={executionData.durationMinutes}\n                onChange={(e) =>\n                  setExecutionData({ ...executionData, durationMinutes: e.target.value })\n                }\n                min=\"0\"\n                className=\"border-2\"\n              />\n            </div>\n            {executionError && (\n              <div className=\"rounded-xl border-2 border-red-200 bg-red-50 p-3 text-sm text-red-800\" role=\"alert\">\n                {executionError}\n              </div>\n            )}\n          </div>\n          <DialogFooter className=\"gap-2 pt-4 border-t border-slate-200\">\n            <Button variant=\"outline\" onClick={() => setShowExecuteModal(false)} className=\"rounded-xl\">\n              إلغاء\n            </Button>\n            <Button\n              onClick={handleExecute}\n              disabled={executeTask.isPending}\n              className=\"rounded-xl font-semibold\"\n              style={{ background: 'linear-gradient(135deg, #026174, #068294)', color: '#fff' }}\n            >\n              {executeTask.isPending ? 'جاري الحفظ...' : 'حفظ'}\n            </Button>\n          </DialogFooter>\n        </DialogContent>\n      </Dialog>\n\n      {/* Create from Template Modal */}\n      <Dialog open={showCreateModal} onOpenChange={setShowCreateModal}>\n        <DialogContent className=\"max-w-lg\">\n          <DialogHeader>\n            <div className=\"flex items-center gap-3\">\n              <CompanyLogo size=\"sm\" animated={false} />\n              <DialogTitle className=\"text-xl text-slate-900\">إنشاء مهمة من قالب</DialogTitle>\n            </div>\n            <p className=\"text-sm text-slate-500 mt-1\">اختر قالبًا لإنشاء مهمة خاصة فورًا.</p>\n          </DialogHeader>\n          <div className=\"space-y-4\">\n            <div className=\"space-y-2\">\n              <label className=\"text-sm font-medium text-slate-700\">اختر قالب المهمة *</label>\n              <SearchableSelect\n                value=\"\"\n                onChange={handleCreateFromTemplate}\n                options={templates}\n                getOptionLabel={(opt: any) => opt.title}\n                getOptionValue={(opt: any) => opt.id.toString()}\n                placeholder=\"— اختر قالب —\"\n                searchPlaceholder=\"ابحث عن قالب...\"\n              />\n            </div>\n          </div>\n          <DialogFooter className=\"gap-2 pt-4 border-t border-slate-200\">\n            <Button variant=\"outline\" onClick={() => setShowCreateModal(false)} className=\"rounded-xl\">\n              إلغاء\n            </Button>\n          </DialogFooter>\n        </DialogContent>\n      </Dialog>\n      </div>\n    </div>\n  );\n}\n","import { useQuery, useMutation, useQueryClient } from '@tanstack/react-query';\nimport api from '@/lib/api';\nimport { useToast } from '@/hooks/use-toast';\nimport { useTasksStore } from '@/store/useTasksStore';\n\nexport function useDailyTasks(filters?: {\n  date?: string;\n  dateFrom?: string;\n  dateTo?: string;\n  view?: string;\n  assignedTo?: string;\n}) {\n  const queryClient = useQueryClient();\n  const { setDailyTasks } = useTasksStore();\n\n  const query = useQuery({\n    queryKey: ['daily-tasks', filters],\n    queryFn: async () => {\n      const params = new URLSearchParams();\n      if (filters?.date) params.append('date', filters.date);\n      if (filters?.dateFrom) params.append('dateFrom', filters.dateFrom);\n      if (filters?.dateTo) params.append('dateTo', filters.dateTo);\n      if (filters?.view) params.append('view', filters.view);\n      if (filters?.assignedTo) params.append('assignedTo', filters.assignedTo);\n\n      const response = await api.get(`/tasks/daily?${params.toString()}`);\n      const tasks = response.data.map((task: any) => ({\n        ...task,\n        type: 'daily' as const,\n      }));\n      setDailyTasks(tasks);\n      return tasks;\n    },\n  });\n\n  return query;\n}\n\nexport function useAdHocTasks(filters?: {\n  dateFrom?: string;\n  dateTo?: string;\n  view?: string;\n  assignedTo?: string;\n}) {\n  const queryClient = useQueryClient();\n  const { setAdHocTasks } = useTasksStore();\n\n  const query = useQuery({\n    queryKey: ['ad-hoc-tasks', filters],\n    queryFn: async () => {\n      const params = new URLSearchParams();\n      if (filters?.dateFrom) params.append('dateFrom', filters.dateFrom);\n      if (filters?.dateTo) params.append('dateTo', filters.dateTo);\n      if (filters?.view) params.append('view', filters.view);\n      if (filters?.assignedTo) params.append('assignedTo', filters.assignedTo);\n\n      const response = await api.get(`/tasks/ad-hoc?${params.toString()}`);\n      const tasks = response.data.map((task: any) => ({\n        ...task,\n        type: 'ad-hoc' as const,\n      }));\n      setAdHocTasks(tasks);\n      return tasks;\n    },\n  });\n\n  return query;\n}\n\nexport function useExecuteTask() {\n  const queryClient = useQueryClient();\n  const { toast } = useToast();\n\n  return useMutation({\n    mutationFn: async (data: {\n      dailyTaskId?: number;\n      adHocTaskId?: number;\n      resultStatus: string;\n      notes?: string;\n      durationMinutes?: number;\n      settlement_date?: string;\n      settlement_value?: string | number;\n    }) => {\n      const response = await api.post('/tasks/execute', data);\n      return response.data;\n    },\n    onSuccess: (data: any) => {\n      queryClient.invalidateQueries({ queryKey: ['daily-tasks'] });\n      queryClient.invalidateQueries({ queryKey: ['ad-hoc-tasks'] });\n      if (data?.verification_status === 'matched') {\n        toast({\n          title: 'تسوية مطابقة',\n          description: 'تم التحقق من قيمة التسوية مع صفحة التسويات الحكومية بنجاح.',\n          variant: 'success',\n        });\n      } else {\n        toast({\n          title: 'نجح',\n          description: 'تم تسجيل تنفيذ المهمة بنجاح',\n          variant: 'success',\n        });\n      }\n    },\n    onError: (error: any) => {\n      const code = error.response?.data?.code;\n      if (code === 'SETTLEMENT_MISMATCH') return;\n      toast({\n        title: 'خطأ',\n        description: error.response?.data?.error || error.message || 'حدث خطأ',\n        variant: 'destructive',\n      });\n    },\n  });\n}\n\nexport function useCreateAdHocTask() {\n  const queryClient = useQueryClient();\n  const { toast } = useToast();\n\n  return useMutation({\n    mutationFn: async (data: {\n      templateId?: number;\n      categoryId?: number;\n      title: string;\n      description?: string;\n      beneficiary?: string;\n    }) => {\n      const response = await api.post('/tasks/ad-hoc', data);\n      return response.data;\n    },\n    onSuccess: () => {\n      queryClient.invalidateQueries({ queryKey: ['ad-hoc-tasks'] });\n      toast({\n        title: 'نجح',\n        description: 'تم إنشاء المهمة الخاصة بنجاح',\n        variant: 'success',\n      });\n    },\n    onError: (error: any) => {\n      toast({\n        title: 'خطأ',\n        description: error.response?.data?.error || 'حدث خطأ',\n        variant: 'destructive',\n      });\n    },\n  });\n}\n\nexport function useGenerateDailyTasks() {\n  const queryClient = useQueryClient();\n  const { toast } = useToast();\n\n  return useMutation({\n    mutationFn: async () => {\n      const response = await api.post('/tasks/generate-daily');\n      return response.data;\n    },\n    onSuccess: (data) => {\n      queryClient.invalidateQueries({ queryKey: ['daily-tasks'] });\n      toast({\n        title: 'نجح',\n        description: data.message || 'تم توليد المهام بنجاح',\n        variant: 'success',\n      });\n    },\n    onError: (error: any) => {\n      toast({\n        title: 'خطأ',\n        description: error.response?.data?.error || 'حدث خطأ',\n        variant: 'destructive',\n      });\n    },\n  });\n}\n"],"names":["badgeVariants","cva","variants","variant","default","secondary","destructive","outline","success","warning","info","defaultVariants","Badge","_ref","className","props","_objectWithoutProperties","_excluded","_jsx","_objectSpread","cn","Eye","createLucideIcon","d","key","cx","cy","r","Textarea","React","ref","displayName","RefreshCw","useTasksStore","create","set","dailyTasks","adHocTasks","setDailyTasks","tasks","setAdHocTasks","addTask","task","state","type","updateTask","id","updates","map","t","removeTask","filter","SettlementStamp","show","onComplete","duration","subtitle","visible","setVisible","useState","progress","setProgress","useEffect","start","Date","now","interval","setInterval","elapsed","Math","min","setTimeout","clearInterval","clearTimeout","AnimatePresence","children","_jsxs","motion","div","initial","opacity","animate","exit","transition","style","background","scale","delay","rotate","stiffness","damping","src","alt","fill","viewBox","stroke","strokeWidth","strokeLinecap","strokeLinejoin","p","y","width","concat","BRAND_PRIMARY","DetailRow","label","value","multiline","borderColor","color","EmptyTasksCard","_ref2","message","boxShadow","border","FileText","TaskCard","_ref3","index","getStatusBadge","onDetails","onExecute","onDelete","canExecute","canDelete","sc","completed","bg","bar","pending","overdue","status","title","template_title","whileHover","zIndex","ease","right","category_name","target_settlement_date","dir","String","slice","assigned_to_name","created_by_name","task_date","moment","format","button","onClick","e","stopPropagation","whileTap","CheckSquare","Trash2","TasksV2","_selectedTask$templat","user","useAuthStore","toast","useToast","searchQuery","setSearchQuery","filterView","setFilterView","dateMode","setDateMode","filterDate","setFilterDate","tz","filterDateFrom","setFilterDateFrom","filterDateTo","setFilterDateTo","filterAssignee","setFilterAssignee","viewMode","setViewMode","filterTaskType","setFilterTaskType","showExecuteModal","setShowExecuteModal","showCreateModal","setShowCreateModal","showDetailsModal","setShowDetailsModal","detailsTask","setDetailsTask","selectedTask","setSelectedTask","executionData","setExecutionData","resultStatus","notes","durationMinutes","settlement_date","settlement_value","executionError","setExecutionError","showSettlementStamp","setShowSettlementStamp","canFilterByAssignee","useHasPermission","canCreateAdHoc","canGenerateDaily","canDeleteTask","taskToDelete","setTaskToDelete","deleteSubmitting","setDeleteSubmitting","deleteAllConfirm","setDeleteAllConfirm","deleteAllSubmitting","setDeleteAllSubmitting","queryClient","useQueryClient","dailyFilters","date","dateFrom","dateTo","view","assignedTo","adHocFilters","data","isLoading","dailyLoading","refetch","refetchDaily","filters","useQuery","queryKey","queryFn","async","params","URLSearchParams","append","api","get","toString","useDailyTasks","adHocLoading","useAdHocTasks","executeTask","useMutation","mutationFn","post","onSuccess","invalidateQueries","verification_status","description","onError","error","_error$response","_error$response$data","_error$response2","_error$response2$data","response","code","useExecuteTask","createTask","_error$response3","_error$response3$data","useCreateAdHocTask","generateTasks","_error$response4","_error$response4$data","useGenerateDailyTasks","then","res","generated","catch","users","templates","sortByIncompleteFirst","sort","a","b","aIncomplete","bIncomplete","filterBySearch","trim","q","toLowerCase","category","assignee","creator","includes","sortedDailyTasks","useMemo","sortedAdHocTasks","showDailySection","showAdHocSection","stats","total","length","isGovSettlementTask","template_required_fields","category_type","openExecuteModal","_task$template_requir","prev","handleDeleteClick","cancelDelete","config","cancelled","skipped","padding","maxWidth","LayoutGrid","Table2","mutate","disabled","isPending","Plus","KpiCards","items","Icon","glow","gradient","Clock","AlertCircle","Filter","Search","placeholder","onChange","target","SearchableSelect","val","options","getOptionLabel","opt","getOptionValue","searchPlaceholder","Input","_Fragment","u","name","_rowType","Calendar","undefined","Dialog","open","onOpenChange","DialogContent","DialogHeader","DialogTitle","DialogFooter","Button","path","delete","Promise","all","err","_err$response","_err$response$data","_res$data","_err$response2","_err$response2$data","due_date_time","formatTime12h","beneficiary","CompanyLogo","size","animated","inputMode","rows","role","_executionData$settle","_executionData$settle2","dailyId","Number","adHocId","isNaN","payload","dailyTaskId","adHocTaskId","parseInt","_executionData$settle3","_executionData$settle4","_executionData$settle5","_executionData$settle6","raw","replace","call","mutateAsync","_err$response3","_ref4","_ref5","_data$error","msg","expected_sum_sttle","toLocaleString","template","find","templateId","created","categoryId","category_id"],"ignoreList":[],"sourceRoot":""}
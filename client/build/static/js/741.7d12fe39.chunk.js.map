{"version":3,"file":"static/js/741.7d12fe39.chunk.js","mappings":"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","sources":["../node_modules/lucide-react/src/icons/download.ts","../node_modules/lucide-react/src/icons/trash-2.ts","../node_modules/lucide-react/src/icons/file-stack.ts","hooks/useHasPermission.ts","../node_modules/lucide-react/src/icons/filter.ts","../node_modules/lucide-react/src/icons/search.ts","../node_modules/lucide-react/src/icons/upload.ts","../node_modules/lucide-react/src/icons/building-2.ts","../node_modules/lucide-react/src/icons/hash.ts","components/Loading.js","../node_modules/lucide-react/src/icons/chevron-down.ts","../node_modules/lucide-react/src/icons/ban.ts","../node_modules/lucide-react/src/icons/history.ts","pages/admin/RTGS.tsx"],"sourcesContent":["import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name Download\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMjEgMTV2NGEyIDIgMCAwIDEtMiAySDVhMiAyIDAgMCAxLTItMnYtNCIgLz4KICA8cG9seWxpbmUgcG9pbnRzPSI3IDEwIDEyIDE1IDE3IDEwIiAvPgogIDxsaW5lIHgxPSIxMiIgeDI9IjEyIiB5MT0iMTUiIHkyPSIzIiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/download\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Download = createLucideIcon('Download', [\n  ['path', { d: 'M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4', key: 'ih7n3h' }],\n  ['polyline', { points: '7 10 12 15 17 10', key: '2ggqvy' }],\n  ['line', { x1: '12', x2: '12', y1: '15', y2: '3', key: '1vk2je' }],\n]);\n\nexport default Download;\n","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name Trash2\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMyA2aDE4IiAvPgogIDxwYXRoIGQ9Ik0xOSA2djE0YzAgMS0xIDItMiAySDdjLTEgMC0yLTEtMi0yVjYiIC8+CiAgPHBhdGggZD0iTTggNlY0YzAtMSAxLTIgMi0yaDRjMSAwIDIgMSAyIDJ2MiIgLz4KICA8bGluZSB4MT0iMTAiIHgyPSIxMCIgeTE9IjExIiB5Mj0iMTciIC8+CiAgPGxpbmUgeDE9IjE0IiB4Mj0iMTQiIHkxPSIxMSIgeTI9IjE3IiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/trash-2\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Trash2 = createLucideIcon('Trash2', [\n  ['path', { d: 'M3 6h18', key: 'd0wm0j' }],\n  ['path', { d: 'M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6', key: '4alrt4' }],\n  ['path', { d: 'M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2', key: 'v07s0e' }],\n  ['line', { x1: '10', x2: '10', y1: '11', y2: '17', key: '1uufr5' }],\n  ['line', { x1: '14', x2: '14', y1: '11', y2: '17', key: 'xtxkd' }],\n]);\n\nexport default Trash2;\n","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name FileStack\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMTYgMnY1aDUiIC8+CiAgPHBhdGggZD0iTTIxIDZ2Ni41YzAgLjgtLjcgMS41LTEuNSAxLjVoLTdjLS44IDAtMS41LS43LTEuNS0xLjV2LTljMC0uOC43LTEuNSAxLjUtMS41SDE3bDQgNHoiIC8+CiAgPHBhdGggZD0iTTcgOHY4LjhjMCAuMy4yLjYuNC44LjIuMi41LjQuOC40SDE1IiAvPgogIDxwYXRoIGQ9Ik0zIDEydjguOGMwIC4zLjIuNi40LjguMi4yLjUuNC44LjRIMTEiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/file-stack\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst FileStack = createLucideIcon('FileStack', [\n  ['path', { d: 'M16 2v5h5', key: 'kt2in0' }],\n  [\n    'path',\n    {\n      d: 'M21 6v6.5c0 .8-.7 1.5-1.5 1.5h-7c-.8 0-1.5-.7-1.5-1.5v-9c0-.8.7-1.5 1.5-1.5H17l4 4z',\n      key: '1km23n',\n    },\n  ],\n  ['path', { d: 'M7 8v8.8c0 .3.2.6.4.8.2.2.5.4.8.4H15', key: '16874u' }],\n  ['path', { d: 'M3 12v8.8c0 .3.2.6.4.8.2.2.5.4.8.4H11', key: 'k2ox98' }],\n]);\n\nexport default FileStack;\n","import { useAuthStore } from '@/store/useAuthStore';\nimport { hasPermission } from '@/lib/permissions';\n\n/**\n * التحقق من صلاحية المستخدم لصفحة + إجراء\n * admin يملك كل الصلاحيات تلقائياً\n */\nexport function useHasPermission(pageKey: string, actionKey: string): boolean {\n  const user = useAuthStore((s) => s.user);\n  if (!user) return false;\n  return hasPermission(user.permissions, user.role, pageKey, actionKey);\n}\n\n/**\n * التحقق من صلاحية عرض صفحة (view)\n */\nexport function useCanViewPage(pageKey: string): boolean {\n  return useHasPermission(pageKey, 'view');\n}\n","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name Filter\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cG9seWdvbiBwb2ludHM9IjIyIDMgMiAzIDEwIDEyLjQ2IDEwIDE5IDE0IDIxIDE0IDEyLjQ2IDIyIDMiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/filter\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Filter = createLucideIcon('Filter', [\n  ['polygon', { points: '22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3', key: '1yg77f' }],\n]);\n\nexport default Filter;\n","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name Search\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8Y2lyY2xlIGN4PSIxMSIgY3k9IjExIiByPSI4IiAvPgogIDxwYXRoIGQ9Im0yMSAyMS00LjMtNC4zIiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/search\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Search = createLucideIcon('Search', [\n  ['circle', { cx: '11', cy: '11', r: '8', key: '4ej97u' }],\n  ['path', { d: 'm21 21-4.3-4.3', key: '1qie3q' }],\n]);\n\nexport default Search;\n","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name Upload\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMjEgMTV2NGEyIDIgMCAwIDEtMiAySDVhMiAyIDAgMCAxLTItMnYtNCIgLz4KICA8cG9seWxpbmUgcG9pbnRzPSIxNyA4IDEyIDMgNyA4IiAvPgogIDxsaW5lIHgxPSIxMiIgeDI9IjEyIiB5MT0iMyIgeTI9IjE1IiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/upload\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Upload = createLucideIcon('Upload', [\n  ['path', { d: 'M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4', key: 'ih7n3h' }],\n  ['polyline', { points: '17 8 12 3 7 8', key: 't8dd8p' }],\n  ['line', { x1: '12', x2: '12', y1: '3', y2: '15', key: 'widbto' }],\n]);\n\nexport default Upload;\n","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name Building2\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNNiAyMlY0YTIgMiAwIDAgMSAyLTJoOGEyIDIgMCAwIDEgMiAydjE4WiIgLz4KICA8cGF0aCBkPSJNNiAxMkg0YTIgMiAwIDAgMC0yIDJ2NmEyIDIgMCAwIDAgMiAyaDIiIC8+CiAgPHBhdGggZD0iTTE4IDloMmEyIDIgMCAwIDEgMiAydjlhMiAyIDAgMCAxLTIgMmgtMiIgLz4KICA8cGF0aCBkPSJNMTAgNmg0IiAvPgogIDxwYXRoIGQ9Ik0xMCAxMGg0IiAvPgogIDxwYXRoIGQ9Ik0xMCAxNGg0IiAvPgogIDxwYXRoIGQ9Ik0xMCAxOGg0IiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/building-2\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Building2 = createLucideIcon('Building2', [\n  ['path', { d: 'M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z', key: '1b4qmf' }],\n  ['path', { d: 'M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2', key: 'i71pzd' }],\n  ['path', { d: 'M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2', key: '10jefs' }],\n  ['path', { d: 'M10 6h4', key: '1itunk' }],\n  ['path', { d: 'M10 10h4', key: 'tcdvrf' }],\n  ['path', { d: 'M10 14h4', key: 'kelpxr' }],\n  ['path', { d: 'M10 18h4', key: '1ulq68' }],\n]);\n\nexport default Building2;\n","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name Hash\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8bGluZSB4MT0iNCIgeDI9IjIwIiB5MT0iOSIgeTI9IjkiIC8+CiAgPGxpbmUgeDE9IjQiIHgyPSIyMCIgeTE9IjE1IiB5Mj0iMTUiIC8+CiAgPGxpbmUgeDE9IjEwIiB4Mj0iOCIgeTE9IjMiIHkyPSIyMSIgLz4KICA8bGluZSB4MT0iMTYiIHgyPSIxNCIgeTE9IjMiIHkyPSIyMSIgLz4KPC9zdmc+Cg==) - https://lucide.dev/icons/hash\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Hash = createLucideIcon('Hash', [\n  ['line', { x1: '4', x2: '20', y1: '9', y2: '9', key: '4lhtct' }],\n  ['line', { x1: '4', x2: '20', y1: '15', y2: '15', key: 'vyu0kd' }],\n  ['line', { x1: '10', x2: '8', y1: '3', y2: '21', key: '1ggp8o' }],\n  ['line', { x1: '16', x2: '14', y1: '3', y2: '21', key: 'weycgp' }],\n]);\n\nexport default Hash;\n","import React from 'react';\n\nexport default function Loading({ message = 'جاري التحميل...' }) {\n  return (\n    <div className=\"loading-wrapper\">\n      <div className=\"loading-spinner\" />\n      <p className=\"loading-message\">{message}</p>\n    </div>\n  );\n}\n","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name ChevronDown\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJtNiA5IDYgNiA2LTYiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/chevron-down\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst ChevronDown = createLucideIcon('ChevronDown', [\n  ['path', { d: 'm6 9 6 6 6-6', key: 'qrunsl' }],\n]);\n\nexport default ChevronDown;\n","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name Ban\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8Y2lyY2xlIGN4PSIxMiIgY3k9IjEyIiByPSIxMCIgLz4KICA8cGF0aCBkPSJtNC45IDQuOSAxNC4yIDE0LjIiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/ban\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Ban = createLucideIcon('Ban', [\n  ['circle', { cx: '12', cy: '12', r: '10', key: '1mglay' }],\n  ['path', { d: 'm4.9 4.9 14.2 14.2', key: '1m5liu' }],\n]);\n\nexport default Ban;\n","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name History\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMyAxMmE5IDkgMCAxIDAgOS05IDkuNzUgOS43NSAwIDAgMC02Ljc0IDIuNzRMMyA4IiAvPgogIDxwYXRoIGQ9Ik0zIDN2NWg1IiAvPgogIDxwYXRoIGQ9Ik0xMiA3djVsNCAyIiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/history\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst History = createLucideIcon('History', [\n  ['path', { d: 'M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8', key: '1357e3' }],\n  ['path', { d: 'M3 3v5h5', key: '1xhq8a' }],\n  ['path', { d: 'M12 7v5l4 2', key: '1fdv2h' }],\n]);\n\nexport default History;\n","import { useState, useEffect, useRef, useMemo } from 'react';\nimport { Link } from 'react-router-dom';\nimport { useHasPermission } from '@/hooks/useHasPermission';\nimport api from '@/lib/api';\nimport { useToast } from '@/hooks/use-toast';\nimport Loading from '@/components/Loading';\nimport {\n  Upload,\n  FileSpreadsheet,\n  Filter,\n  Search,\n  ChevronLeft,\n  ChevronRight,\n  History,\n  Banknote,\n  Hash,\n  Calendar,\n  Building2,\n  FileText,\n  Download,\n  ChevronDown,\n  X,\n  Trash2,\n  FileStack,\n  CheckCircle2,\n  Ban,\n  Clock,\n  Settings,\n} from 'lucide-react';\n\ninterface RtgsRow {\n  id: number;\n  rrn: string;\n  sttl_date: string | null;\n  mer: string | null;\n  governorate?: string | null;\n  directorate_name: string | null;\n  ministry: string | null;\n  merchant_iban?: string | null;\n  merchant_display_name?: string | null;\n  bank_display_name: string | null;\n  amount: number | null;\n  fees: number | null;\n  acq: number | null;\n  sttle: number | null;\n  card_number_masked: string | null;\n  mcc: number | null;\n  terminal_type: string | null;\n  mer_name: string | null;\n  message_type: string | null;\n  transaction_date: string | null;\n  source_filename?: string | null;\n  merchant_details?: string | null;\n}\n\ninterface ImportLog {\n  id: number;\n  filename: string | null;\n  total_rows: number;\n  inserted_rows: number;\n  skipped_duplicates: number;\n  rejected_rows: number;\n  created_at: string;\n  user_name: string | null;\n  duration_ms?: number | null;\n}\n\n/** تاريخ التسوية (STTL_DATE) — عرض التاريخ فقط بدون وقت لتجنب اختلاف التوقيت */\nconst formatDate = (d: string | Date | null | undefined) => {\n  if (d == null) return '—';\n  if (d instanceof Date && !isNaN(d.getTime())) return d.toISOString().slice(0, 10);\n  if (typeof d === 'string') return d.slice(0, 10) || '—';\n  return '—';\n};\n\n/** عرض الأرقام مع دقة كافية للعمولة — 6 منازل عشرية لضمان التطابق */\nconst formatNum = (n: number | null) => {\n  if (n == null) return '—';\n  return Number(n).toLocaleString('en-US', { minimumFractionDigits: 0, maximumFractionDigits: 6 });\n};\n\n/** كروت KPI لسجل الاستيراد */\nfunction ImportLogKpiCards({ importLogs }: { importLogs: ImportLog[] }) {\n  const kpi = useMemo(() => ({\n    totalImports: importLogs.length,\n    totalInserted: importLogs.reduce((s, l) => s + (l.inserted_rows || 0), 0),\n    totalSkipped: importLogs.reduce((s, l) => s + (l.skipped_duplicates || 0), 0),\n    totalRejected: importLogs.reduce((s, l) => s + (l.rejected_rows || 0), 0),\n  }), [importLogs]);\n\n  return (\n    <div className=\"grid grid-cols-2 md:grid-cols-4 gap-3 mb-5\">\n      {[\n        { label: 'عدد عمليات الاستيراد', value: kpi.totalImports.toLocaleString('en-US'), Icon: FileStack, primary: true },\n        { label: 'إجمالي المدخلة', value: kpi.totalInserted.toLocaleString('en-US'), Icon: CheckCircle2, color: 'emerald' },\n        { label: 'إجمالي التخطي', value: kpi.totalSkipped.toLocaleString('en-US'), Icon: Clock, color: 'amber' },\n        { label: 'إجمالي المرفوض', value: kpi.totalRejected.toLocaleString('en-US'), Icon: Ban, color: 'red' },\n      ].map((item, idx) => {\n        const Icon = item.Icon;\n        const colorClass = item.color === 'emerald' ? 'text-emerald-600' : item.color === 'amber' ? 'text-amber-600' : item.color === 'red' ? 'text-red-600' : '';\n        return (\n          <div\n            key={idx}\n            className=\"group relative overflow-hidden rounded-xl bg-white p-3 flex items-center gap-3 border border-slate-200/80 shadow-[0_2px_12px_rgba(15,23,42,0.05)] hover:shadow-[0_8px_24px_rgba(2,97,116,0.12)] transition-all duration-200\"\n          >\n            <div className={`absolute inset-y-0 start-0 w-1 rounded-s-xl bg-gradient-to-b ${item.primary ? 'from-teal-600 to-teal-500/80' : 'from-slate-400 to-slate-300/80'} opacity-90`} />\n            <div className={`flex-shrink-0 w-10 h-10 rounded-lg flex items-center justify-center ${item.primary ? 'bg-teal-100' : 'bg-slate-100'}`}>\n              <Icon className={`w-5 h-5 ${item.primary ? 'text-teal-600' : colorClass || 'text-slate-600'}`} />\n            </div>\n            <div className=\"flex-1 min-w-0\">\n              <p className=\"text-xs text-slate-500 m-0 font-medium\">{item.label}</p>\n              <p className={`m-0 font-bold tabular-nums text-base ${item.primary ? 'text-[#026174]' : colorClass || 'text-slate-700'}`} dir=\"ltr\">{item.value}</p>\n            </div>\n          </div>\n        );\n      })}\n    </div>\n  );\n}\n\n/** تاريخ الحركة (TRANSCATIONDATE) — عرض التاريخ والوقت */\nconst formatTransactionDate = (d: string | Date | null | undefined) => {\n  if (d == null) return '—';\n  if (d instanceof Date && !isNaN(d.getTime())) return d.toISOString().slice(0, 19).replace('T', ' ');\n  if (typeof d === 'string') {\n    const s = d.slice(0, 19).replace('T', ' ');\n    return s || '—';\n  }\n  return '—';\n};\n\nfunction MultiSelectFilter({\n  label,\n  options,\n  value,\n  onChange,\n  placeholder = 'بحث...',\n}: {\n  label: string;\n  options: (string | number)[];\n  value: string;\n  onChange: (v: string) => void;\n  placeholder?: string;\n}) {\n  const [open, setOpen] = useState(false);\n  const [search, setSearch] = useState('');\n  const selected = value ? value.split(',').map((s) => s.trim()).filter(Boolean) : [];\n  const opts = options.map(String);\n  const filtered = opts.filter((o) => o.toLowerCase().includes(search.toLowerCase()));\n  const toggle = (opt: string) => {\n    const next = selected.includes(opt) ? selected.filter((s) => s !== opt) : [...selected, opt];\n    onChange(next.join(','));\n  };\n  const clear = () => onChange('');\n  return (\n    <div className={`relative ${open ? 'rtgs-multiselect-open' : ''}`}>\n      <label className=\"block text-xs font-semibold mb-1 rtgs-multiselect-label\" style={{ color: '#0f172a' }}>{label}</label>\n      <button\n        type=\"button\"\n        onClick={() => setOpen(!open)}\n        className=\"rtgs-multiselect-trigger w-full px-3 py-2.5 rounded-xl text-sm text-right flex items-center justify-between gap-2\"\n      >\n        <span className=\"truncate\">\n          {selected.length === 0 ? 'الكل' : selected.length === 1 ? selected[0] : `${selected.length} محدد`}\n        </span>\n        <ChevronDown className=\"w-4 h-4 flex-shrink-0\" />\n      </button>\n      {open && (\n        <>\n          <div className=\"absolute left-0 right-0 top-full mt-1 z-20 rounded-xl border-2 bg-white shadow-xl py-2 min-w-[200px] max-h-64 flex flex-col\" style={{ borderColor: '#b8dce2' }}>\n            <input\n              type=\"text\"\n              placeholder={placeholder}\n              value={search}\n              onChange={(e) => setSearch(e.target.value)}\n              className=\"mx-2 mb-2 px-2 py-1.5 rounded-lg text-sm border-2 focus:border-[#026174] focus:ring-2 focus:ring-[#026174]/20\"\n              style={{ borderColor: '#b8dce2' }}\n            />\n            <div className=\"overflow-auto flex-1 px-2\">\n              <button type=\"button\" onClick={clear} className=\"w-full text-right py-1.5 text-sm text-slate-500 hover:bg-slate-100 rounded\">\n                (الكل)\n              </button>\n              {filtered.slice(0, 100).map((opt) => (\n                <label key={opt} className=\"flex items-center gap-2 py-1.5 hover:bg-slate-50 rounded cursor-pointer text-sm\">\n                  <input type=\"checkbox\" checked={selected.includes(opt)} onChange={() => toggle(opt)} className=\"rounded\" />\n                  <span className=\"truncate\">{opt}</span>\n                </label>\n              ))}\n            </div>\n            <button type=\"button\" onClick={() => setOpen(false)} className=\"mx-2 mt-2 py-1.5 rounded bg-slate-100 text-sm font-medium\">\n              إغلاق\n            </button>\n          </div>\n          <div className=\"fixed inset-0 z-10\" onClick={() => setOpen(false)} aria-hidden />\n        </>\n      )}\n    </div>\n  );\n}\n\nfunction ColumnFilterPopover({\n  title,\n  options,\n  value,\n  onApply,\n  onClose,\n}: {\n  title: string;\n  options: (string | number)[];\n  value: string;\n  onApply: (v: string) => void;\n  onClose: () => void;\n}) {\n  const [search, setSearch] = useState('');\n  const [draft, setDraft] = useState(value);\n  useEffect(() => { setDraft(value); }, [value]);\n  const opts = options.map(String);\n  const filtered = opts.filter((o) => o.toLowerCase().includes(search.toLowerCase()));\n  const selectedDraft = draft ? draft.split(',').map((s) => s.trim()).filter(Boolean) : [];\n  const toggleDraft = (opt: string) => {\n    const next = selectedDraft.includes(opt) ? selectedDraft.filter((s) => s !== opt) : [...selectedDraft, opt];\n    setDraft(next.join(','));\n  };\n  return (\n    <>\n      <div className=\"rtgs-filter-popover absolute left-0 top-full mt-1 z-30 min-w-[220px] max-w-[280px] rounded-xl border border-slate-200 bg-white shadow-xl py-3\">\n        <p className=\"px-3 font-semibold text-sm mb-2\" style={{ color: '#0f172a' }}>{title}</p>\n        <input\n          type=\"text\"\n          placeholder=\"بحث...\"\n          value={search}\n          onChange={(e) => setSearch(e.target.value)}\n          className=\"mx-2 mb-2 w-[calc(100%-1rem)] px-2 py-1.5 border border-slate-300 rounded text-sm bg-white\"\n          style={{ color: '#0f172a' }}\n        />\n        <div className=\"max-h-48 overflow-auto px-2\">\n          <button type=\"button\" onClick={() => setDraft('')} className=\"w-full text-right py-1.5 text-sm hover:bg-slate-100 rounded\" style={{ color: '#334155' }}>\n            (الكل)\n          </button>\n          {filtered.slice(0, 80).map((opt) => (\n            <label key={opt} className=\"flex items-center gap-2 py-1.5 hover:bg-slate-50 rounded cursor-pointer text-sm\" style={{ color: '#0f172a' }}>\n              <input type=\"checkbox\" checked={selectedDraft.includes(opt)} onChange={() => toggleDraft(opt)} className=\"rounded border-slate-300\" />\n              <span className=\"truncate\" style={{ color: '#0f172a' }}>{opt}</span>\n            </label>\n          ))}\n        </div>\n        <div className=\"flex gap-2 px-2 mt-2\">\n          <button type=\"button\" onClick={() => onApply(draft)} className=\"flex-1 py-1.5 rounded-lg text-sm font-medium text-white\" style={{ background: 'linear-gradient(135deg, #026174, #068294)', color: '#ffffff' }}>\n            تطبيق\n          </button>\n          <button type=\"button\" onClick={onClose} className=\"py-1.5 px-3 rounded-lg text-sm font-medium bg-slate-100 hover:bg-slate-200\" style={{ color: '#0f172a' }}>\n            إلغاء\n          </button>\n        </div>\n      </div>\n      <div className=\"fixed inset-0 z-[20]\" onClick={onClose} aria-hidden />\n    </>\n  );\n}\n\nexport function RTGS() {\n  const [rtgs, setRtgs] = useState<RtgsRow[]>([]);\n  const [loading, setLoading] = useState(true);\n  const [pagination, setPagination] = useState({ page: 1, limit: 50, total: 0, totalPages: 0 });\n  const [filters, setFilters] = useState({\n    sttl_date_from: '',\n    sttl_date_to: '',\n    transaction_date_from: '',\n    transaction_date_to: '',\n    mer: '',\n    mcc: '',\n    inst_id2: '',\n    search: '',\n    text_search: '',\n    message_type: '',\n    ministry: '',\n    directorate_name: '',\n    bank_display_name: '',\n    terminal_type: '',\n    import_log_id: '',\n    governorate: '',\n    details: '',\n    iban: '',\n  });\n  const [filterOptions, setFilterOptions] = useState<{\n    merList: string[];\n    mccList: (string | number)[];\n    instId2List: string[];\n    messageTypeList: string[];\n    terminalTypeList: string[];\n    ministryList: string[];\n    directorateNameList: string[];\n    bankDisplayNameList: string[];\n    governorateList: string[];\n  }>({\n    merList: [], mccList: [], instId2List: [],\n    messageTypeList: [], terminalTypeList: [], ministryList: [], directorateNameList: [], bankDisplayNameList: [], governorateList: [],\n  });\n  const [columnFilterOpen, setColumnFilterOpen] = useState<string | null>(null);\n  const [exporting, setExporting] = useState(false);\n  const [importLogs, setImportLogs] = useState<ImportLog[]>([]);\n  const [showImportModal, setShowImportModal] = useState(false);\n  const [showLogsModal, setShowLogsModal] = useState(false);\n  const [deleteConfirmLog, setDeleteConfirmLog] = useState<ImportLog | null>(null);\n  const [showClearAllConfirm, setShowClearAllConfirm] = useState(false);\n  const [logFilters, setLogFilters] = useState({ search: '', dateFrom: '', dateTo: '', user: '' });\n  const [importing, setImporting] = useState(false);\n  const [importProgress, setImportProgress] = useState(0);\n  const [importProgressVisible, setImportProgressVisible] = useState(false);\n  const [importRowsCount, setImportRowsCount] = useState(0);\n  const progressIntervalRef = useRef<ReturnType<typeof setInterval> | null>(null);\n  const [importSummary, setImportSummary] = useState<{\n    total_rows: number;\n    inserted_rows: number;\n    skipped_duplicates: number;\n    rejected_rows: number;\n  } | null>(null);\n  const fileInputRef = useRef<HTMLInputElement>(null);\n  const { toast } = useToast();\n  const canImport = useHasPermission('rtgs', 'import');\n  const canExport = useHasPermission('rtgs', 'export');\n  const canDeleteAll = useHasPermission('rtgs', 'delete_all');\n  const canDeleteImport = useHasPermission('rtgs', 'delete_import');\n  const canViewImportLogs = useHasPermission('rtgs', 'view_import_logs');\n  const canAccessSettings = useHasPermission('rtgs', 'access_settings');\n\n  const buildQueryParams = () => {\n    const query: Record<string, string> = {\n      page: String(pagination.page),\n      limit: String(pagination.limit),\n    };\n    if (filters.sttl_date_from) query.sttl_date_from = filters.sttl_date_from;\n    if (filters.sttl_date_to) query.sttl_date_to = filters.sttl_date_to;\n    if (filters.transaction_date_from) query.transaction_date_from = filters.transaction_date_from;\n    if (filters.transaction_date_to) query.transaction_date_to = filters.transaction_date_to;\n    if (filters.mer) query.mer = filters.mer;\n    if (filters.mcc) query.mcc = String(filters.mcc);\n    if (filters.inst_id2) query.inst_id2 = filters.inst_id2;\n    if (filters.search) query.search = filters.search;\n    if (filters.text_search) query.text_search = filters.text_search;\n    if (filters.message_type) query.message_type = filters.message_type;\n    if (filters.ministry) query.ministry = filters.ministry;\n    if (filters.directorate_name) query.directorate_name = filters.directorate_name;\n    if (filters.bank_display_name) query.bank_display_name = filters.bank_display_name;\n    if (filters.terminal_type) query.terminal_type = filters.terminal_type;\n    if (filters.import_log_id) query.import_log_id = filters.import_log_id;\n    if (filters.governorate) query.governorate = filters.governorate;\n    if (filters.details) query.details = filters.details;\n    if (filters.iban) query.iban = filters.iban;\n    return query;\n  };\n\n  const fetchRtgs = async () => {\n    try {\n      setLoading(true);\n      const query = buildQueryParams();\n      const params = new URLSearchParams(query);\n      const res = await api.get(`/rtgs?${params.toString()}`);\n      setRtgs(res.data?.rtgs ?? []);\n      setPagination((prev) => ({\n        ...prev,\n        ...(res.data?.pagination ?? {}),\n      }));\n    } catch (e: unknown) {\n      const err = e as { response?: { data?: { error?: string } } };\n      toast({\n        title: 'خطأ',\n        description: err.response?.data?.error ?? 'فشل جلب بيانات RTGS',\n        variant: 'destructive',\n      });\n      setRtgs([]);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const fetchFilterOptions = async () => {\n    try {\n      const res = await api.get('/rtgs/filter-options');\n      const data = res.data ?? {};\n      setFilterOptions({\n      merList: data.merList ?? [],\n      mccList: data.mccList ?? [],\n      instId2List: data.instId2List ?? [],\n      messageTypeList: data.messageTypeList ?? [],\n      terminalTypeList: data.terminalTypeList ?? [],\n      ministryList: data.ministryList ?? [],\n      directorateNameList: data.directorateNameList ?? [],\n      bankDisplayNameList: data.bankDisplayNameList ?? [],\n      governorateList: data.governorateList ?? [],\n    });\n    } catch {\n      // ignore\n    }\n  };\n\n  const fetchImportLogs = async () => {\n    try {\n      const res = await api.get('/rtgs/import-logs?limit=30');\n      setImportLogs(res.data ?? []);\n    } catch {\n      setImportLogs([]);\n    }\n  };\n\n  useEffect(() => {\n    fetchRtgs();\n  }, [\n    pagination.page,\n    filters.sttl_date_from,\n    filters.sttl_date_to,\n    filters.transaction_date_from,\n    filters.transaction_date_to,\n    filters.mer,\n    filters.mcc,\n    filters.inst_id2,\n    filters.search,\n    filters.text_search,\n    filters.message_type,\n    filters.ministry,\n    filters.directorate_name,\n    filters.bank_display_name,\n    filters.terminal_type,\n    filters.import_log_id,\n    filters.governorate,\n    filters.details,\n    filters.iban,\n  ]);\n\n  useEffect(() => {\n    fetchFilterOptions();\n  }, []);\n\n  useEffect(() => {\n    fetchImportLogs();\n  }, []);\n\n  useEffect(() => {\n    if (showLogsModal) fetchImportLogs();\n  }, [showLogsModal]);\n\n  const filteredImportLogs = useMemo(() => {\n    let list = importLogs;\n    const { search, dateFrom, dateTo, user } = logFilters;\n    if (search.trim()) {\n      const q = search.trim().toLowerCase();\n      list = list.filter(\n        (l) =>\n          (l.filename ?? '').toLowerCase().includes(q) ||\n          (l.user_name ?? '').toLowerCase().includes(q)\n      );\n    }\n    if (dateFrom) {\n      list = list.filter((l) => formatDate(l.created_at) >= dateFrom);\n    }\n    if (dateTo) {\n      list = list.filter((l) => formatDate(l.created_at) <= dateTo);\n    }\n    if (user) {\n      list = list.filter((l) => (l.user_name ?? '') === user);\n    }\n    return list;\n  }, [importLogs, logFilters]);\n\n  const uniqueUsers = useMemo(\n    () => Array.from(new Set(importLogs.map((l) => l.user_name ?? '').filter(Boolean))).sort(),\n    [importLogs]\n  );\n\n  const clearLogFilters = () => setLogFilters({ search: '', dateFrom: '', dateTo: '', user: '' });\n\n  const handleDeleteImportLogClick = (log: ImportLog) => {\n    setDeleteConfirmLog(log);\n  };\n\n  const handleClearAllRtgs = async () => {\n    setShowClearAllConfirm(false);\n    try {\n      const res = await api.delete('/rtgs/all');\n      const data = res.data as { message?: string; rtgs_deleted?: number } | undefined;\n      toast({ title: 'تم الحذف بنجاح', description: data?.message ?? 'تم حذف جميع حركات RTGS', variant: 'default' });\n      fetchRtgs();\n      fetchImportLogs();\n    } catch (e: unknown) {\n      const err = e as { response?: { data?: { error?: string } } };\n      toast({ title: 'خطأ', description: err.response?.data?.error ?? 'فشل الحذف', variant: 'destructive' });\n    }\n  };\n\n  const handleDeleteConfirm = async () => {\n    const log = deleteConfirmLog;\n    if (!log) return;\n    setDeleteConfirmLog(null);\n    try {\n      const res = await api.delete(`/rtgs/import-logs/${log.id}`);\n      const data = res.data as { message?: string; rtgs_deleted?: number } | undefined;\n      const desc = data?.message ?? `تم حذف سجل الاستيراد و ${data?.rtgs_deleted ?? 0} حركة RTGS المرتبطة به`;\n      toast({ title: 'تم الحذف بنجاح', description: desc, variant: 'default' });\n      fetchImportLogs();\n      fetchRtgs();\n    } catch (e: unknown) {\n      const err = e as { response?: { data?: { error?: string } } };\n      toast({ title: 'خطأ في الحذف', description: err.response?.data?.error ?? 'فشل حذف سجل الاستيراد', variant: 'destructive' });\n    }\n  };\n\n  const handleFilterChange = (key: keyof typeof filters, value: string) => {\n    setFilters((prev) => ({ ...prev, [key]: value }));\n    setPagination((prev) => ({ ...prev, page: 1 }));\n  };\n\n  const clearFilters = () => {\n    setFilters({\n      sttl_date_from: '',\n      sttl_date_to: '',\n      transaction_date_from: '',\n      transaction_date_to: '',\n      mer: '',\n      mcc: '',\n      inst_id2: '',\n      search: '',\n      text_search: '',\n      message_type: '',\n      ministry: '',\n      directorate_name: '',\n      bank_display_name: '',\n      terminal_type: '',\n      import_log_id: '',\n      governorate: '',\n      details: '',\n      iban: '',\n    });\n    setPagination((prev) => ({ ...prev, page: 1 }));\n    setColumnFilterOpen(null);\n  };\n\n  const handleExportExcel = async () => {\n    setExporting(true);\n    try {\n      const query = buildQueryParams();\n      delete query.page;\n      delete query.limit;\n      const params = new URLSearchParams(query);\n      const token = localStorage.getItem('token');\n      const url = `/api/rtgs/export?${params.toString()}`;\n      const res = await fetch(url, { headers: token ? { Authorization: `Bearer ${token}` } : {} });\n      if (!res.ok) throw new Error('Export failed');\n      const blob = await res.blob();\n      const a = document.createElement('a');\n      a.href = URL.createObjectURL(blob);\n      a.download = `rtgs_export_${new Date().toISOString().slice(0, 10)}.xlsx`;\n      a.click();\n      URL.revokeObjectURL(a.href);\n      toast({ title: 'تم التصدير', description: 'تم تنزيل ملف Excel بنجاح', variant: 'default' });\n    } catch (e) {\n      toast({ title: 'خطأ', description: 'فشل تصدير Excel', variant: 'destructive' });\n    } finally {\n      setExporting(false);\n    }\n  };\n\n  const handleImportFile = async (e: React.ChangeEvent<HTMLInputElement>) => {\n    const file = e.target.files?.[0];\n    if (!file) return;\n    const formData = new FormData();\n    formData.append('file', file);\n    setImporting(true);\n    setImportSummary(null);\n    setImportProgress(0);\n    setImportProgressVisible(true);\n    setImportRowsCount(0);\n\n    const tick = 80;\n    const targetBeforeDone = 90;\n    progressIntervalRef.current = setInterval(() => {\n      setImportProgress((p) => {\n        if (p >= targetBeforeDone) {\n          if (progressIntervalRef.current) clearInterval(progressIntervalRef.current);\n          return p;\n        }\n        return Math.min(p + 2, targetBeforeDone);\n      });\n    }, tick);\n\n    try {\n      const res = await api.post('/rtgs/import', formData, {\n        headers: { 'Content-Type': 'multipart/form-data' },\n      });\n      const summary = res.data?.summary ?? res.data;\n      if (progressIntervalRef.current) {\n        clearInterval(progressIntervalRef.current);\n        progressIntervalRef.current = null;\n      }\n      setImportProgress(100);\n      setImportRowsCount(summary?.total_rows ?? 0);\n      setImportSummary(summary);\n      toast({\n        title: 'تم الاستيراد',\n        description: `إدخال: ${summary?.inserted_rows ?? 0} | تخطي مكرر: ${summary?.skipped_duplicates ?? 0} | مرفوض: ${summary?.rejected_rows ?? 0}`,\n        variant: 'default',\n      });\n      fetchRtgs();\n      fetchImportLogs();\n      setTimeout(() => {\n        setImportProgressVisible(false);\n        setImportProgress(0);\n      }, 2200);\n    } catch (err: unknown) {\n      if (progressIntervalRef.current) {\n        clearInterval(progressIntervalRef.current);\n        progressIntervalRef.current = null;\n      }\n      setImportProgress(0);\n      setImportProgressVisible(false);\n      const ax = err as { response?: { data?: { error?: string } } };\n      toast({\n        title: 'خطأ في الاستيراد',\n        description: ax.response?.data?.error ?? 'فشل رفع الملف',\n        variant: 'destructive',\n      });\n    } finally {\n      setImporting(false);\n      if (fileInputRef.current) fileInputRef.current.value = '';\n    }\n  };\n\n  return (\n    <div\n      className=\"min-h-screen\"\n      style={{\n        padding: '1.5rem 2rem',\n        background: 'linear-gradient(180deg, #f1f5f9 0%, #e2e8f0 100%)',\n      }}\n    >\n      <div className=\"mx-auto\" style={{ maxWidth: '1800px' }}>\n        {/* هيدر — نص وأيقونات أبيض على التيل لقراءة أوضح */}\n        <div\n          className=\"page-header-teal rounded-xl flex flex-wrap items-center justify-between gap-4 p-5 mb-6\"\n          style={{\n            background: 'linear-gradient(135deg, #026174 0%, #068294 100%)',\n            color: '#ffffff',\n            boxShadow: '0 10px 30px rgba(2, 97, 116, 0.35)',\n          }}\n        >\n          <div>\n            <h1 className=\"text-2xl font-bold m-0 text-white\">RTGS — التسوية</h1>\n            <p className=\"text-sm opacity-90 mt-1 m-0 text-white\">\n              استيراد وعرض حركات RTGS، ربط التجار والمصارف، والتحليلات المالية (amount, fees, acq, STTLE).\n            </p>\n          </div>\n          <div className=\"flex items-center gap-2 flex-wrap\">\n            <Link\n              to=\"/government-settlements\"\n              className=\"flex items-center gap-2 px-4 py-2 rounded-full text-sm font-medium bg-white/20 hover:bg-white/30 transition-colors text-white\"\n            >\n              <Banknote className=\"w-4 h-4 text-white\" />\n              التسويات الحكومية\n            </Link>\n            {canAccessSettings && (\n              <Link\n                to=\"/rtgs-settings\"\n                className=\"flex items-center gap-2 px-4 py-2 rounded-full text-sm font-medium bg-white/20 hover:bg-white/30 transition-colors text-white\"\n              >\n                <Settings className=\"w-4 h-4 text-white\" />\n                إعدادات الاحتساب\n              </Link>\n            )}\n            {canViewImportLogs && (\n              <button\n                type=\"button\"\n                onClick={() => setShowLogsModal(true)}\n                className=\"flex items-center gap-2 px-4 py-2 rounded-full text-sm font-medium bg-white/20 hover:bg-white/30 transition-colors text-white\"\n              >\n                <History className=\"w-4 h-4 text-white\" />\n                سجل الاستيراد\n              </button>\n            )}\n            {canDeleteAll && (\n              <button\n                type=\"button\"\n                onClick={() => setShowClearAllConfirm(true)}\n                disabled={pagination.total === 0}\n                className=\"flex items-center gap-2 px-4 py-2 rounded-full text-sm font-medium bg-red-500/80 hover:bg-red-500 transition-colors text-white disabled:opacity-50 disabled:cursor-not-allowed\"\n              >\n                <Trash2 className=\"w-4 h-4 text-white\" />\n                حذف كل الحركات\n              </button>\n            )}\n            {canExport && (\n              <button\n                type=\"button\"\n                onClick={handleExportExcel}\n                disabled={exporting || pagination.total === 0}\n                className=\"flex items-center gap-2 px-4 py-2 rounded-full text-sm font-medium bg-white/20 hover:bg-white/30 transition-colors disabled:opacity-50 text-white\"\n              >\n                <Download className=\"w-4 h-4 text-white\" />\n                {exporting ? 'جاري التصدير...' : 'تصدير إلى Excel'}\n              </button>\n            )}\n            {canImport && (\n              <label className=\"flex items-center gap-2 px-4 py-2 rounded-full text-sm font-medium bg-white text-[#026174] cursor-pointer hover:bg-white/95 transition-colors shadow\">\n                <Upload className=\"w-4 h-4\" />\n                {importing ? 'جاري الاستيراد...' : 'استيراد ملف RTGS (CSV)'}\n                <input\n                  ref={fileInputRef}\n                  type=\"file\"\n                  accept=\".csv,.txt\"\n                  className=\"hidden\"\n                  disabled={importing}\n                  onChange={handleImportFile}\n                />\n              </label>\n            )}\n          </div>\n        </div>\n\n        {/* ملخص آخر استيراد */}\n        {importSummary && (\n          <div\n            className=\"rounded-xl p-4 mb-6 grid grid-cols-2 sm:grid-cols-4 gap-4\"\n            style={{\n              background: '#fff',\n              boxShadow: '0 4px 14px rgba(0,0,0,0.08)',\n              border: '1px solid rgba(6, 130, 148, 0.2)',\n            }}\n          >\n            <div>\n              <span className=\"text-sm text-slate-500\">إجمالي الصفوف</span>\n              <p className=\"text-xl font-bold text-slate-800 m-0\" dir=\"ltr\">{importSummary.total_rows.toLocaleString('en-US')}</p>\n            </div>\n            <div>\n              <span className=\"text-sm text-slate-500\">تم إدخالها</span>\n              <p className=\"text-xl font-bold text-emerald-600 m-0\" dir=\"ltr\">{importSummary.inserted_rows.toLocaleString('en-US')}</p>\n            </div>\n            <div>\n              <span className=\"text-sm text-slate-500\">تخطي مكرر</span>\n              <p className=\"text-xl font-bold text-amber-600 m-0\" dir=\"ltr\">{importSummary.skipped_duplicates.toLocaleString('en-US')}</p>\n            </div>\n            <div>\n              <span className=\"text-sm text-slate-500\">مرفوض</span>\n              <p className=\"text-xl font-bold text-red-600 m-0\" dir=\"ltr\">{importSummary.rejected_rows.toLocaleString('en-US')}</p>\n            </div>\n          </div>\n        )}\n\n        {/* كروت إحصائيات */}\n        <div className=\"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6\">\n          {[\n            { label: 'إجمالي السجلات (الفلتر)', value: pagination.total.toLocaleString('en-US'), Icon: Hash, primary: true },\n            { label: 'تاريخ التسوية', value: `${filters.sttl_date_from || '—'} → ${filters.sttl_date_to || '—'}`, Icon: Calendar, small: true },\n            { label: 'التاجر / المصرف', value: filters.mer || filters.inst_id2 || 'الكل', Icon: Building2, small: true, truncate: true },\n            { label: 'الصفحة', value: `${pagination.page} / ${pagination.totalPages || 1}`, Icon: Banknote, small: true },\n          ].map((item, idx) => {\n            const Icon = item.Icon;\n            return (\n              <div\n                key={idx}\n                className=\"group relative overflow-hidden rounded-2xl bg-white p-4 flex items-center gap-3 border border-slate-200/80 shadow-[0_4px_18px_rgba(15,23,42,0.06)] hover:shadow-[0_16px_40px_rgba(2,97,116,0.14)] hover:-translate-y-1 transition-all duration-200 cursor-default\"\n              >\n                <div className={`absolute inset-y-0 start-0 w-1 rounded-s-2xl bg-gradient-to-b ${item.primary ? 'from-teal-600 to-teal-500/80' : 'from-slate-500 to-slate-400/80'} opacity-90 group-hover:w-1.5 transition-all`} />\n                <div className=\"card-shine-hover absolute inset-0 pointer-events-none overflow-hidden\" />\n                <div className={`flex-shrink-0 w-12 h-12 rounded-xl flex items-center justify-center ${item.primary ? 'bg-teal-100' : 'bg-slate-100'}`}>\n                  <Icon className={`w-5 h-5 ${item.primary ? 'text-teal-600' : 'text-slate-600'}`} />\n                </div>\n                <div className=\"flex-1 min-w-0 relative\">\n                  <p className=\"text-xs text-slate-500 m-0 mb-0.5 font-medium\">{item.label}</p>\n                  <p className={`m-0 font-extrabold leading-tight tabular-nums ${item.small ? 'text-sm text-slate-700' : 'text-xl text-[#026174]'} ${item.truncate ? 'truncate max-w-[140px]' : ''}`} dir=\"ltr\">{item.value}</p>\n                </div>\n              </div>\n            );\n          })}\n        </div>\n\n        {/* الفلاتر — نفس تصميم الصورة: حدود teal فاتحة، خلفية بيضاء */}\n        <div\n          className=\"rounded-2xl p-5 mb-6 rtgs-filter-card\"\n          style={{\n            background: '#fff',\n            boxShadow: '0 4px 20px rgba(0,0,0,0.06)',\n            border: '2px solid #86C4C4',\n          }}\n        >\n          <div className=\"flex items-center justify-between gap-4 flex-wrap mb-4\">\n            <div className=\"flex items-center gap-2\">\n              <div\n                className=\"w-9 h-9 rounded-lg flex items-center justify-center\"\n                style={{ background: 'linear-gradient(135deg, #026174 0%, #068294 100%)' }}\n              >\n                <Filter className=\"w-5 h-5 text-white\" strokeWidth={2.5} />\n              </div>\n              <span className=\"text-base font-bold\" style={{ color: '#026174' }}>\n                الفلاتر — RTGS\n              </span>\n            </div>\n            <button\n              type=\"button\"\n              onClick={clearFilters}\n              className=\"merchants-clear-filters-btn flex items-center gap-2\"\n              disabled={!Object.values(filters).some(Boolean)}\n            >\n              <X className=\"w-4 h-4\" />\n              مسح الفلاتر\n            </button>\n          </div>\n          <div className=\"grid gap-4\" style={{ gridTemplateColumns: 'repeat(auto-fill, minmax(180px, 1fr))' }}>\n            <div className=\"merchants-filter-input-wrapper\">\n              <Search className=\"w-5 h-5 text-[#0d9488] flex-shrink-0\" strokeWidth={2} />\n              <input\n                type=\"text\"\n                placeholder=\"بحث: RRN / تاجر / وزارة / مصرف / التفاصيل...\"\n                value={filters.text_search}\n                onChange={(e) => handleFilterChange('text_search', e.target.value)}\n                className=\"merchants-filter-input\"\n              />\n            </div>\n            <div className=\"merchants-filter-input-wrapper\">\n              <Hash className=\"w-4 h-4 text-[#026174] flex-shrink-0\" strokeWidth={2} />\n              <input\n                type=\"text\"\n                placeholder=\"RRN...\"\n                value={filters.search}\n                onChange={(e) => handleFilterChange('search', e.target.value)}\n                className=\"merchants-filter-input\"\n              />\n            </div>\n            <div className=\"merchants-filter-input-wrapper\">\n              <Calendar className=\"w-4 h-4 text-[#026174] flex-shrink-0\" strokeWidth={2} />\n              <input\n                type=\"date\"\n                value={filters.sttl_date_from}\n                onChange={(e) => handleFilterChange('sttl_date_from', e.target.value)}\n                className=\"merchants-filter-input\"\n                title=\"من تاريخ التسوية\"\n              />\n            </div>\n            <div className=\"merchants-filter-input-wrapper\">\n              <Calendar className=\"w-4 h-4 text-[#026174] flex-shrink-0\" strokeWidth={2} />\n              <input\n                type=\"date\"\n                value={filters.sttl_date_to}\n                onChange={(e) => handleFilterChange('sttl_date_to', e.target.value)}\n                className=\"merchants-filter-input\"\n                title=\"إلى تاريخ التسوية\"\n              />\n            </div>\n            <div className=\"merchants-filter-input-wrapper\">\n              <Clock className=\"w-4 h-4 text-[#026174] flex-shrink-0\" strokeWidth={2} />\n              <input\n                type=\"date\"\n                value={filters.transaction_date_from}\n                onChange={(e) => handleFilterChange('transaction_date_from', e.target.value)}\n                className=\"merchants-filter-input\"\n                title=\"من تاريخ الحركة\"\n              />\n            </div>\n            <div className=\"merchants-filter-input-wrapper\">\n              <Clock className=\"w-4 h-4 text-[#026174] flex-shrink-0\" strokeWidth={2} />\n              <input\n                type=\"date\"\n                value={filters.transaction_date_to}\n                onChange={(e) => handleFilterChange('transaction_date_to', e.target.value)}\n                className=\"merchants-filter-input\"\n                title=\"إلى تاريخ الحركة\"\n              />\n            </div>\n            <div className=\"merchants-filter-select-wrapper\">\n              <FileText className=\"w-4 h-4 text-[#026174] flex-shrink-0\" strokeWidth={2} />\n              <select\n                value={filters.import_log_id}\n                onChange={(e) => handleFilterChange('import_log_id', e.target.value)}\n                className=\"merchants-filter-select\"\n              >\n                <option value=\"\">كل الملفات</option>\n                {importLogs.map((log) => (\n                  <option key={log.id} value={String(log.id)}>\n                    {log.filename ?? `سجل #${log.id}`}\n                  </option>\n                ))}\n              </select>\n            </div>\n          </div>\n          <div className=\"mt-5 pt-5\" style={{ borderTop: '2px solid #86C4C4' }}>\n            <p className=\"text-sm font-bold mb-4\" style={{ color: '#0f172a' }}>\n              فلترة حسب الأعمدة (اختيار متعدد)\n            </p>\n            <div className=\"grid gap-4 mb-4\" style={{ gridTemplateColumns: 'repeat(auto-fill, minmax(160px, 1fr))' }}>\n              <MultiSelectFilter label=\"Message Type\" options={filterOptions.messageTypeList} value={filters.message_type} onChange={(v) => handleFilterChange('message_type', v)} placeholder=\"بحث...\" />\n              <MultiSelectFilter label=\"التاجر (MER)\" options={filterOptions.merList} value={filters.mer} onChange={(v) => handleFilterChange('mer', v)} placeholder=\"بحث...\" />\n              <MultiSelectFilter label=\"المحافظة\" options={filterOptions.governorateList} value={filters.governorate} onChange={(v) => handleFilterChange('governorate', v)} placeholder=\"بحث...\" />\n              <MultiSelectFilter label=\"اسم المديرية\" options={filterOptions.directorateNameList} value={filters.directorate_name} onChange={(v) => handleFilterChange('directorate_name', v)} placeholder=\"بحث...\" />\n              <div>\n                <label className=\"block text-xs font-semibold mb-1\" style={{ color: '#0f172a' }}>التفاصيل</label>\n                <div className=\"merchants-filter-input-wrapper\">\n                  <FileText className=\"w-4 h-4 text-[#0d9488] flex-shrink-0\" strokeWidth={2} />\n                  <input\n                    type=\"text\"\n                    placeholder=\"بحث في التفاصيل.\"\n                    value={filters.details}\n                    onChange={(e) => handleFilterChange('details', e.target.value)}\n                    className=\"merchants-filter-input\"\n                  />\n                </div>\n              </div>\n              <div>\n                <label className=\"block text-xs font-semibold mb-1\" style={{ color: '#0f172a' }}>IBAN</label>\n                <div className=\"merchants-filter-input-wrapper\">\n                  <Banknote className=\"w-4 h-4 text-[#0d9488] flex-shrink-0\" strokeWidth={2} />\n                  <input\n                    type=\"text\"\n                    placeholder=\"بحث في IBAN...\"\n                    value={filters.iban}\n                    onChange={(e) => handleFilterChange('iban', e.target.value)}\n                    className=\"merchants-filter-input\"\n                    dir=\"ltr\"\n                  />\n                </div>\n              </div>\n              <MultiSelectFilter label=\"الوزارة\" options={filterOptions.ministryList} value={filters.ministry} onChange={(v) => handleFilterChange('ministry', v)} placeholder=\"بحث...\" />\n              <MultiSelectFilter label=\"المصرف\" options={filterOptions.bankDisplayNameList} value={filters.bank_display_name} onChange={(v) => handleFilterChange('bank_display_name', v)} placeholder=\"بحث...\" />\n              <MultiSelectFilter label=\"MCC\" options={filterOptions.mccList} value={filters.mcc} onChange={(v) => handleFilterChange('mcc', v)} placeholder=\"بحث...\" />\n              <MultiSelectFilter label=\"نوع الجهاز\" options={filterOptions.terminalTypeList} value={filters.terminal_type} onChange={(v) => handleFilterChange('terminal_type', v)} placeholder=\"بحث...\" />\n            </div>\n          </div>\n          <div className=\"mt-4 flex items-center gap-2\">\n            <button\n              type=\"button\"\n              onClick={() => fetchRtgs()}\n              className=\"rtgs-apply-btn px-5 py-2.5 rounded-xl text-sm font-semibold text-white hover:opacity-95 transition-opacity\"\n            >\n              تطبيق الفلاتر\n            </button>\n          </div>\n        </div>\n\n        {/* الجدول */}\n        <div\n          className=\"rounded-xl overflow-hidden\"\n          style={{\n            background: '#fff',\n            boxShadow: '0 6px 18px rgba(0,0,0,0.1)',\n            border: '1px solid rgba(0,0,0,0.06)',\n          }}\n        >\n          {loading && rtgs.length === 0 ? (\n            <div className=\"p-12 flex justify-center\">\n              <Loading message=\"جاري تحميل RTGS...\" />\n            </div>\n          ) : rtgs.length === 0 ? (\n            <div className=\"p-12 text-center text-slate-500\">\n              <FileSpreadsheet className=\"w-12 h-12 mx-auto mb-3 opacity-50\" />\n              <p className=\"text-lg font-medium m-0\">لا توجد حركات RTGS مطابقة للفلاتر</p>\n              <p className=\"text-sm mt-1\">قم باستيراد ملف CSV أو تعديل معايير البحث.</p>\n            </div>\n          ) : (\n            <>\n              <div className=\"overflow-x-auto\">\n                <table className=\"w-full border-collapse\" style={{ minWidth: '1200px' }}>\n                  <thead>\n                    <tr className=\"rtgs-table-header-teal\" style={{ background: 'linear-gradient(90deg, #068294 0%, #026174 100%)', color: '#ffffff' }}>\n                      {[\n                        { id: 'source_filename', label: 'الملف المصدر' },\n                        { id: 'mer', label: 'MER', filterKey: 'mer' as const, optionsKey: 'merList' as const },\n                        { id: 'sttl_date', label: 'تاريخ التسوية', title: 'STTL_DATE — تاريخ تسوية المصرف (مثلاً 2026-01-01)' },\n                        { id: 'transaction_date', label: 'تاريخ الحركة', title: 'TRANSCATIONDATE — تاريخ ووقت تنفيذ الحركة (مثلاً 2025-12-31)' },\n                        { id: 'governorate', label: 'المحافظة', filterKey: 'governorate' as const, optionsKey: 'governorateList' as const },\n                        { id: 'directorate', label: 'التفصيل (اسم المديرية)', filterKey: 'directorate_name' as const, optionsKey: 'directorateNameList' as const },\n                        { id: 'details', label: 'التفاصيل', title: 'التفاصيل من جدول إدارة التجار (merchant details)' },\n                        { id: 'ministry', label: 'الوزارة', filterKey: 'ministry' as const, optionsKey: 'ministryList' as const },\n                        { id: 'iban', label: 'IBAN' },\n                        { id: 'bank', label: 'المصرف', filterKey: 'bank_display_name' as const, optionsKey: 'bankDisplayNameList' as const },\n                        { id: 'message_type', label: 'Message Type', filterKey: 'message_type' as const, optionsKey: 'messageTypeList' as const },\n                        { id: 'amount', label: 'amount' },\n                        { id: 'fees', label: 'fees', title: 'العمولة المحسوبة (لا تعتمد على fee01 من الملف)' },\n                        { id: 'acq', label: 'acq' },\n                        { id: 'sttle', label: 'STTLE' },\n                        { id: 'card', label: 'البطاقة' },\n                        { id: 'mcc', label: 'MCC', filterKey: 'mcc' as const, optionsKey: 'mccList' as const },\n                        { id: 'terminal', label: 'نوع الجهاز', filterKey: 'terminal_type' as const, optionsKey: 'terminalTypeList' as const },\n                        { id: 'rrn', label: 'RRN' },\n                      ].map((col) => (\n                        <th key={col.id} className=\"text-right py-3 px-2 text-sm font-semibold whitespace-nowrap relative text-white\" style={{ color: '#ffffff' }} title={(col as { title?: string }).title}>\n                          <div className=\"flex items-center justify-end gap-1\">\n                            <span style={{ color: '#ffffff' }}>{col.label}</span>\n                            {col.filterKey && col.optionsKey && (\n                              <div className=\"relative\">\n                                <button\n                                  type=\"button\"\n                                  onClick={() => setColumnFilterOpen(columnFilterOpen === col.id ? null : col.id)}\n                                  className=\"p-0.5 rounded hover:bg-white/20 text-white\"\n                                  style={{ color: '#ffffff' }}\n                                  title={`فلتر: ${col.label}`}\n                                >\n                                  <ChevronDown className=\"w-4 h-4 text-white\" style={{ color: '#ffffff' }} />\n                                </button>\n                                {columnFilterOpen === col.id && (\n                                  <ColumnFilterPopover\n                                    title={`فلتر: ${col.label}`}\n                                    options={(filterOptions[col.optionsKey!] as (string|number)[]) ?? []}\n                                    value={filters[col.filterKey!] ?? ''}\n                                    onApply={(v) => { handleFilterChange(col.filterKey!, v); setColumnFilterOpen(null); }}\n                                    onClose={() => setColumnFilterOpen(null)}\n                                  />\n                                )}\n                              </div>\n                            )}\n                          </div>\n                        </th>\n                      ))}\n                    </tr>\n                  </thead>\n                  <tbody>\n                    {rtgs.map((r) => (\n                      <tr\n                        key={r.id}\n                        className=\"border-b border-slate-100 hover:bg-slate-50/80\"\n                      >\n                        <td className=\"py-2 px-2 text-sm truncate max-w-[160px]\" title={r.source_filename ?? undefined}>{r.source_filename ?? '—'}</td>\n                        <td className=\"py-2 px-2 text-sm\">{r.mer ?? '—'}</td>\n                        <td className=\"py-2 px-2 text-sm\" dir=\"ltr\" title=\"تاريخ التسوية (STTL_DATE)\">{formatDate(r.sttl_date)}</td>\n                        <td className=\"py-2 px-2 text-sm\" dir=\"ltr\" title={`تاريخ الحركة (TRANSCATIONDATE) — RRN: ${r.rrn ?? ''}`}>{formatTransactionDate(r.transaction_date)}</td>\n                        <td className=\"py-2 px-2 text-sm\">{r.governorate ?? '—'}</td>\n                        <td className=\"py-2 px-2 text-sm\">{r.directorate_name ?? '—'}</td>\n                        <td className=\"py-2 px-2 text-sm truncate max-w-[180px]\" title={r.merchant_details ?? undefined}>{r.merchant_details ?? '—'}</td>\n                        <td className=\"py-2 px-2 text-sm\">{r.ministry ?? '—'}</td>\n                        <td className=\"py-2 px-2 text-sm font-mono\" dir=\"ltr\">{r.merchant_iban ?? '—'}</td>\n                        <td className=\"py-2 px-2 text-sm\">{r.bank_display_name ?? '—'}</td>\n                        <td className=\"py-2 px-2 text-sm\">{r.message_type ?? '—'}</td>\n                        <td className=\"py-2 px-2 text-sm font-medium\" style={{ color: (r.amount ?? 0) >= 0 ? '#059669' : '#dc2626' }}>\n                          {formatNum(r.amount)}\n                        </td>\n                        <td className=\"py-2 px-2 text-sm\" title=\"العمولة المحسوبة (المعادلة: MCC، تاريخ التسوية، amount)\">{formatNum(r.fees)}</td>\n                        <td className=\"py-2 px-2 text-sm\">{formatNum(r.acq)}</td>\n                        <td className=\"py-2 px-2 text-sm font-medium\">{formatNum(r.sttle)}</td>\n                        <td className=\"py-2 px-2 text-sm font-mono\">{r.card_number_masked ?? '—'}</td>\n                        <td className=\"py-2 px-2 text-sm\">{r.mcc ?? '—'}</td>\n                        <td className=\"py-2 px-2 text-sm\">{r.terminal_type ?? '—'}</td>\n                        <td className=\"py-2 px-2 text-sm font-mono\">{r.rrn ?? '—'}</td>\n                      </tr>\n                    ))}\n                  </tbody>\n                </table>\n              </div>\n              {/* Pagination — العرض حسب الصفحة لتقليل الاستعلامات */}\n              <div className=\"flex items-center justify-between px-4 py-3 border-t border-slate-100 bg-slate-50/50\">\n                <div>\n                  <p className=\"text-sm text-slate-600 m-0\" dir=\"ltr\">\n                    عرض {rtgs.length.toLocaleString('en-US')} من {pagination.total.toLocaleString('en-US')} (حسب الصفحة الحالية)\n                  </p>\n                  <p className=\"text-xs text-slate-400 m-0 mt-0.5\">العرض حسب الصفحة لتقليل الاستعلامات على قاعدة البيانات</p>\n                </div>\n                <div className=\"flex items-center gap-2\">\n                  <button\n                    type=\"button\"\n                    onClick={() => setPagination((p) => ({ ...p, page: Math.max(1, p.page - 1) }))}\n                    disabled={pagination.page <= 1}\n                    className=\"p-2 rounded-lg border border-slate-200 disabled:opacity-50 hover:bg-slate-50\"\n                  >\n                    <ChevronRight className=\"w-4 h-4\" />\n                  </button>\n                  <span className=\"text-sm font-medium px-2\" dir=\"ltr\">\n                    {pagination.page} / {pagination.totalPages || 1}\n                  </span>\n                  <button\n                    type=\"button\"\n                    onClick={() => setPagination((p) => ({ ...p, page: Math.min(p.totalPages || 1, p.page + 1) }))}\n                    disabled={pagination.page >= (pagination.totalPages || 1)}\n                    className=\"p-2 rounded-lg border border-slate-200 disabled:opacity-50 hover:bg-slate-50\"\n                  >\n                    <ChevronLeft className=\"w-4 h-4\" />\n                  </button>\n                </div>\n              </div>\n            </>\n          )}\n        </div>\n      </div>\n\n      {/* نافذة معالجة الاستيراد */}\n      {importProgressVisible && (\n        <div\n          className=\"fixed inset-0 z-[60] flex items-center justify-center p-4\"\n          style={{ background: 'rgba(0,0,0,0.6)' }}\n        >\n          <div\n            className=\"rounded-2xl w-full max-w-md overflow-hidden flex flex-col p-6\"\n            style={{ background: '#fff', boxShadow: '0 24px 60px rgba(0,0,0,0.25)' }}\n          >\n            <div className=\"flex items-center gap-3 mb-4\">\n              <div className=\"p-2 rounded-xl\" style={{ background: 'rgba(6, 130, 148, 0.15)' }}>\n                <Upload className=\"w-6 h-6\" style={{ color: '#068294' }} />\n              </div>\n              <div>\n                <h3 className=\"text-lg font-bold m-0 text-slate-800\">جاري استيراد ملف RTGS</h3>\n                <p className=\"text-sm text-slate-500 m-0 mt-0.5\" dir=\"ltr\">\n                  {importRowsCount > 0\n                    ? `تم معالجة ${importRowsCount.toLocaleString('en-US')} حركة`\n                    : 'جاري رفع الملف ومعالجة الحركات...'}\n                </p>\n              </div>\n            </div>\n            <div className=\"w-full bg-slate-100 rounded-full h-3 overflow-hidden\">\n              <div\n                className=\"h-full rounded-full transition-all duration-300 ease-out\"\n                style={{\n                  width: `${importProgress}%`,\n                  background: 'linear-gradient(90deg, #026174, #068294)',\n                }}\n              />\n            </div>\n            <p className=\"text-center text-sm font-semibold mt-3 m-0\" style={{ color: '#026174' }} dir=\"ltr\">\n              {importProgress}%\n            </p>\n            {importProgress === 100 && (\n              <p className=\"text-center text-sm text-emerald-600 mt-1 m-0\">تم الانتهاء بنجاح</p>\n            )}\n          </div>\n        </div>\n      )}\n\n      {/* نافذة سجل الاستيراد — تصميم محسّن */}\n      {/* نافذة تأكيد حذف كل الحركات */}\n      {showClearAllConfirm && (\n        <div\n          className=\"fixed inset-0 z-[70] flex items-center justify-center p-4 backdrop-blur-md animate-in fade-in duration-200\"\n          style={{ background: 'rgba(2, 97, 116, 0.12)' }}\n          onClick={() => setShowClearAllConfirm(false)}\n        >\n          <div\n            className=\"rounded-2xl max-w-md w-full overflow-hidden flex flex-col animate-in zoom-in-95 duration-200\"\n            style={{\n              background: '#fff',\n              border: '2px solid rgba(6, 130, 148, 0.25)',\n              boxShadow: '0 25px 50px -12px rgba(2, 97, 116, 0.25)',\n            }}\n            onClick={(e) => e.stopPropagation()}\n          >\n            <div\n              className=\"px-6 py-4 flex items-center gap-3\"\n              style={{ background: 'linear-gradient(135deg, #dc2626 0%, #ef4444 100%)' }}\n            >\n              <span className=\"w-10 h-10 rounded-xl flex items-center justify-center\" style={{ background: 'rgba(255,255,255,0.2)' }}>\n                <Trash2 className=\"w-5 h-5 text-white\" />\n              </span>\n              <h3 className=\"text-lg font-bold m-0 text-white\">حذف جميع الحركات</h3>\n            </div>\n            <div className=\"p-6\">\n              <p className=\"text-slate-600 m-0 mb-2\">\n                سيتم حذف <strong dir=\"ltr\">{pagination.total.toLocaleString('en-US')}</strong> حركة RTGS وسجلات الاستيراد بالكامل.\n              </p>\n              <p className=\"text-red-600 text-sm font-medium m-0\">هذا الإجراء لا يمكن التراجع عنه.</p>\n            </div>\n            <div className=\"px-6 pb-6 flex gap-3 justify-end\">\n              <button\n                type=\"button\"\n                onClick={() => setShowClearAllConfirm(false)}\n                className=\"px-4 py-2 rounded-xl text-sm font-medium bg-slate-100 text-slate-700 hover:bg-slate-200 transition-colors\"\n              >\n                إلغاء\n              </button>\n              <button\n                type=\"button\"\n                onClick={handleClearAllRtgs}\n                className=\"px-4 py-2 rounded-xl text-sm font-medium text-white hover:opacity-90 transition-colors\"\n                style={{ background: 'linear-gradient(135deg, #dc2626, #ef4444)' }}\n              >\n                حذف الكل\n              </button>\n            </div>\n          </div>\n        </div>\n      )}\n\n      {/* نافذة تأكيد الحذف — رسالة من النظام */}\n      {deleteConfirmLog && (\n        <div\n          className=\"fixed inset-0 z-[70] flex items-center justify-center p-4 backdrop-blur-md animate-in fade-in duration-200\"\n          style={{ background: 'rgba(2, 97, 116, 0.12)' }}\n          onClick={() => setDeleteConfirmLog(null)}\n        >\n          <div\n            className=\"rounded-2xl max-w-md w-full overflow-hidden flex flex-col animate-in zoom-in-95 duration-200\"\n            style={{\n              background: '#fff',\n              border: '2px solid rgba(6, 130, 148, 0.25)',\n              boxShadow: '0 25px 50px -12px rgba(2, 97, 116, 0.25)',\n            }}\n            onClick={(e) => e.stopPropagation()}\n          >\n            <div\n              className=\"px-6 py-4 flex items-center gap-3\"\n              style={{ background: 'linear-gradient(135deg, #026174 0%, #068294 100%)' }}\n            >\n              <span className=\"w-10 h-10 rounded-xl flex items-center justify-center\" style={{ background: 'rgba(255,255,255,0.2)' }}>\n                <Trash2 className=\"w-5 h-5 text-white\" />\n              </span>\n              <h3 className=\"text-lg font-bold m-0 text-white\">تأكيد الحذف</h3>\n            </div>\n            <div className=\"p-6\">\n              <p className=\"text-slate-600 m-0 mb-3\">سيتم حذف سجل الاستيراد:</p>\n              <p className=\"font-semibold text-slate-800 m-0 mb-2 px-3 py-2 rounded-lg bg-slate-50 border border-slate-200\" dir=\"ltr\">\n                {deleteConfirmLog.filename ?? `سجل #${deleteConfirmLog.id}`}\n              </p>\n              <p className=\"text-slate-600 m-0 mb-2\">\n                وجميع الحركات المرتبطة به ({deleteConfirmLog.inserted_rows.toLocaleString('en-US')} حركة).\n              </p>\n              <p className=\"text-amber-600 text-sm font-medium m-0\">هذا الإجراء لا يمكن التراجع عنه.</p>\n            </div>\n            <div className=\"px-6 pb-6 flex gap-3 justify-end\">\n              <button\n                type=\"button\"\n                onClick={() => setDeleteConfirmLog(null)}\n                className=\"px-4 py-2 rounded-xl text-sm font-medium bg-slate-100 text-slate-700 hover:bg-slate-200 transition-colors\"\n              >\n                إلغاء\n              </button>\n              <button\n                type=\"button\"\n                onClick={handleDeleteConfirm}\n                className=\"px-4 py-2 rounded-xl text-sm font-medium text-white hover:opacity-90 transition-colors\"\n                style={{ background: 'linear-gradient(135deg, #dc2626, #ef4444)' }}\n              >\n                حذف\n              </button>\n            </div>\n          </div>\n        </div>\n      )}\n\n      {showLogsModal && (\n        <div\n          className=\"fixed inset-0 z-50 flex items-center justify-center p-4 backdrop-blur-md animate-in fade-in duration-200\"\n          style={{ background: 'rgba(2, 97, 116, 0.12)' }}\n          onClick={() => setShowLogsModal(false)}\n        >\n          <div\n            className=\"rounded-2xl w-[min(96vw,1200px)] max-h-[90vh] overflow-hidden flex flex-col animate-in zoom-in-95 duration-200\"\n            style={{\n              background: '#fff',\n              border: '2px solid rgba(6, 130, 148, 0.25)',\n              boxShadow: '0 25px 50px -12px rgba(2, 97, 116, 0.25), 0 0 0 1px rgba(0,0,0,0.05)',\n            }}\n            onClick={(e) => e.stopPropagation()}\n          >\n            {/* هيدر بتدرج تيل */}\n            <div\n              className=\"flex items-center justify-between px-6 py-5 shrink-0 rounded-t-2xl\"\n              style={{ background: 'linear-gradient(135deg, #026174 0%, #068294 100%)' }}\n            >\n              <div className=\"flex items-center gap-3\">\n                <span\n                  className=\"w-11 h-11 rounded-xl flex items-center justify-center\"\n                  style={{ background: 'rgba(255,255,255,0.2)' }}\n                >\n                  <History className=\"w-5 h-5 text-white\" />\n                </span>\n                <div>\n                  <h3 className=\"text-xl font-bold m-0 text-white\">سجل استيراد RTGS</h3>\n                  <p className=\"text-sm opacity-90 m-0 mt-0.5 text-white/90\">\n                    عرض الملفات المستوردة، التفاصيل، والوقت المستغرق في الحقن\n                  </p>\n                </div>\n              </div>\n              <button\n                type=\"button\"\n                onClick={() => setShowLogsModal(false)}\n                className=\"w-10 h-10 rounded-xl flex items-center justify-center text-white hover:bg-white/20 transition-colors\"\n                aria-label=\"إغلاق\"\n              >\n                <X className=\"w-5 h-5\" />\n              </button>\n            </div>\n\n            <div className=\"overflow-auto flex-1 p-5\" style={{ background: 'linear-gradient(180deg, #fafbfc 0%, #fff 100%)' }}>\n              {importLogs.length > 0 && (\n                <>\n                  <ImportLogKpiCards importLogs={filteredImportLogs} />\n                  {/* فلاتر وبحث */}\n                  <div\n                    className=\"rounded-xl p-4 mb-4 border border-slate-200/80\"\n                    style={{ background: 'linear-gradient(180deg, #fff 0%, #f8fafc 100%)', boxShadow: '0 2px 10px rgba(0,0,0,0.04)' }}\n                  >\n                    <div className=\"flex items-center gap-2 mb-3\">\n                      <div className=\"p-1.5 rounded-lg bg-slate-100\">\n                        <Filter className=\"w-4 h-4 text-slate-600\" />\n                      </div>\n                      <span className=\"text-sm font-semibold text-slate-700\">الفلاتر والبحث</span>\n                    </div>\n                    <div className=\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-3\">\n                      <div className=\"sm:col-span-2 lg:col-span-1\">\n                        <label className=\"block text-xs font-medium text-slate-500 mb-1\">بحث (الملف / المستخدم)</label>\n                        <div className=\"relative\">\n                          <Search className=\"absolute right-2.5 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400\" />\n                          <input\n                            type=\"text\"\n                            placeholder=\"أدخل نص البحث...\"\n                            value={logFilters.search}\n                            onChange={(e) => setLogFilters((f) => ({ ...f, search: e.target.value }))}\n                            className=\"w-full pr-9 pl-3 py-2 border border-slate-200 rounded-lg text-sm focus:ring-2 focus:ring-[#068294]/30 focus:border-[#068294]\"\n                          />\n                        </div>\n                      </div>\n                      <div>\n                        <label className=\"block text-xs font-medium text-slate-500 mb-1\">من تاريخ</label>\n                        <input\n                          type=\"date\"\n                          value={logFilters.dateFrom}\n                          onChange={(e) => setLogFilters((f) => ({ ...f, dateFrom: e.target.value }))}\n                          className=\"w-full px-3 py-2 border border-slate-200 rounded-lg text-sm\"\n                        />\n                      </div>\n                      <div>\n                        <label className=\"block text-xs font-medium text-slate-500 mb-1\">إلى تاريخ</label>\n                        <input\n                          type=\"date\"\n                          value={logFilters.dateTo}\n                          onChange={(e) => setLogFilters((f) => ({ ...f, dateTo: e.target.value }))}\n                          className=\"w-full px-3 py-2 border border-slate-200 rounded-lg text-sm\"\n                        />\n                      </div>\n                      <div>\n                        <label className=\"block text-xs font-medium text-slate-500 mb-1\">المستخدم</label>\n                        <select\n                          value={logFilters.user}\n                          onChange={(e) => setLogFilters((f) => ({ ...f, user: e.target.value }))}\n                          className=\"w-full px-3 py-2 border border-slate-200 rounded-lg text-sm focus:ring-2 focus:ring-[#068294]/30 focus:border-[#068294]\"\n                        >\n                          <option value=\"\">الكل</option>\n                          {uniqueUsers.map((u) => (\n                            <option key={u} value={u}>{u}</option>\n                          ))}\n                        </select>\n                      </div>\n                    </div>\n                    <div className=\"mt-3 flex gap-2\">\n                      <button\n                        type=\"button\"\n                        onClick={clearLogFilters}\n                        className=\"px-3 py-1.5 rounded-lg text-xs font-medium bg-slate-100 text-slate-600 hover:bg-slate-200 transition-colors flex items-center gap-1\"\n                      >\n                        <X className=\"w-3.5 h-3.5\" />\n                        مسح الفلاتر\n                      </button>\n                    </div>\n                  </div>\n                </>\n              )}\n              {importLogs.length === 0 ? (\n                <div className=\"flex flex-col items-center justify-center py-12 px-4\">\n                  <div\n                    className=\"w-16 h-16 rounded-2xl flex items-center justify-center mb-4\"\n                    style={{ background: 'rgba(6, 130, 148, 0.1)' }}\n                  >\n                    <FileSpreadsheet className=\"w-8 h-8\" style={{ color: '#068294' }} />\n                  </div>\n                  <p className=\"text-slate-600 font-medium m-0\">لا توجد سجلات استيراد بعد</p>\n                  <p className=\"text-sm text-slate-500 mt-1 m-0\">قم باستيراد ملف CSV لعرض السجل هنا</p>\n                </div>\n              ) : filteredImportLogs.length === 0 ? (\n                <div className=\"text-center py-12 px-4\">\n                  <p className=\"text-slate-600 font-medium m-0\">لا توجد نتائج مطابقة للفلاتر</p>\n                  <p className=\"text-sm text-slate-500 mt-1 m-0\">جرب تعديل معايير البحث أو مسح الفلاتر</p>\n                </div>\n              ) : (\n                <div className=\"rounded-xl overflow-hidden border border-slate-200/80\" style={{ boxShadow: '0 4px 14px rgba(0,0,0,0.06)' }}>\n                  <table className=\"w-full border-collapse text-sm table-fixed\">\n                    <thead>\n                      <tr style={{ background: 'linear-gradient(90deg, rgba(6,130,148,0.95) 0%, rgba(2,97,116,0.98) 100%)', color: '#fff' }}>\n                        <th className=\"text-right py-3 px-3 font-semibold w-[22%] min-w-[200px]\">الملف</th>\n                        <th className=\"text-right py-3 px-3 font-semibold\">التاريخ</th>\n                        <th className=\"text-right py-3 px-3 font-semibold\">إجمالي</th>\n                        <th className=\"text-right py-3 px-3 font-semibold\">إدخال</th>\n                        <th className=\"text-right py-3 px-3 font-semibold\">تخطي</th>\n                        <th className=\"text-right py-3 px-3 font-semibold\">مرفوض</th>\n                        <th className=\"text-right py-3 px-3 font-semibold\">الوقت (ث)</th>\n                        <th className=\"text-right py-3 px-3 font-semibold\">المستخدم</th>\n                        <th className=\"text-center py-3 px-3 font-semibold\">الإجراءات</th>\n                      </tr>\n                    </thead>\n                    <tbody>\n                      {filteredImportLogs.map((log) => (\n                        <tr key={log.id} className=\"border-b border-slate-100 last:border-b-0 hover:bg-slate-50/80 transition-colors\">\n                          <td className=\"py-3 px-3 truncate\" title={log.filename ?? ''} dir=\"ltr\">\n                            <span className=\"text-slate-700 font-medium\">{log.filename ?? '—'}</span>\n                          </td>\n                          <td className=\"py-3 px-3 text-slate-600\">{formatDate(log.created_at)}</td>\n                          <td className=\"py-3 px-3 font-semibold text-slate-800\">{log.total_rows.toLocaleString('en-US')}</td>\n                          <td className=\"py-3 px-3 font-semibold text-emerald-600\">{log.inserted_rows.toLocaleString('en-US')}</td>\n                          <td className=\"py-3 px-3 font-semibold text-amber-600\">{log.skipped_duplicates.toLocaleString('en-US')}</td>\n                          <td className=\"py-3 px-3 font-semibold text-red-600\">{log.rejected_rows.toLocaleString('en-US')}</td>\n                          <td className=\"py-3 px-3\" dir=\"ltr\">\n                            <span className=\"inline-flex items-center px-2 py-0.5 rounded-md text-xs font-medium\" style={{ background: log.duration_ms != null ? 'rgba(6,130,148,0.1)' : 'transparent', color: log.duration_ms != null ? '#026174' : '#94a3b8' }}>\n                              {log.duration_ms != null ? `${(log.duration_ms / 1000).toFixed(1)} ث` : '—'}\n                            </span>\n                          </td>\n                          <td className=\"py-3 px-3 text-slate-600\">{log.user_name ?? '—'}</td>\n                          <td className=\"py-3 px-3 text-center\">\n                            {canDeleteImport && (\n                            <button\n                              type=\"button\"\n                              onClick={() => handleDeleteImportLogClick(log)}\n                              className=\"inline-flex items-center gap-1.5 px-3 py-1.5 rounded-lg text-red-600 hover:bg-red-50 hover:text-red-700 transition-all text-xs font-medium\"\n                              title=\"حذف سجل الاستيراد وجميع الحركات المرتبطة به\"\n                            >\n                              <Trash2 className=\"w-4 h-4\" />\n                              حذف\n                            </button>\n                            )}\n                          </td>\n                        </tr>\n                      ))}\n                    </tbody>\n                  </table>\n                </div>\n              )}\n            </div>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n}\n\nexport default RTGS;\n"],"names":["Download","createLucideIcon","d","key","points","x1","x2","y1","y2","Trash2","FileStack","useHasPermission","pageKey","actionKey","user","useAuthStore","s","hasPermission","permissions","role","Filter","Search","cx","cy","r","Upload","Building2","Hash","Loading","_ref","message","_jsxs","className","children","_jsx","ChevronDown","Ban","History","formatDate","Date","isNaN","getTime","toISOString","slice","formatNum","n","Number","toLocaleString","minimumFractionDigits","maximumFractionDigits","ImportLogKpiCards","importLogs","kpi","useMemo","totalImports","length","totalInserted","reduce","l","inserted_rows","totalSkipped","skipped_duplicates","totalRejected","rejected_rows","label","value","Icon","primary","CheckCircle2","color","Clock","map","item","idx","colorClass","concat","dir","formatTransactionDate","replace","MultiSelectFilter","_ref2","options","onChange","placeholder","open","setOpen","useState","search","setSearch","selected","split","trim","filter","Boolean","filtered","String","o","toLowerCase","includes","style","type","onClick","_Fragment","borderColor","e","target","clear","opt","checked","next","join","toggle","ColumnFilterPopover","_ref3","title","onApply","onClose","draft","setDraft","useEffect","selectedDraft","toggleDraft","background","RTGS","_deleteConfirmLog$fil","rtgs","setRtgs","loading","setLoading","pagination","setPagination","page","limit","total","totalPages","filters","setFilters","sttl_date_from","sttl_date_to","transaction_date_from","transaction_date_to","mer","mcc","inst_id2","text_search","message_type","ministry","directorate_name","bank_display_name","terminal_type","import_log_id","governorate","details","iban","filterOptions","setFilterOptions","merList","mccList","instId2List","messageTypeList","terminalTypeList","ministryList","directorateNameList","bankDisplayNameList","governorateList","columnFilterOpen","setColumnFilterOpen","exporting","setExporting","setImportLogs","showImportModal","setShowImportModal","showLogsModal","setShowLogsModal","deleteConfirmLog","setDeleteConfirmLog","showClearAllConfirm","setShowClearAllConfirm","logFilters","setLogFilters","dateFrom","dateTo","importing","setImporting","importProgress","setImportProgress","importProgressVisible","setImportProgressVisible","importRowsCount","setImportRowsCount","progressIntervalRef","useRef","importSummary","setImportSummary","fileInputRef","toast","useToast","canImport","canExport","canDeleteAll","canDeleteImport","canViewImportLogs","canAccessSettings","buildQueryParams","query","fetchRtgs","async","_res$data$rtgs","_res$data","params","URLSearchParams","res","api","get","toString","data","prev","_res$data$pagination","_res$data2","_objectSpread","_err$response$data$er","_err$response","_err$response$data","description","response","error","variant","fetchImportLogs","_res$data4","_unused2","_res$data3","_data$merList","_data$mccList","_data$instId2List","_data$messageTypeList","_data$terminalTypeLis","_data$ministryList","_data$directorateName","_data$bankDisplayName","_data$governorateList","_unused","fetchFilterOptions","filteredImportLogs","list","q","_l$filename","_l$user_name","filename","user_name","created_at","_l$user_name2","uniqueUsers","Array","from","Set","_l$user_name3","sort","handleFilterChange","padding","maxWidth","boxShadow","Link","to","Banknote","Settings","disabled","token","localStorage","getItem","url","fetch","headers","Authorization","ok","Error","blob","a","document","createElement","href","URL","createObjectURL","download","click","revokeObjectURL","ref","accept","_e$target$files","file","files","formData","FormData","append","current","setInterval","p","clearInterval","Math","min","_res$data$summary","_res$data5","_summary$total_rows","_summary$inserted_row","_summary$skipped_dupl","_summary$rejected_row","post","summary","total_rows","setTimeout","err","_ax$response$data$err","_ax$response","_ax$response$data","border","Calendar","small","truncate","strokeWidth","clearFilters","Object","values","some","X","gridTemplateColumns","FileText","log","_log$filename","id","borderTop","v","FileSpreadsheet","minWidth","filterKey","optionsKey","col","_ref4","_filters","_r$source_filename","_r$source_filename2","_r$mer","_r$rrn","_r$governorate","_r$directorate_name","_r$merchant_details","_r$merchant_details2","_r$ministry","_r$merchant_iban","_r$bank_display_name","_r$message_type","_r$amount","_r$card_number_masked","_r$mcc","_r$terminal_type","_r$rrn2","source_filename","undefined","sttl_date","rrn","transaction_date","merchant_details","merchant_iban","amount","fees","acq","sttle","card_number_masked","max","ChevronRight","ChevronLeft","width","stopPropagation","_data$message","delete","_err$response$data$er2","_err$response2","_err$response2$data","_data$message2","_data$rtgs_deleted","desc","rtgs_deleted","_err$response$data$er3","_err$response3","_err$response3$data","f","u","clearLogFilters","_log$filename2","_log$filename3","_log$user_name","duration_ms","toFixed","handleDeleteImportLogClick"],"ignoreList":[],"sourceRoot":""}
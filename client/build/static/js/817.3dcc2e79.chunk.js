/*! For license information please see 817.3dcc2e79.chunk.js.LICENSE.txt */
"use strict";(self.webpackChunksttlment_client=self.webpackChunksttlment_client||[]).push([[817],{9855(e,t,a){a.d(t,{A:()=>s});const s=(0,a(21639).A)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]])},10817(e,t,a){a.d(t,{TemplatesV2:()=>D});var s=a(22555),l=a(65043),r=a(6931),i=a(73375),n=a(96938),o=a(69772),d=a(49954),c=a(47810),x=a(72147),m=a(70492),p=a(51704),u=a(19162),h=a(41680),g=a(38298),b=a(38449),f=a(56804),v=a(95258),y=a(95919),N=a(71360),j=a(39292),w=a(66709),k=a(9855),A=a(40614),C=a(64265),S=a(95773),I=a(50490),L=a(25851),_=a(70579);function D(){var e;const{toast:t}=(0,p.dj)(),a=(0,L.T)("templates","create"),D=(0,L.T)("templates","edit"),O=(0,L.T)("templates","delete"),[P,T]=(0,l.useState)(!1),[F,q]=(0,l.useState)(null),[M,V]=(0,l.useState)(""),[z,H]=(0,l.useState)(""),[E,R]=(0,l.useState)(""),[Z,G]=(0,l.useState)("cards"),[B,K]=(0,l.useState)({title:"",categoryId:"",description:"",active:!0,bankDisplayName:""}),{data:W=[]}=(0,r.I)({queryKey:["categories"],queryFn:async()=>(await u.A.get("/categories?active=true")).data}),$="\u0627\u0644\u062a\u0633\u0648\u064a\u0629 \u0627\u0644\u062d\u0643\u0648\u0645\u064a\u0629 \u0645\u0639 \u0627\u0644\u0645\u0635\u0627\u0631\u0641",J=B.categoryId&&(null===(e=W.find(e=>{var t;return(null===(t=e.id)||void 0===t?void 0:t.toString())===B.categoryId}))||void 0===e?void 0:e.name)===$,{data:Q=[]}=(0,r.I)({queryKey:["rtgs-settlement-maps"],queryFn:async()=>(await u.A.get("/rtgs/settlement-maps")).data||[],enabled:Boolean(J)}),{data:U=[],isLoading:X,refetch:Y}=(0,r.I)({queryKey:["templates"],queryFn:async()=>(await u.A.get("/templates?active=true")).data}),ee=e=>{if(e){var t;const a=e.required_fields||{};q(e),K({title:e.title||"",categoryId:(null===(t=e.category_id)||void 0===t?void 0:t.toString())||"",description:e.description||"",active:!1!==e.active,bankDisplayName:a.bank_display_name||""})}else q(null),K({title:"",categoryId:"",description:"",active:!0,bankDisplayName:""});T(!0)},te=async e=>{if(window.confirm("\u0647\u0644 \u0623\u0646\u062a \u0645\u062a\u0623\u0643\u062f \u0645\u0646 \u062d\u0630\u0641 \u0647\u0630\u0627 \u0627\u0644\u0642\u0627\u0644\u0628\u061f"))try{await u.A.delete("/templates/".concat(e)),t({title:"\u0646\u062c\u062d",description:"\u062a\u0645 \u062d\u0630\u0641 \u0627\u0644\u0642\u0627\u0644\u0628 \u0628\u0646\u062c\u0627\u062d"}),Y()}catch(l){var a,s;t({title:"\u062e\u0637\u0623",description:(null===(a=l.response)||void 0===a||null===(s=a.data)||void 0===s?void 0:s.error)||"\u062d\u062f\u062b \u062e\u0637\u0623",variant:"destructive"})}},ae=U.filter(e=>{if(M){var t,a,s;const l=M.toLowerCase();if(!((null===(t=e.title)||void 0===t?void 0:t.toLowerCase().includes(l))||(null===(a=e.description)||void 0===a?void 0:a.toLowerCase().includes(l))||(null===(s=e.category_name)||void 0===s?void 0:s.toLowerCase().includes(l))))return!1}if(z){if("active"===z&&!e.active)return!1;if("inactive"===z&&e.active)return!1}var l;if(E&&(null===(l=e.category_id)||void 0===l?void 0:l.toString())!==E)return!1;return!0}),se=U.filter(e=>e.active).length,le=U.filter(e=>!e.active).length;return(0,_.jsxs)("div",{className:"min-h-screen",style:{padding:"1.5rem 2rem",background:"linear-gradient(180deg, #f1f5f9 0%, #e2e8f0 100%)"},children:[(0,_.jsxs)("div",{className:"mx-auto",style:{maxWidth:"1400px"},children:[(0,_.jsxs)("div",{className:"page-header-teal rounded-xl flex flex-wrap items-center justify-between gap-4 p-5 mb-6",style:{background:"linear-gradient(135deg, #026174 0%, #068294 100%)",color:"#ffffff",boxShadow:"0 10px 30px rgba(2, 97, 116, 0.35)"},children:[(0,_.jsxs)("div",{children:[(0,_.jsx)("h1",{className:"text-2xl font-bold m-0 text-white",children:"\u0642\u0648\u0627\u0644\u0628 \u0627\u0644\u0645\u0647\u0627\u0645"}),(0,_.jsx)("p",{className:"text-sm opacity-90 mt-1 m-0 text-white",children:"\u0625\u062f\u0627\u0631\u0629 \u0642\u0648\u0627\u0644\u0628 \u0627\u0644\u0645\u0647\u0627\u0645 \u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645\u0629 \u0641\u064a \u0627\u0644\u062c\u062f\u0627\u0648\u0644 \u0627\u0644\u0632\u0645\u0646\u064a\u0629 \u0648\u0627\u0644\u0645\u0647\u0627\u0645 \u0627\u0644\u064a\u0648\u0645\u064a\u0629"})]}),(0,_.jsxs)("div",{className:"flex items-center gap-2 flex-wrap",children:[(0,_.jsxs)("div",{className:"flex rounded-full overflow-hidden border border-white/30 bg-white/10 p-0.5",children:[(0,_.jsxs)("button",{type:"button",onClick:()=>G("cards"),className:"flex items-center gap-2 px-3 py-2 rounded-full text-sm font-medium transition-colors ".concat("cards"===Z?"bg-white text-[#026174] shadow":"text-white/90 hover:bg-white/10"),children:[(0,_.jsx)(y.A,{className:"w-4 h-4"}),"\u0643\u0631\u0648\u062a"]}),(0,_.jsxs)("button",{type:"button",onClick:()=>G("table"),className:"flex items-center gap-2 px-3 py-2 rounded-full text-sm font-medium transition-colors ".concat("table"===Z?"bg-white text-[#026174] shadow":"text-white/90 hover:bg-white/10"),children:[(0,_.jsx)(w.A,{className:"w-4 h-4"}),"\u062c\u062f\u0648\u0644"]})]}),a&&(0,_.jsxs)("button",{type:"button",onClick:()=>ee(),className:"flex items-center gap-2 px-4 py-2 rounded-full text-sm font-medium bg-white text-[#026174] cursor-pointer hover:bg-white/95 transition-colors shadow",children:[(0,_.jsx)(N.A,{className:"w-4 h-4"}),"\u0642\u0627\u0644\u0628 \u062c\u062f\u064a\u062f"]})]})]}),(0,_.jsx)(I.Q,{items:[{label:"\u0625\u062c\u0645\u0627\u0644\u064a \u0627\u0644\u0642\u0648\u0627\u0644\u0628",value:U.length,Icon:f.A,color:"#068294",glow:"rgba(6, 130, 148, 0.4)",gradient:"linear-gradient(135deg, #068294 0%, #026174 100%)"},{label:"\u0642\u0648\u0627\u0644\u0628 \u0646\u0634\u0637\u0629",value:se,Icon:h.A,color:"#059669",glow:"rgba(5, 150, 105, 0.4)",gradient:"linear-gradient(135deg, #059669 0%, #047857 100%)"},{label:"\u0642\u0648\u0627\u0644\u0628 \u063a\u064a\u0631 \u0646\u0634\u0637\u0629",value:le,Icon:h.A,color:"#64748b",glow:"rgba(100, 116, 139, 0.35)",gradient:"linear-gradient(135deg, #64748b 0%, #475569 100%)"},{label:"\u0627\u0644\u0641\u0626\u0627\u062a",value:W.length,Icon:v.A,color:"#0369a1",glow:"rgba(3, 105, 161, 0.4)",gradient:"linear-gradient(135deg, #0369a1 0%, #0284c7 100%)"}]}),(0,_.jsxs)("div",{className:"rounded-2xl p-5 mb-6 border border-slate-200/80",style:{background:"linear-gradient(180deg, #ffffff 0%, #f8fafc 100%)",boxShadow:"0 4px 20px rgba(0,0,0,0.06)"},children:[(0,_.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[(0,_.jsx)("div",{className:"p-1.5 rounded-lg bg-slate-100",children:(0,_.jsx)(g.A,{className:"w-4 h-4 text-slate-600"})}),(0,_.jsx)("span",{className:"text-base font-semibold text-slate-700",children:"\u0627\u0644\u0641\u0644\u0627\u062a\u0631 \u0648\u0627\u0644\u0628\u062d\u062b"})]}),(0,_.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[(0,_.jsxs)("div",{className:"lg:col-span-2",children:[(0,_.jsx)("label",{className:"block text-xs font-medium text-slate-500 mb-1",children:"\u0628\u062d\u062b"}),(0,_.jsxs)("div",{className:"relative",children:[(0,_.jsx)(j.A,{className:"absolute right-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400"}),(0,_.jsx)("input",{type:"text",placeholder:"\u0627\u0628\u062d\u062b \u0628\u0627\u0644\u0639\u0646\u0648\u0627\u0646 \u0623\u0648 \u0627\u0644\u0648\u0635\u0641 \u0623\u0648 \u0627\u0644\u0641\u0626\u0629...",value:M,onChange:e=>V(e.target.value),className:"w-full pr-10 px-3 py-2 border border-slate-200 rounded-lg text-sm focus:ring-2 focus:ring-[#068294]/30 focus:border-[#068294] bg-white text-slate-800"})]})]}),(0,_.jsxs)("div",{children:[(0,_.jsx)("label",{className:"block text-xs font-medium text-slate-500 mb-1",children:"\u0627\u0644\u062d\u0627\u0644\u0629"}),(0,_.jsx)(x.Z,{value:z,onChange:H,options:[{value:"",label:"\u0627\u0644\u0643\u0644"},{value:"active",label:"\u0646\u0634\u0637"},{value:"inactive",label:"\u063a\u064a\u0631 \u0646\u0634\u0637"}],getOptionLabel:e=>e.label,getOptionValue:e=>e.value,placeholder:"\u0627\u0644\u0643\u0644",searchPlaceholder:"\u0627\u0628\u062d\u062b \u0639\u0646 \u0627\u0644\u062d\u0627\u0644\u0629..."})]}),(0,_.jsxs)("div",{children:[(0,_.jsx)("label",{className:"block text-xs font-medium text-slate-500 mb-1",children:"\u0627\u0644\u0641\u0626\u0629"}),(0,_.jsx)(x.Z,{value:E,onChange:R,options:[{id:"",name:"\u0627\u0644\u0643\u0644"},...W],getOptionLabel:e=>e.name,getOptionValue:e=>{var t;return(null===(t=e.id)||void 0===t?void 0:t.toString())||""},placeholder:"\u0627\u0644\u0643\u0644",searchPlaceholder:"\u0627\u0628\u062d\u062b \u0639\u0646 \u0641\u0626\u0629..."})]})]}),(M||z||E)&&(0,_.jsxs)("div",{className:"mt-4 flex items-center gap-2 flex-wrap",children:[(0,_.jsxs)("button",{type:"button",onClick:()=>{V(""),H(""),R("")},className:"px-4 py-2 rounded-lg text-sm font-medium bg-slate-100 text-slate-600 hover:bg-slate-200 flex items-center gap-1",children:[(0,_.jsx)(A.A,{className:"w-4 h-4"}),"\u0645\u0633\u062d \u0627\u0644\u0641\u0644\u0627\u062a\u0631"]}),(0,_.jsxs)("span",{className:"text-sm text-slate-500",children:["\u0639\u0631\u0636 ",ae.length," \u0645\u0646 ",U.length," \u0642\u0627\u0644\u0628"]})]})]}),(0,_.jsx)("div",{className:"rounded-2xl overflow-hidden",style:{background:"var(--surface)",boxShadow:"var(--shadow-card)",border:"1px solid var(--border)"},children:X?(0,_.jsx)("div",{className:"p-16 flex justify-center",children:(0,_.jsxs)("div",{className:"animate-pulse flex flex-col items-center gap-4",children:[(0,_.jsx)("div",{className:"w-14 h-14 rounded-2xl bg-slate-100"}),(0,_.jsx)("p",{className:"text-sm font-medium",style:{color:"var(--text-muted)"},children:"\u062c\u0627\u0631\u064a \u062a\u062d\u0645\u064a\u0644 \u0627\u0644\u0642\u0648\u0627\u0644\u0628..."})]})}):0===ae.length?(0,_.jsxs)("div",{className:"p-16 text-center",children:[(0,_.jsx)("div",{className:"w-16 h-16 rounded-2xl mx-auto mb-4 flex items-center justify-center",style:{background:"rgba(8, 131, 149, 0.08)"},children:(0,_.jsx)(h.A,{className:"w-8 h-8",style:{color:"var(--primary-600)"}})}),(0,_.jsx)("p",{className:"text-lg font-bold m-0",style:{color:"var(--text-strong)"},children:0===U.length?"\u0644\u0627 \u062a\u0648\u062c\u062f \u0642\u0648\u0627\u0644\u0628":"\u0644\u0627 \u062a\u0648\u062c\u062f \u0646\u062a\u0627\u0626\u062c \u062a\u0637\u0627\u0628\u0642 \u0627\u0644\u0628\u062d\u062b \u0648\u0627\u0644\u0641\u0644\u0627\u062a\u0631"}),0===U.length&&a&&(0,_.jsxs)("button",{type:"button",onClick:()=>ee(),className:"mt-5 ds-btn ds-btn-primary inline-flex items-center gap-2",children:[(0,_.jsx)(N.A,{className:"w-4 h-4"}),"\u0625\u0646\u0634\u0627\u0621 \u0642\u0627\u0644\u0628 \u062c\u062f\u064a\u062f"]})]}):"table"===Z?(0,_.jsx)("div",{className:"overflow-x-auto",children:(0,_.jsxs)("table",{className:"ds-table w-full",children:[(0,_.jsx)("thead",{children:(0,_.jsxs)("tr",{className:"table-header-dark",style:{background:"linear-gradient(135deg, #026174 0%, #068294 100%)"},children:[(0,_.jsx)("th",{className:"text-end py-4 px-4 font-bold text-white",children:"\u0627\u0644\u0639\u0646\u0648\u0627\u0646"}),(0,_.jsx)("th",{className:"text-end py-4 px-4 font-bold text-white",children:"\u0627\u0644\u0641\u0626\u0629"}),(0,_.jsx)("th",{className:"text-end py-4 px-4 font-bold text-white",children:"\u0627\u0644\u062d\u0627\u0644\u0629"}),(0,_.jsx)("th",{className:"text-end py-4 px-4 font-bold text-white",children:"\u0625\u062c\u0631\u0627\u0621\u0627\u062a"})]})}),(0,_.jsx)("tbody",{children:ae.map(e=>(0,_.jsxs)("tr",{children:[(0,_.jsx)("td",{className:"py-3 px-4 font-medium",style:{color:"var(--text-strong)"},children:e.title}),(0,_.jsx)("td",{className:"py-3 px-4",style:{color:"var(--text)"},children:e.category_name||"\u2014"}),(0,_.jsx)("td",{className:"py-3 px-4",children:(0,_.jsx)("span",{className:"inline-flex px-2.5 py-1 rounded-lg text-xs font-bold",style:{background:e.active?"rgba(22, 163, 74, 0.12)":"rgba(100, 116, 139, 0.12)",color:e.active?"var(--success)":"var(--text-muted)"},children:e.active?"\u0646\u0634\u0637":"\u063a\u064a\u0631 \u0646\u0634\u0637"})}),(0,_.jsx)("td",{className:"py-3 px-4",children:(0,_.jsxs)("div",{className:"flex items-center gap-2 justify-end",children:[D&&(0,_.jsxs)("button",{type:"button",onClick:()=>ee(e),className:"ds-btn ds-btn-outline flex items-center gap-1.5 px-3 py-1.5 text-sm",children:[(0,_.jsx)(C.A,{className:"w-3.5 h-3.5"})," \u062a\u0639\u062f\u064a\u0644"]}),O&&(0,_.jsx)("button",{type:"button",onClick:()=>te(e.id),className:"ds-btn ds-btn-danger p-2 rounded-lg",title:"\u062d\u0630\u0641",children:(0,_.jsx)(k.A,{className:"w-4 h-4"})})]})})]},e.id))})]})}):(0,_.jsx)("div",{className:"p-6",children:(0,_.jsx)("div",{className:"grid gap-5 sm:grid-cols-2 xl:grid-cols-3",children:(0,_.jsx)(n.N,{children:ae.map((e,t)=>(0,_.jsxs)(i.P.div,{initial:{opacity:0,y:16},animate:{opacity:1,y:0},exit:{opacity:0,scale:.98},whileHover:{scale:1.15,y:-8,zIndex:20,boxShadow:"0 28px 56px rgba(2, 97, 116, 0.2), 0 0 0 1px rgba(8, 131, 149, 0.3)",transition:{duration:.3,ease:[.25,.46,.45,.94]}},transition:{duration:.25,delay:.03*t,ease:[.25,.46,.45,.94]},className:"group relative flex flex-col rounded-2xl overflow-hidden cursor-pointer",style:{background:"var(--surface)",border:"2px solid var(--border-card)",boxShadow:"0 2px 8px rgba(15, 23, 42, 0.06), inset 0 1px 0 rgba(255,255,255,0.8)"},children:[(0,_.jsx)("div",{className:"absolute inset-0 opacity-0 group-hover:opacity-100 pointer-events-none overflow-hidden rounded-2xl card-shine-hover"}),(0,_.jsx)("div",{className:"absolute top-0 bottom-0 w-1 rounded-r-full opacity-80 group-hover:opacity-100 group-hover:w-1.5 transition-all duration-300",style:{right:0,background:"linear-gradient(180deg, var(--primary-800), var(--primary-600), var(--primary-700))",boxShadow:"0 0 12px rgba(8, 131, 149, 0.3)"}}),(0,_.jsx)("div",{className:"absolute top-0 right-0 left-0 h-1 opacity-0 group-hover:opacity-100 transition-opacity duration-300",style:{background:"linear-gradient(90deg, var(--primary-600), var(--primary-800))"}}),(0,_.jsxs)("div",{className:"p-5 pl-5 pr-6 flex flex-col flex-1",children:[(0,_.jsxs)("div",{className:"flex items-start justify-between gap-3 mb-2",children:[(0,_.jsx)("h3",{className:"text-lg font-bold leading-snug line-clamp-2 flex-1 min-w-0",style:{color:"var(--text-strong)"},children:e.title}),(0,_.jsx)("span",{className:"inline-flex items-center px-2.5 py-1 rounded-lg text-xs font-bold shrink-0",style:{background:e.active?"rgba(22, 163, 74, 0.12)":"rgba(100, 116, 139, 0.12)",color:e.active?"var(--success)":"var(--text-muted)"},children:e.active?"\u0646\u0634\u0637":"\u063a\u064a\u0631 \u0646\u0634\u0637"})]}),e.category_name&&(0,_.jsxs)("div",{className:"inline-flex items-center gap-1.5 w-fit px-2.5 py-1 rounded-lg mb-3 text-sm font-medium transition-transform duration-300 group-hover:scale-[1.02]",style:{background:"rgba(8, 131, 149, 0.08)",color:"var(--primary-800)"},children:[(0,_.jsx)(b.A,{className:"w-3.5 h-3.5 transition-transform duration-300 group-hover:rotate-6"}),e.category_name]}),e.description&&(0,_.jsx)("p",{className:"text-sm leading-relaxed line-clamp-2 flex-1 mb-4",style:{color:"var(--text-muted)"},children:e.description}),(0,_.jsxs)("div",{className:"flex gap-2 pt-4 mt-auto border-t",style:{borderColor:"var(--border)"},children:[D&&(0,_.jsxs)(i.P.button,{type:"button",onClick:t=>{t.stopPropagation(),ee(e)},className:"ds-btn ds-btn-outline flex-1 flex items-center justify-center gap-2 text-sm",whileHover:{scale:1.03},whileTap:{scale:.98},children:[(0,_.jsx)(C.A,{className:"w-4 h-4"}),"\u062a\u0639\u062f\u064a\u0644"]}),O&&(0,_.jsx)(i.P.button,{type:"button",onClick:t=>{t.stopPropagation(),te(e.id)},className:"ds-btn ds-btn-danger flex items-center justify-center p-2.5",title:"\u062d\u0630\u0641",whileHover:{scale:1.05},whileTap:{scale:.95},children:(0,_.jsx)(k.A,{className:"w-4 h-4"})})]})]})]},e.id))})})})})]}),(0,_.jsx)(m.lG,{open:P,onOpenChange:T,children:(0,_.jsxs)(m.Cf,{className:"max-w-lg",children:[(0,_.jsxs)(m.c7,{children:[(0,_.jsxs)("div",{className:"flex items-center gap-3",children:[(0,_.jsx)(S.v,{size:"sm",animated:!1}),(0,_.jsx)(m.L3,{className:"text-xl text-slate-900",children:F?"\u062a\u0639\u062f\u064a\u0644 \u0627\u0644\u0642\u0627\u0644\u0628":"\u0642\u0627\u0644\u0628 \u062c\u062f\u064a\u062f"})]}),(0,_.jsx)("p",{className:"text-sm text-slate-500 mt-1",children:F?"\u062a\u0639\u062f\u064a\u0644 \u0628\u064a\u0627\u0646\u0627\u062a \u0627\u0644\u0642\u0627\u0644\u0628 \u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645 \u0641\u064a \u0627\u0644\u062c\u062f\u0627\u0648\u0644 \u0627\u0644\u0632\u0645\u0646\u064a\u0629.":"\u0625\u0636\u0627\u0641\u0629 \u0642\u0627\u0644\u0628 \u0645\u0647\u0645\u0629 \u062c\u062f\u064a\u062f. \u0644\u0641\u0626\u0629 \xab\u0627\u0644\u062a\u0633\u0648\u064a\u0629 \u0627\u0644\u062d\u0643\u0648\u0645\u064a\u0629 \u0645\u0639 \u0627\u0644\u0645\u0635\u0627\u0631\u0641\xbb \u0627\u062e\u062a\u0631 \u0627\u0644\u0645\u0635\u0631\u0641 \u0645\u0646 \u0642\u0627\u0626\u0645\u0629 RTGS."})]}),(0,_.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),J&&!B.bankDisplayName)return void t({title:"\u062e\u0637\u0623",description:"\u064a\u0631\u062c\u0649 \u0627\u062e\u062a\u064a\u0627\u0631 \u0627\u0644\u0645\u0635\u0631\u0641 \u0644\u0641\u0626\u0629 \u0627\u0644\u062a\u0633\u0648\u064a\u0629 \u0627\u0644\u062d\u0643\u0648\u0645\u064a\u0629 \u0645\u0639 \u0627\u0644\u0645\u0635\u0627\u0631\u0641",variant:"destructive"});const a=J&&B.bankDisplayName?"".concat($," / ").concat(B.bankDisplayName):B.title.trim();if(a)try{const e={title:a,description:B.description,active:B.active};B.categoryId&&(e.categoryId=parseInt(B.categoryId)),J&&B.bankDisplayName?e.requiredFields={category_type:"government_settlement_bank",bank_display_name:B.bankDisplayName}:F&&(e.requiredFields=null),F?(await u.A.put("/templates/".concat(F.id),e),t({title:"\u0646\u062c\u062d",description:"\u062a\u0645 \u062a\u062d\u062f\u064a\u062b \u0627\u0644\u0642\u0627\u0644\u0628 \u0628\u0646\u062c\u0627\u062d"})):(await u.A.post("/templates",e),t({title:"\u0646\u062c\u062d",description:"\u062a\u0645 \u0625\u0646\u0634\u0627\u0621 \u0627\u0644\u0642\u0627\u0644\u0628 \u0628\u0646\u062c\u0627\u062d"})),T(!1),Y()}catch(r){var s,l;t({title:"\u062e\u0637\u0623",description:(null===(s=r.response)||void 0===s||null===(l=s.data)||void 0===l?void 0:l.error)||"\u062d\u062f\u062b \u062e\u0637\u0623",variant:"destructive"})}else t({title:"\u062e\u0637\u0623",description:"\u0639\u0646\u0648\u0627\u0646 \u0627\u0644\u0642\u0627\u0644\u0628 \u0645\u0637\u0644\u0648\u0628 \u0623\u0648 \u0627\u062e\u062a\u0631 \u0627\u0644\u0645\u0635\u0631\u0641",variant:"destructive"})},className:"space-y-4",children:[(0,_.jsxs)("div",{className:"space-y-2",children:[(0,_.jsx)("label",{className:"text-sm font-medium text-slate-700",children:"\u0627\u0644\u0641\u0626\u0629"}),(0,_.jsx)(x.Z,{value:B.categoryId,onChange:e=>K((0,s.A)((0,s.A)({},B),{},{categoryId:e,bankDisplayName:""})),options:[{id:"",name:"\u2014 \u0644\u0627 \u064a\u0648\u062c\u062f \u2014"},...W],getOptionLabel:e=>e.name,getOptionValue:e=>{var t;return(null===(t=e.id)||void 0===t?void 0:t.toString())||""},placeholder:"\u2014 \u0644\u0627 \u064a\u0648\u062c\u062f \u2014",searchPlaceholder:"\u0627\u0628\u062d\u062b \u0639\u0646 \u0641\u0626\u0629..."})]}),J&&(0,_.jsxs)("div",{className:"space-y-2 rounded-lg border border-slate-200 bg-slate-50 p-3",children:[(0,_.jsx)("label",{className:"text-sm font-medium text-slate-700",children:"\u0627\u0644\u0645\u0635\u0631\u0641 * (\u0646\u0641\u0633 \u0645\u0635\u0627\u0631\u0641 RTGS)"}),(0,_.jsx)(x.Z,{value:B.bankDisplayName,onChange:e=>K((0,s.A)((0,s.A)({},B),{},{bankDisplayName:e})),options:Q,getOptionLabel:e=>e.display_name_ar||e.inst_id,getOptionValue:e=>e.display_name_ar||e.inst_id,placeholder:"\u0627\u062e\u062a\u0631 \u0627\u0644\u0645\u0635\u0631\u0641...",searchPlaceholder:"\u0627\u0628\u062d\u062b \u0639\u0646 \u0645\u0635\u0631\u0641..."}),(0,_.jsx)("p",{className:"text-xs text-slate-500",children:"\u0633\u064a\u0638\u0647\u0631 \u0627\u0644\u0639\u0646\u0648\u0627\u0646: \u0627\u0644\u062a\u0633\u0648\u064a\u0627\u062a \u0627\u0644\u062d\u0643\u0648\u0645\u064a\u0629 \u0645\u0639 \u0627\u0644\u0645\u0635\u0627\u0631\u0641 / [\u0627\u0644\u0645\u0635\u0631\u0641]"})]}),!J&&(0,_.jsxs)("div",{className:"space-y-2",children:[(0,_.jsx)("label",{className:"text-sm font-medium text-slate-700",children:"\u0639\u0646\u0648\u0627\u0646 \u0627\u0644\u0642\u0627\u0644\u0628 *"}),(0,_.jsx)(d.p,{value:B.title,onChange:e=>K((0,s.A)((0,s.A)({},B),{},{title:e.target.value})),placeholder:"\u0623\u062f\u062e\u0644 \u0639\u0646\u0648\u0627\u0646 \u0627\u0644\u0642\u0627\u0644\u0628",required:!0,className:"text-slate-800"})]}),(0,_.jsxs)("div",{className:"space-y-2",children:[(0,_.jsx)("label",{className:"text-sm font-medium text-slate-700",children:"\u0627\u0644\u0648\u0635\u0641"}),(0,_.jsx)(c.T,{value:B.description,onChange:e=>K((0,s.A)((0,s.A)({},B),{},{description:e.target.value})),rows:4,placeholder:"\u0623\u062f\u062e\u0644 \u0648\u0635\u0641 \u0627\u0644\u0642\u0627\u0644\u0628...",className:"text-slate-800"})]}),(0,_.jsxs)("div",{className:"flex items-center gap-2",children:[(0,_.jsx)("input",{type:"checkbox",id:"active",checked:B.active,onChange:e=>K((0,s.A)((0,s.A)({},B),{},{active:e.target.checked})),className:"custom-checkbox"}),(0,_.jsx)("label",{htmlFor:"active",className:"text-sm font-medium cursor-pointer text-slate-700",children:"\u0646\u0634\u0637 (\u0627\u0644\u0642\u0627\u0644\u0628 \u0645\u062a\u0627\u062d \u0644\u0644\u0627\u0633\u062a\u062e\u062f\u0627\u0645 \u0641\u064a \u0627\u0644\u062c\u062f\u0627\u0648\u0644)"})]}),(0,_.jsxs)(m.Es,{className:"gap-2 pt-4 border-t border-slate-200",children:[(0,_.jsx)(o.$,{type:"button",variant:"outline",onClick:()=>T(!1),className:"rounded-xl",children:"\u0625\u0644\u063a\u0627\u0621"}),(0,_.jsx)(o.$,{type:"submit",className:"rounded-xl font-semibold",style:{background:"linear-gradient(135deg, #026174, #068294)"},children:F?"\u062a\u062d\u062f\u064a\u062b \u0627\u0644\u0642\u0627\u0644\u0628":"\u0625\u0646\u0634\u0627\u0621 \u0627\u0644\u0642\u0627\u0644\u0628"})]})]})]})})]})}},25851(e,t,a){a.d(t,{T:()=>r});var s=a(2240),l=a(52422);function r(e,t){const a=(0,s.n)(e=>e.user);return!!a&&(0,l._m)(a.permissions,a.role,e,t)}},38298(e,t,a){a.d(t,{A:()=>s});const s=(0,a(21639).A)("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]])},47810(e,t,a){a.d(t,{T:()=>d});var s=a(22555),l=a(53986),r=a(65043),i=a(15074),n=a(70579);const o=["className"],d=r.forwardRef((e,t)=>{let{className:a}=e,r=(0,l.A)(e,o);return(0,n.jsx)("textarea",(0,s.A)({className:(0,i.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 transition-all resize-none",a),ref:t},r))});d.displayName="Textarea"},49954(e,t,a){a.d(t,{p:()=>x});var s=a(22555),l=a(53986),r=a(65043),i=a(15074),n=a(70579);const o=["className","type","style","error","errorId","onFocus","onBlur"],d="rgba(220, 38, 38, 0.6)",c="rgba(2, 97, 116, 0.25)",x=r.forwardRef((e,t)=>{let{className:a,type:r,style:x,error:m,errorId:p,onFocus:u,onBlur:h}=e,g=(0,l.A)(e,o);return(0,n.jsx)("input",(0,s.A)({type:r,className:(0,i.cn)("flex h-10 w-full rounded-xl border px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-[#026174]/40 disabled:cursor-not-allowed disabled:opacity-50 transition-all",a),style:(0,s.A)({borderColor:m?d:c,background:"#ffffff",color:"#0f172a"},x||{}),onFocus:e=>{e.target.style.borderColor=m?d:"#068294",e.target.style.boxShadow=m?"none":"0 0 0 2px rgba(2, 97, 116, 0.25)",null===u||void 0===u||u(e)},onBlur:e=>{e.target.style.borderColor=m?d:c,e.target.style.boxShadow="none",null===h||void 0===h||h(e)},ref:t,"aria-invalid":!!m||void 0,"aria-describedby":m&&p?p:void 0},g))});x.displayName="Input"},50490(e,t,a){a.d(t,{Q:()=>m});var s=a(65043),l=a(73375),r=a(90948),i=a(17798),n=a(14091),o=a(48221),d=a(56804),c=a(70579);function x(e){let{value:t}=e;const a=(0,r.d)(0),l=(0,i.G)(a,e=>Math.round(e)),[d,x]=(0,s.useState)(0);return(0,n.L)(l,"change",x),(0,s.useEffect)(()=>{const e=(0,o.i)(a,t,{duration:.8,ease:[.25,.46,.45,.94]});return()=>e.stop()},[t,a]),(0,c.jsx)("span",{children:d})}function m(e){let{items:t}=e;return(0,c.jsx)("div",{className:"grid gap-4 mb-6",style:{gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))"},children:t.map((e,t)=>{var a;const s=null!==(a=e.Icon)&&void 0!==a?a:d.A;return(0,c.jsxs)(l.P.div,{initial:{opacity:0,y:24,scale:.95},animate:{opacity:1,y:0,scale:1},transition:{delay:.08*t,type:"spring",stiffness:200,damping:20},className:"group relative overflow-hidden rounded-2xl cursor-default",style:{background:"linear-gradient(145deg, #ffffff 0%, #f8fafc 100%)",boxShadow:"0 4px 20px rgba(15,23,42,0.08), 0 0 0 1px rgba(0,0,0,0.04)",border:"2px solid var(--border-card)"},whileHover:{y:-8,scale:1.04,boxShadow:"0 24px 48px rgba(15,23,42,0.15), 0 0 0 1px rgba(0,0,0,0.06), 0 0 40px ".concat(e.glow),transition:{duration:.3,ease:[.25,.46,.45,.94]}},children:[(0,c.jsx)(l.P.div,{className:"absolute top-0 right-0 left-0 h-1 opacity-80",style:{background:e.gradient,transformOrigin:"right"},initial:{scaleX:0},animate:{scaleX:1},transition:{delay:.08*t+.2,duration:.5,ease:"easeOut"}}),(0,c.jsx)("div",{className:"card-shine-hover absolute inset-0 pointer-events-none overflow-hidden opacity-0 group-hover:opacity-100 transition-opacity",style:{zIndex:0}}),(0,c.jsx)(l.P.div,{className:"absolute inset-y-0 start-0 w-1 rounded-s-2xl group-hover:w-1.5 transition-all duration-300",style:{background:e.gradient,boxShadow:"0 0 12px ".concat(e.glow)},animate:{opacity:[.85,1,.85]},transition:{opacity:{duration:2.5,repeat:1/0,ease:"easeInOut"}}}),(0,c.jsxs)("div",{className:"p-5 flex items-center gap-4 relative z-10",children:[(0,c.jsx)(l.P.div,{className:"flex-shrink-0 w-12 h-12 rounded-xl flex items-center justify-center",style:{background:"linear-gradient(145deg, ".concat(e.color,"18 0%, ").concat(e.color,"08 100%)"),boxShadow:"inset 0 2px 4px rgba(255,255,255,0.5), 0 4px 12px ".concat(e.color,"30")},animate:{scale:[1,1.03,1]},transition:{duration:2.5,repeat:1/0,ease:"easeInOut"},whileHover:{scale:1.12,rotate:6},children:(0,c.jsx)(s,{className:"w-6 h-6",style:{color:e.color},strokeWidth:2.5})}),(0,c.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,c.jsx)("p",{className:"text-xs font-bold m-0 mb-1 tracking-wide uppercase",style:{color:"var(--text-muted)",letterSpacing:"0.05em"},children:e.label}),(0,c.jsx)("p",{className:"text-xl font-extrabold m-0 leading-tight tabular-nums",style:{color:"var(--text-strong)"},dir:"ltr",children:e.formatDisplay?e.formatDisplay(e.value):(0,c.jsx)(x,{value:e.value})})]})]})]},t)})})}},64265(e,t,a){a.d(t,{A:()=>s});const s=(0,a(21639).A)("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]])},66709(e,t,a){a.d(t,{A:()=>s});const s=(0,a(21639).A)("Table2",[["path",{d:"M9 3H5a2 2 0 0 0-2 2v4m6-6h10a2 2 0 0 1 2 2v4M9 3v18m0 0h10a2 2 0 0 0 2-2V9M9 21H5a2 2 0 0 1-2-2V9m0 0h18",key:"gugj83"}]])},70492(e,t,a){a.d(t,{Cf:()=>y,Es:()=>j,L3:()=>w,c7:()=>N,lG:()=>g,rr:()=>k,zM:()=>b});var s=a(22555),l=a(53986),r=a(65043),i=a(95438),n=a(40614),o=a(15074),d=a(70579);const c=["className"],x=["className","children","style"],m=["className"],p=["className"],u=["className"],h=["className"],g=i.bL,b=i.l9,f=i.ZL,v=(i.bm,r.forwardRef((e,t)=>{let{className:a}=e,r=(0,l.A)(e,c);return(0,d.jsx)(i.hJ,(0,s.A)({ref:t,className:(0,o.cn)("fixed inset-0 z-50 backdrop-blur-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",a),style:(0,s.A)({background:"rgba(42, 110, 133, 0.2)"},r.style||{})},r))}));v.displayName=i.hJ.displayName;const y=r.forwardRef((e,t)=>{let{className:a,children:r,style:c}=e,m=(0,l.A)(e,x);return(0,d.jsxs)(f,{children:[(0,d.jsx)(v,{}),(0,d.jsxs)(i.UC,(0,s.A)((0,s.A)({ref:t,className:(0,o.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-5 border-2 p-6 shadow-2xl duration-300 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] rounded-2xl",a),style:(0,s.A)({background:"#ffffff",borderColor:"rgba(6, 130, 148, 0.25)",boxShadow:"0 25px 50px -12px rgba(0, 0, 0, 0.15), 0 0 0 1px rgba(6, 130, 148, 0.08)"},c||{}),"aria-describedby":void 0},m),{},{children:[r,(0,d.jsxs)(i.bm,{className:"absolute right-4 top-4 rounded-xl p-1.5 opacity-70 ring-offset-background transition-all hover:opacity-100 hover:bg-white focus:outline-none focus:ring-2 focus:ring-[#068294] focus:ring-offset-2 disabled:pointer-events-none",style:{color:"#2A6E85"},children:[(0,d.jsx)(n.A,{className:"h-5 w-5"}),(0,d.jsx)("span",{className:"sr-only",children:"\u0625\u063a\u0644\u0627\u0642"})]})]}))]})});y.displayName=i.UC.displayName;const N=e=>{let{className:t}=e,a=(0,l.A)(e,m);return(0,d.jsx)("div",(0,s.A)({className:(0,o.cn)("flex flex-col space-y-1.5 text-center sm:text-right",t)},a))};N.displayName="DialogHeader";const j=e=>{let{className:t}=e,a=(0,l.A)(e,p);return(0,d.jsx)("div",(0,s.A)({className:(0,o.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2 sm:space-x-reverse",t)},a))};j.displayName="DialogFooter";const w=r.forwardRef((e,t)=>{let{className:a}=e,r=(0,l.A)(e,u);return(0,d.jsx)(i.hE,(0,s.A)({ref:t,className:(0,o.cn)("text-lg font-bold leading-none tracking-tight",a),style:(0,s.A)({color:"#2A6E85",fontWeight:700},r.style||{})},r))});w.displayName=i.hE.displayName;const k=r.forwardRef((e,t)=>{let{className:a}=e,r=(0,l.A)(e,h);return(0,d.jsx)(i.VY,(0,s.A)({ref:t,className:(0,o.cn)("text-sm text-muted-foreground",a)},r))});k.displayName=i.VY.displayName},71360(e,t,a){a.d(t,{A:()=>s});const s=(0,a(21639).A)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},72147(e,t,a){a.d(t,{Z:()=>m});var s=a(65043),l=a(36210),r=a(96817),i=a(39292),n=a(15074),o=a(69772),d=a(70492),c=a(49954),x=a(70579);function m(e){let{value:t,onChange:a,options:m,getOptionLabel:p,getOptionValue:u,placeholder:h="\u0627\u062e\u062a\u0631...",searchPlaceholder:g="\u0627\u0628\u062d\u062b...",className:b,disabled:f}=e;const[v,y]=s.useState(!1),[N,j]=s.useState(""),w=s.useMemo(()=>{if(!N)return m;const e=N.toLowerCase();return m.filter(t=>p(t).toLowerCase().includes(e))},[m,N,p]),k=m.find(e=>u(e)===t);return(0,x.jsxs)(x.Fragment,{children:[(0,x.jsxs)(o.$,{type:"button",variant:"outline",role:"combobox","aria-expanded":v,className:(0,n.cn)("w-full justify-between",b),onClick:()=>y(!0),disabled:f,children:[k?p(k):h,(0,x.jsx)(r.A,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"})]}),(0,x.jsx)(d.lG,{open:v,onOpenChange:y,children:(0,x.jsxs)(d.Cf,{className:"sm:max-w-[425px] select-modal-formal ds-popover",children:[(0,x.jsx)(d.c7,{children:(0,x.jsx)(d.L3,{className:"text-slate-800 font-bold text-xl",children:"\u0627\u062e\u062a\u0631 \u0645\u0646 \u0627\u0644\u0642\u0627\u0626\u0645\u0629"})}),(0,x.jsxs)("div",{className:"space-y-4",children:[(0,x.jsxs)("div",{className:"relative",children:[(0,x.jsx)(i.A,{className:"absolute right-3 top-1/2 -translate-y-1/2 h-4 w-4 text-[#068294]"}),(0,x.jsx)(c.p,{placeholder:g,value:N,onChange:e=>j(e.target.value),className:"pr-9 bg-white border-slate-200 text-slate-800 placeholder:text-slate-500 focus:ring-[#068294]/30 focus:border-[#068294]"})]}),(0,x.jsx)("div",{className:"max-h-[300px] overflow-y-auto space-y-1 scrollbar-formal",children:0===w.length?(0,x.jsx)("div",{className:"text-center py-8 text-slate-600 font-medium",children:"\u0644\u0627 \u062a\u0648\u062c\u062f \u0646\u062a\u0627\u0626\u062c"}):w.map(e=>{const s=u(e),r=t===s;return(0,x.jsxs)("button",{type:"button",role:"option","aria-selected":r,onClick:()=>{a(s),y(!1),j("")},className:(0,n.cn)("ds-option w-full text-right flex items-center justify-between px-3 py-2.5 rounded-lg transition-colors",r?"bg-[#EBF4F6] text-[#026174] font-semibold":"bg-transparent text-slate-800"),children:[(0,x.jsx)("span",{children:p(e)}),r&&(0,x.jsx)(l.A,{className:"h-4 w-4 text-[#068294]"})]},s)})})]})]})})]})}},95258(e,t,a){a.d(t,{A:()=>s});const s=(0,a(21639).A)("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]])},95919(e,t,a){a.d(t,{A:()=>s});const s=(0,a(21639).A)("LayoutGrid",[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]])}}]);
//# sourceMappingURL=817.3dcc2e79.chunk.js.map
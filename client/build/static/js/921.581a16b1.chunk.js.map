{"version":3,"file":"static/js/921.581a16b1.chunk.js","mappings":"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","sources":["../node_modules/lucide-react/src/icons/calendar-days.ts","../node_modules/lucide-react/src/icons/trash-2.ts","../node_modules/lucide-react/src/icons/pen-square.ts","hooks/use-schedules.ts","../node_modules/lucide-react/src/icons/toggle-right.ts","../node_modules/lucide-react/src/icons/toggle-left.ts","pages/schedules-v2.tsx","../node_modules/lucide-react/src/icons/layers.ts"],"sourcesContent":["import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name CalendarDays\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cmVjdCB3aWR0aD0iMTgiIGhlaWdodD0iMTgiIHg9IjMiIHk9IjQiIHJ4PSIyIiByeT0iMiIgLz4KICA8bGluZSB4MT0iMTYiIHgyPSIxNiIgeTE9IjIiIHkyPSI2IiAvPgogIDxsaW5lIHgxPSI4IiB4Mj0iOCIgeTE9IjIiIHkyPSI2IiAvPgogIDxsaW5lIHgxPSIzIiB4Mj0iMjEiIHkxPSIxMCIgeTI9IjEwIiAvPgogIDxwYXRoIGQ9Ik04IDE0aC4wMSIgLz4KICA8cGF0aCBkPSJNMTIgMTRoLjAxIiAvPgogIDxwYXRoIGQ9Ik0xNiAxNGguMDEiIC8+CiAgPHBhdGggZD0iTTggMThoLjAxIiAvPgogIDxwYXRoIGQ9Ik0xMiAxOGguMDEiIC8+CiAgPHBhdGggZD0iTTE2IDE4aC4wMSIgLz4KPC9zdmc+Cg==) - https://lucide.dev/icons/calendar-days\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst CalendarDays = createLucideIcon('CalendarDays', [\n  ['rect', { width: '18', height: '18', x: '3', y: '4', rx: '2', ry: '2', key: 'eu3xkr' }],\n  ['line', { x1: '16', x2: '16', y1: '2', y2: '6', key: 'm3sa8f' }],\n  ['line', { x1: '8', x2: '8', y1: '2', y2: '6', key: '18kwsl' }],\n  ['line', { x1: '3', x2: '21', y1: '10', y2: '10', key: 'xt86sb' }],\n  ['path', { d: 'M8 14h.01', key: '6423bh' }],\n  ['path', { d: 'M12 14h.01', key: '1etili' }],\n  ['path', { d: 'M16 14h.01', key: '1gbofw' }],\n  ['path', { d: 'M8 18h.01', key: 'lrp35t' }],\n  ['path', { d: 'M12 18h.01', key: 'mhygvu' }],\n  ['path', { d: 'M16 18h.01', key: 'kzsmim' }],\n]);\n\nexport default CalendarDays;\n","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name Trash2\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMyA2aDE4IiAvPgogIDxwYXRoIGQ9Ik0xOSA2djE0YzAgMS0xIDItMiAySDdjLTEgMC0yLTEtMi0yVjYiIC8+CiAgPHBhdGggZD0iTTggNlY0YzAtMSAxLTIgMi0yaDRjMSAwIDIgMSAyIDJ2MiIgLz4KICA8bGluZSB4MT0iMTAiIHgyPSIxMCIgeTE9IjExIiB5Mj0iMTciIC8+CiAgPGxpbmUgeDE9IjE0IiB4Mj0iMTQiIHkxPSIxMSIgeTI9IjE3IiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/trash-2\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Trash2 = createLucideIcon('Trash2', [\n  ['path', { d: 'M3 6h18', key: 'd0wm0j' }],\n  ['path', { d: 'M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6', key: '4alrt4' }],\n  ['path', { d: 'M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2', key: 'v07s0e' }],\n  ['line', { x1: '10', x2: '10', y1: '11', y2: '17', key: '1uufr5' }],\n  ['line', { x1: '14', x2: '14', y1: '11', y2: '17', key: 'xtxkd' }],\n]);\n\nexport default Trash2;\n","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name PenSquare\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMTEgNEg0YTIgMiAwIDAgMC0yIDJ2MTRhMiAyIDAgMCAwIDIgMmgxNGEyIDIgMCAwIDAgMi0ydi03IiAvPgogIDxwYXRoIGQ9Ik0xOC41IDIuNWEyLjEyIDIuMTIgMCAwIDEgMyAzTDEyIDE1bC00IDEgMS00WiIgLz4KPC9zdmc+Cg==) - https://lucide.dev/icons/pen-square\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst PenSquare = createLucideIcon('PenSquare', [\n  ['path', { d: 'M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7', key: '1qinfi' }],\n  ['path', { d: 'M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z', key: 'w2jsv5' }],\n]);\n\nexport default PenSquare;\n","import { useQuery, useMutation, useQueryClient } from '@tanstack/react-query';\nimport api from '@/lib/api';\nimport { useToast } from '@/hooks/use-toast';\n\nexport function useSchedules(active?: boolean) {\n  return useQuery({\n    queryKey: ['schedules', active],\n    queryFn: async () => {\n      const params = active !== undefined ? `?active=${active}` : '';\n      const response = await api.get(`/schedules${params}`);\n      return response.data;\n    },\n  });\n}\n\nexport function useCreateSchedule() {\n  const queryClient = useQueryClient();\n  const { toast } = useToast();\n\n  return useMutation({\n    mutationFn: async (data: {\n      templateId: number;\n      frequencyType: 'daily' | 'weekly' | 'monthly';\n      daysOfWeek?: number[];\n      dayOfWeekSingle?: number;\n      dayOfMonth?: number;\n      dueTime: string;\n      graceMinutes?: number;\n      defaultAssigneeUserId?: number;\n      active?: boolean;\n    }) => {\n      const response = await api.post('/schedules', data);\n      return response.data;\n    },\n    onSuccess: () => {\n      queryClient.invalidateQueries({ queryKey: ['schedules'] });\n      toast({\n        title: 'نجح',\n        description: 'تم إنشاء الجدول بنجاح',\n      });\n    },\n    onError: (error: any) => {\n      toast({\n        title: 'خطأ',\n        description: error.response?.data?.error || 'حدث خطأ',\n        variant: 'destructive',\n      });\n    },\n  });\n}\n\nexport function useUpdateSchedule() {\n  const queryClient = useQueryClient();\n  const { toast } = useToast();\n\n  return useMutation({\n    mutationFn: async ({ id, ...data }: { id: number; [key: string]: any }) => {\n      const response = await api.put(`/schedules/${id}`, data);\n      return response.data;\n    },\n    onSuccess: () => {\n      queryClient.invalidateQueries({ queryKey: ['schedules'] });\n      toast({\n        title: 'نجح',\n        description: 'تم تحديث الجدول بنجاح',\n      });\n    },\n    onError: (error: any) => {\n      toast({\n        title: 'خطأ',\n        description: error.response?.data?.error || 'حدث خطأ',\n        variant: 'destructive',\n      });\n    },\n  });\n}\n\nexport function useDeleteSchedule() {\n  const queryClient = useQueryClient();\n  const { toast } = useToast();\n\n  return useMutation({\n    mutationFn: async (id: number) => {\n      const response = await api.delete(`/schedules/${id}`);\n      return response.data;\n    },\n    onSuccess: () => {\n      queryClient.invalidateQueries({ queryKey: ['schedules'] });\n      toast({\n        title: 'نجح',\n        description: 'تم حذف الجدول بنجاح',\n      });\n    },\n    onError: (error: any) => {\n      toast({\n        title: 'خطأ',\n        description: error.response?.data?.error || 'حدث خطأ',\n        variant: 'destructive',\n      });\n    },\n  });\n}\n\nexport function useToggleSchedule() {\n  const queryClient = useQueryClient();\n  const { toast } = useToast();\n  const updateSchedule = useUpdateSchedule();\n\n  return useMutation({\n    mutationFn: async ({ id, active }: { id: number; active: boolean }) => {\n      const response = await api.put(`/schedules/${id}`, { active });\n      return response.data;\n    },\n    onSuccess: () => {\n      queryClient.invalidateQueries({ queryKey: ['schedules'] });\n      toast({\n        title: 'نجح',\n        description: 'تم تحديث حالة الجدول بنجاح',\n      });\n    },\n    onError: (error: any) => {\n      toast({\n        title: 'خطأ',\n        description: error.response?.data?.error || 'حدث خطأ',\n        variant: 'destructive',\n      });\n    },\n  });\n}\n","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name ToggleRight\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cmVjdCB3aWR0aD0iMjAiIGhlaWdodD0iMTIiIHg9IjIiIHk9IjYiIHJ4PSI2IiByeT0iNiIgLz4KICA8Y2lyY2xlIGN4PSIxNiIgY3k9IjEyIiByPSIyIiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/toggle-right\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst ToggleRight = createLucideIcon('ToggleRight', [\n  ['rect', { width: '20', height: '12', x: '2', y: '6', rx: '6', ry: '6', key: 'f2vt7d' }],\n  ['circle', { cx: '16', cy: '12', r: '2', key: '4ma0v8' }],\n]);\n\nexport default ToggleRight;\n","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name ToggleLeft\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cmVjdCB3aWR0aD0iMjAiIGhlaWdodD0iMTIiIHg9IjIiIHk9IjYiIHJ4PSI2IiByeT0iNiIgLz4KICA8Y2lyY2xlIGN4PSI4IiBjeT0iMTIiIHI9IjIiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/toggle-left\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst ToggleLeft = createLucideIcon('ToggleLeft', [\n  ['rect', { width: '20', height: '12', x: '2', y: '6', rx: '6', ry: '6', key: 'f2vt7d' }],\n  ['circle', { cx: '8', cy: '12', r: '2', key: '1nvbw3' }],\n]);\n\nexport default ToggleLeft;\n","import { useState } from 'react';\nimport { useQuery } from '@tanstack/react-query';\nimport { motion, AnimatePresence } from 'framer-motion';\nimport { Button } from '@/components/ui/button';\nimport { Input } from '@/components/ui/input';\nimport { SearchableSelect } from '@/components/ui/searchable-select';\nimport {\n  Dialog,\n  DialogContent,\n  DialogHeader,\n  DialogTitle,\n  DialogFooter,\n} from '@/components/ui/dialog';\nimport {\n  useSchedules,\n  useCreateSchedule,\n  useUpdateSchedule,\n  useDeleteSchedule,\n  useToggleSchedule,\n} from '@/hooks/use-schedules';\nimport { useToast } from '@/hooks/use-toast';\nimport api from '@/lib/api';\nimport {\n  Plus,\n  Edit,\n  Trash2,\n  Calendar,\n  Clock,\n  User,\n  ToggleLeft,\n  ToggleRight,\n  Search,\n  Filter,\n  FolderTree,\n  X,\n  Hash,\n  CalendarDays,\n  Layers,\n  LayoutGrid,\n  Table2,\n} from 'lucide-react';\nimport { CompanyLogo } from '@/components/CompanyLogo';\nimport { formatTime12h } from '@/lib/format';\nimport { KpiCards } from '@/components/KpiCards';\nimport { useHasPermission } from '@/hooks/useHasPermission';\n\nconst days = [\n  { value: 0, label: 'الأحد' },\n  { value: 1, label: 'الاثنين' },\n  { value: 2, label: 'الثلاثاء' },\n  { value: 3, label: 'الأربعاء' },\n  { value: 4, label: 'الخميس' },\n  { value: 5, label: 'الجمعة' },\n  { value: 6, label: 'السبت' },\n];\n\nfunction SchedulesV2() {\n  const { toast } = useToast();\n  const canCreate = useHasPermission('schedules', 'create');\n  const canEdit = useHasPermission('schedules', 'edit');\n  const canDelete = useHasPermission('schedules', 'delete');\n  const [showModal, setShowModal] = useState(false);\n  const [editingSchedule, setEditingSchedule] = useState<any>(null);\n  const [searchQuery, setSearchQuery] = useState('');\n  const [filterStatus, setFilterStatus] = useState<string>('');\n  const [filterCategory, setFilterCategory] = useState<string>('');\n  const [filterFrequency, setFilterFrequency] = useState<string>('');\n  const [filterAssignee, setFilterAssignee] = useState<string>('');\n  const [viewMode, setViewMode] = useState<'cards' | 'table'>('cards');\n  const [formData, setFormData] = useState({\n    templateId: '',\n    frequencyType: 'daily' as 'daily' | 'weekly' | 'monthly',\n    daysOfWeek: [] as number[],\n    dayOfWeekSingle: 0,\n    dayOfMonth: 1,\n    dueTime: '',\n    graceMinutes: 0,\n    defaultAssigneeUserId: '',\n    active: true,\n    settlementOffsetDays: 0, // للتسوية الحكومية: 0=نفس اليوم، -1=اليوم السابق، -2=يومين قبله، -3=3 أيام\n  });\n\n  const settlementOffsetOptions = [\n    { value: 0, label: 'تسوية نفس اليوم' },\n    { value: -1, label: 'تسوية اليوم الذي يسبقه' },\n    { value: -2, label: 'تسوية يومين قبله' },\n    { value: -3, label: 'تسوية 3 أيام قبله' },\n  ];\n\n  const { data: schedules = [], isLoading } = useSchedules();\n  const createSchedule = useCreateSchedule();\n  const updateSchedule = useUpdateSchedule();\n  const deleteSchedule = useDeleteSchedule();\n  const toggleSchedule = useToggleSchedule();\n\n  const { data: templates = [] } = useQuery({\n    queryKey: ['templates'],\n    queryFn: async () => {\n      const response = await api.get('/templates?active=true');\n      return response.data;\n    },\n  });\n\n  const { data: users = [] } = useQuery({\n    queryKey: ['users'],\n    queryFn: async () => {\n      const response = await api.get('/users');\n      return response.data.filter((u: any) => u.role === 'employee' && u.active);\n    },\n  });\n\n  const { data: categories = [] } = useQuery({\n    queryKey: ['categories'],\n    queryFn: async () => {\n      const response = await api.get('/categories?active=true');\n      return response.data;\n    },\n  });\n\n  const toggleDay = (dayValue: number) => {\n    setFormData({\n      ...formData,\n      daysOfWeek: formData.daysOfWeek.includes(dayValue)\n        ? formData.daysOfWeek.filter((d) => d !== dayValue)\n        : [...formData.daysOfWeek, dayValue],\n    });\n  };\n\n  const getFrequencyLabel = (schedule: any) => {\n    const offset = schedule.settlement_offset_days != null ? parseInt(schedule.settlement_offset_days, 10) : 0;\n    const offsetLabel =\n      offset === 0\n        ? 'تسوية نفس اليوم'\n        : offset === -1\n          ? 'تسوية اليوم السابق'\n          : offset === -2\n            ? 'تسوية يومين قبله'\n            : offset === -3\n              ? 'تسوية 3 أيام قبله'\n              : offset !== 0\n                ? `تسوية ${offset} أيام`\n                : null;\n    const suffix = offsetLabel ? ` — ${offsetLabel}` : '';\n    if (schedule.frequency_type === 'daily') {\n      if (!schedule.days_of_week || schedule.days_of_week.length === 0)\n        return `يومية (بدون أيام)${suffix}`;\n      const dayLabels = schedule.days_of_week\n        .map((d: number) => days.find((day) => day.value === d)?.label)\n        .filter(Boolean);\n      return `يومية: ${dayLabels.join(', ')}${suffix}`;\n    } else if (schedule.frequency_type === 'weekly') {\n      const dayLabel =\n        days.find((d) => d.value === schedule.day_of_week_single)?.label || 'غير محدد';\n      return `أسبوعية: كل ${dayLabel}${suffix}`;\n    } else if (schedule.frequency_type === 'monthly') {\n      return `شهرية: يوم ${schedule.day_of_month} من كل شهر${suffix}`;\n    }\n    return 'غير محدد';\n  };\n\n  const handleOpenModal = (schedule?: any) => {\n    if (schedule) {\n      setEditingSchedule(schedule);\n      setFormData({\n        templateId: schedule.template_id?.toString() || '',\n        frequencyType: schedule.frequency_type || 'daily',\n        daysOfWeek: schedule.days_of_week || [],\n        dayOfWeekSingle: schedule.day_of_week_single || 0,\n        dayOfMonth: schedule.day_of_month || 1,\n        dueTime: schedule.due_time || '',\n        graceMinutes: schedule.grace_minutes || 0,\n        defaultAssigneeUserId: schedule.default_assignee_user_id?.toString() || '',\n        active: schedule.active !== false,\n        settlementOffsetDays: schedule.settlement_offset_days ?? 0,\n      });\n    } else {\n      setEditingSchedule(null);\n      setFormData({\n        templateId: '',\n        frequencyType: 'daily',\n        daysOfWeek: [],\n        dayOfWeekSingle: 0,\n        dayOfMonth: 1,\n        dueTime: '',\n        graceMinutes: 0,\n        defaultAssigneeUserId: '',\n        active: true,\n        settlementOffsetDays: 0,\n      });\n    }\n    setShowModal(true);\n  };\n\n  const selectedTemplate = formData.templateId\n    ? templates.find((t: any) => t.id?.toString() === formData.templateId)\n    : null;\n  const isGovSettlementTemplate =\n    selectedTemplate?.required_fields?.category_type === 'government_settlement_bank';\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault();\n\n    if (!formData.templateId) {\n      toast({\n        title: 'خطأ',\n        description: 'يرجى اختيار قالب المهمة',\n        variant: 'destructive',\n      });\n      return;\n    }\n\n    if (!formData.dueTime) {\n      toast({\n        title: 'خطأ',\n        description: 'وقت الاستحقاق مطلوب',\n        variant: 'destructive',\n      });\n      return;\n    }\n\n    if (formData.frequencyType === 'daily' && formData.daysOfWeek.length === 0) {\n      toast({\n        title: 'خطأ',\n        description: 'يرجى اختيار يوم واحد على الأقل',\n        variant: 'destructive',\n      });\n      return;\n    }\n\n    const payload: any = {\n      templateId: parseInt(formData.templateId),\n      frequencyType: formData.frequencyType,\n      dueTime: formData.dueTime,\n      graceMinutes: formData.graceMinutes,\n      active: formData.active,\n    };\n\n    if (formData.frequencyType === 'daily') {\n      payload.daysOfWeek = formData.daysOfWeek;\n    } else if (formData.frequencyType === 'weekly') {\n      payload.dayOfWeekSingle = formData.dayOfWeekSingle;\n    } else if (formData.frequencyType === 'monthly') {\n      payload.dayOfMonth = formData.dayOfMonth;\n    }\n\n    if (formData.defaultAssigneeUserId) {\n      payload.defaultAssigneeUserId = parseInt(formData.defaultAssigneeUserId);\n    }\n\n    if (isGovSettlementTemplate && formData.settlementOffsetDays != null) {\n      payload.settlementOffsetDays = parseInt(String(formData.settlementOffsetDays), 10);\n    }\n\n    try {\n      if (editingSchedule) {\n        await updateSchedule.mutateAsync({ id: editingSchedule.id, ...payload });\n      } else {\n        await createSchedule.mutateAsync(payload);\n      }\n      setShowModal(false);\n    } catch (error) {\n      // Error handled by mutation\n    }\n  };\n\n  const handleDelete = async (id: number) => {\n    if (window.confirm('هل أنت متأكد من حذف هذا الجدول؟')) {\n      await deleteSchedule.mutateAsync(id);\n    }\n  };\n\n  const handleToggle = async (id: number, active: boolean) => {\n    await toggleSchedule.mutateAsync({ id, active: !active });\n  };\n\n  // Filter and search logic\n  const filteredSchedules = schedules.filter((schedule: any) => {\n    // Search filter\n    if (searchQuery) {\n      const query = searchQuery.toLowerCase();\n      const matchesSearch =\n        schedule.template_title?.toLowerCase().includes(query) ||\n        schedule.category_name?.toLowerCase().includes(query) ||\n        schedule.assignee_name?.toLowerCase().includes(query);\n      if (!matchesSearch) return false;\n    }\n\n    // Status filter\n    if (filterStatus) {\n      if (filterStatus === 'active' && !schedule.active) return false;\n      if (filterStatus === 'inactive' && schedule.active) return false;\n    }\n\n    // Category filter\n    if (filterCategory) {\n      if (schedule.category_id?.toString() !== filterCategory) return false;\n    }\n\n    // Frequency filter\n    if (filterFrequency) {\n      if (schedule.frequency_type !== filterFrequency) return false;\n    }\n\n    // Assignee filter\n    if (filterAssignee) {\n      if (schedule.default_assignee_user_id?.toString() !== filterAssignee) return false;\n    }\n\n    return true;\n  });\n\n  const activeCount = schedules.filter((s: any) => s.active).length;\n  const inactiveCount = schedules.filter((s: any) => !s.active).length;\n\n  const clearFilters = () => {\n    setSearchQuery('');\n    setFilterStatus('');\n    setFilterCategory('');\n    setFilterFrequency('');\n    setFilterAssignee('');\n  };\n\n  return (\n    <div\n      className=\"min-h-screen\"\n      style={{\n        padding: '1.5rem 2rem',\n        background: 'linear-gradient(180deg, #f1f5f9 0%, #e2e8f0 100%)',\n      }}\n    >\n      <div className=\"mx-auto\" style={{ maxWidth: '1400px' }}>\n        {/* Header */}\n        <div\n          className=\"page-header-teal rounded-xl flex flex-wrap items-center justify-between gap-4 p-5 mb-6\"\n          style={{\n            background: 'linear-gradient(135deg, #026174 0%, #068294 100%)',\n            color: '#ffffff',\n            boxShadow: '0 10px 30px rgba(2, 97, 116, 0.35)',\n          }}\n        >\n          <div>\n            <h1 className=\"text-2xl font-bold m-0 text-white\">الجداول الزمنية</h1>\n            <p className=\"text-sm opacity-90 mt-1 m-0 text-white\">\n              إدارة جداول المهام المجدولة\n            </p>\n          </div>\n          <div className=\"flex items-center gap-2 flex-wrap\">\n            <div className=\"flex rounded-full overflow-hidden border border-white/30 bg-white/10 p-0.5\">\n              <button\n                type=\"button\"\n                onClick={() => setViewMode('cards')}\n                className={`flex items-center gap-2 px-3 py-2 rounded-full text-sm font-medium transition-colors ${viewMode === 'cards' ? 'bg-white text-[#026174] shadow' : 'text-white/90 hover:bg-white/10'}`}\n              >\n                <LayoutGrid className=\"w-4 h-4\" />\n                كروت\n              </button>\n              <button\n                type=\"button\"\n                onClick={() => setViewMode('table')}\n                className={`flex items-center gap-2 px-3 py-2 rounded-full text-sm font-medium transition-colors ${viewMode === 'table' ? 'bg-white text-[#026174] shadow' : 'text-white/90 hover:bg-white/10'}`}\n              >\n                <Table2 className=\"w-4 h-4\" />\n                جدول\n              </button>\n            </div>\n            {canCreate && (\n            <button\n              type=\"button\"\n              onClick={() => handleOpenModal()}\n              className=\"flex items-center gap-2 px-4 py-2 rounded-full text-sm font-medium bg-white text-[#026174] cursor-pointer hover:bg-white/95 transition-colors shadow\"\n            >\n              <Plus className=\"w-4 h-4\" />\n              جدول جديد\n            </button>\n            )}\n          </div>\n        </div>\n\n        <KpiCards\n          items={[\n            { label: 'إجمالي الجداول', value: schedules.length, Icon: Hash, color: '#068294', glow: 'rgba(6, 130, 148, 0.4)', gradient: 'linear-gradient(135deg, #068294 0%, #026174 100%)' },\n            { label: 'جداول نشطة', value: activeCount, Icon: CalendarDays, color: '#059669', glow: 'rgba(5, 150, 105, 0.4)', gradient: 'linear-gradient(135deg, #059669 0%, #047857 100%)' },\n            { label: 'جداول غير نشطة', value: inactiveCount, Icon: Calendar, color: '#64748b', glow: 'rgba(100, 116, 139, 0.35)', gradient: 'linear-gradient(135deg, #64748b 0%, #475569 100%)' },\n            { label: 'القوالب', value: templates.length, Icon: Layers, color: '#0369a1', glow: 'rgba(3, 105, 161, 0.4)', gradient: 'linear-gradient(135deg, #0369a1 0%, #0284c7 100%)' },\n          ]}\n        />\n\n        {/* Filters */}\n        <div\n          className=\"rounded-2xl p-5 mb-6 border border-slate-200/80\"\n          style={{\n            background: 'linear-gradient(180deg, #ffffff 0%, #f8fafc 100%)',\n            boxShadow: '0 4px 20px rgba(0,0,0,0.06)',\n          }}\n        >\n          <div className=\"flex items-center gap-2 mb-4\">\n            <div className=\"p-1.5 rounded-lg bg-slate-100\">\n              <Filter className=\"w-4 h-4 text-slate-600\" />\n            </div>\n            <span className=\"text-base font-semibold text-slate-700\">الفلاتر والبحث</span>\n          </div>\n          <div className=\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-5 gap-4\">\n            <div className=\"lg:col-span-2\">\n              <label className=\"block text-xs font-medium text-slate-500 mb-1\">بحث</label>\n              <div className=\"relative\">\n                <Search className=\"absolute right-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400\" />\n                <input\n                  type=\"text\"\n                  placeholder=\"ابحث بالقالب أو الفئة أو المسؤول...\"\n                  value={searchQuery}\n                  onChange={(e) => setSearchQuery(e.target.value)}\n                  className=\"w-full pr-10 px-3 py-2 border border-slate-200 rounded-lg text-sm focus:ring-2 focus:ring-[#068294]/30 focus:border-[#068294] bg-white text-slate-800\"\n                />\n              </div>\n            </div>\n            <div>\n              <label className=\"block text-xs font-medium text-slate-500 mb-1\">الحالة</label>\n              <SearchableSelect\n                value={filterStatus}\n                onChange={setFilterStatus}\n                options={[\n                  { value: '', label: 'الكل' },\n                  { value: 'active', label: 'نشط' },\n                  { value: 'inactive', label: 'غير نشط' },\n                ]}\n                getOptionLabel={(opt: any) => opt.label}\n                getOptionValue={(opt: any) => opt.value}\n                placeholder=\"الكل\"\n                searchPlaceholder=\"ابحث...\"\n              />\n            </div>\n            <div>\n              <label className=\"block text-xs font-medium text-slate-500 mb-1\">الفئة</label>\n              <SearchableSelect\n                value={filterCategory}\n                onChange={setFilterCategory}\n                options={[{ id: '', name: 'الكل' }, ...categories]}\n                getOptionLabel={(opt: any) => opt.name}\n                getOptionValue={(opt: any) => opt.id?.toString() || ''}\n                placeholder=\"الكل\"\n                searchPlaceholder=\"ابحث عن فئة...\"\n              />\n            </div>\n            <div>\n              <label className=\"block text-xs font-medium text-slate-500 mb-1\">نوع التكرار</label>\n              <SearchableSelect\n                value={filterFrequency}\n                onChange={setFilterFrequency}\n                options={[\n                  { value: '', label: 'الكل' },\n                  { value: 'daily', label: 'يومية' },\n                  { value: 'weekly', label: 'أسبوعية' },\n                  { value: 'monthly', label: 'شهرية' },\n                ]}\n                getOptionLabel={(opt: any) => opt.label}\n                getOptionValue={(opt: any) => opt.value}\n                placeholder=\"الكل\"\n                searchPlaceholder=\"ابحث...\"\n              />\n            </div>\n            <div>\n              <label className=\"block text-xs font-medium text-slate-500 mb-1\">المسؤول</label>\n              <SearchableSelect\n                value={filterAssignee}\n                onChange={setFilterAssignee}\n                options={[{ id: '', name: 'الكل' }, ...users]}\n                getOptionLabel={(opt: any) => opt.name}\n                getOptionValue={(opt: any) => opt.id?.toString() || ''}\n                placeholder=\"الكل\"\n                searchPlaceholder=\"ابحث عن مسؤول...\"\n              />\n            </div>\n          </div>\n          {(searchQuery || filterStatus || filterCategory || filterFrequency || filterAssignee) && (\n            <div className=\"mt-4 flex items-center gap-2 flex-wrap\">\n              <button\n                type=\"button\"\n                onClick={clearFilters}\n                className=\"px-4 py-2 rounded-lg text-sm font-medium bg-slate-100 text-slate-600 hover:bg-slate-200 flex items-center gap-1\"\n              >\n                <X className=\"w-4 h-4\" />\n                مسح الفلاتر\n              </button>\n              <span className=\"text-sm text-slate-500\">\n                عرض {filteredSchedules.length} من {schedules.length} جدول\n              </span>\n            </div>\n          )}\n        </div>\n\n        {/* Schedules Grid */}\n        <div\n          className=\"rounded-2xl overflow-hidden\"\n          style={{\n            background: 'var(--surface)',\n            boxShadow: 'var(--shadow-card)',\n            border: '1px solid var(--border)',\n          }}\n        >\n          {isLoading ? (\n            <div className=\"p-16 flex justify-center\">\n              <div className=\"animate-pulse flex flex-col items-center gap-4\">\n                <div className=\"w-14 h-14 rounded-2xl bg-slate-100\" />\n                <p className=\"text-sm font-medium\" style={{ color: 'var(--text-muted)' }}>جاري تحميل الجداول...</p>\n              </div>\n            </div>\n          ) : filteredSchedules.length === 0 ? (\n            <div className=\"p-16 text-center\">\n              <div className=\"w-16 h-16 rounded-2xl mx-auto mb-4 flex items-center justify-center\" style={{ background: 'rgba(8, 131, 149, 0.08)' }}>\n                <Calendar className=\"w-8 h-8\" style={{ color: 'var(--primary-600)' }} />\n              </div>\n              <p className=\"text-lg font-bold m-0\" style={{ color: 'var(--text-strong)' }}>\n                {schedules.length === 0 ? 'لا توجد جداول زمنية' : 'لا توجد نتائج تطابق البحث والفلاتر'}\n              </p>\n              {schedules.length === 0 && canCreate && (\n                <button\n                  type=\"button\"\n                  onClick={() => handleOpenModal()}\n                  className=\"mt-5 ds-btn ds-btn-primary inline-flex items-center gap-2\"\n                >\n                  <Plus className=\"w-4 h-4\" />\n                  إنشاء جدول جديد\n                </button>\n              )}\n            </div>\n          ) : viewMode === 'table' ? (\n            <div className=\"overflow-x-auto\">\n              <table className=\"ds-table w-full\">\n                <thead>\n                  <tr className=\"table-header-dark\" style={{ background: 'linear-gradient(135deg, #026174 0%, #068294 100%)' }}>\n                    <th className=\"text-end py-4 px-4 font-bold text-white\">القالب</th>\n                    <th className=\"text-end py-4 px-4 font-bold text-white\">الفئة</th>\n                    <th className=\"text-end py-4 px-4 font-bold text-white\">التكرار</th>\n                    <th className=\"text-end py-4 px-4 font-bold text-white\">وقت الاستحقاق</th>\n                    <th className=\"text-end py-4 px-4 font-bold text-white\">المسؤول</th>\n                    <th className=\"text-end py-4 px-4 font-bold text-white\">الحالة</th>\n                    <th className=\"text-end py-4 px-4 font-bold text-white\">إجراءات</th>\n                  </tr>\n                </thead>\n                <tbody>\n                  {filteredSchedules.map((schedule: any) => (\n                    <tr key={schedule.id}>\n                      <td className=\"py-3 px-4 font-medium\" style={{ color: 'var(--text-strong)' }}>{schedule.template_title}</td>\n                      <td className=\"py-3 px-4\" style={{ color: 'var(--text)' }}>{schedule.category_name || '—'}</td>\n                      <td className=\"py-3 px-4 text-sm\" style={{ color: 'var(--text)' }}>{getFrequencyLabel(schedule)}</td>\n                      <td className=\"py-3 px-4\" style={{ color: 'var(--text)' }} dir=\"ltr\">{formatTime12h(schedule.due_time)}</td>\n                      <td className=\"py-3 px-4\" style={{ color: 'var(--text)' }}>{schedule.assignee_name || '—'}</td>\n                      <td className=\"py-3 px-4\">\n                        <span\n                          className=\"inline-flex px-2.5 py-1 rounded-lg text-xs font-bold\"\n                          style={{\n                            background: schedule.active ? 'rgba(22, 163, 74, 0.12)' : 'rgba(100, 116, 139, 0.12)',\n                            color: schedule.active ? 'var(--success)' : 'var(--text-muted)',\n                          }}\n                        >\n                          {schedule.active ? 'نشط' : 'غير نشط'}\n                        </span>\n                      </td>\n                      <td className=\"py-3 px-4\">\n                        <div className=\"flex items-center gap-2 justify-end\">\n                          {canEdit && (\n                          <button\n                            type=\"button\"\n                            onClick={() => handleOpenModal(schedule)}\n                            className=\"ds-btn ds-btn-outline flex items-center gap-1.5 px-3 py-1.5 text-sm\"\n                          >\n                            <Edit className=\"w-3.5 h-3.5\" />\n                            تعديل\n                          </button>\n                          )}\n                          {canEdit && (\n                          <button\n                            type=\"button\"\n                            onClick={() => handleToggle(schedule.id, schedule.active)}\n                            className=\"p-2 rounded-lg border hover:bg-slate-100 transition-colors\"\n                            title={schedule.active ? 'إلغاء التفعيل' : 'تفعيل'}\n                          >\n                            {schedule.active ? <ToggleRight className=\"w-4 h-4\" /> : <ToggleLeft className=\"w-4 h-4\" />}\n                          </button>\n                          )}\n                          {canDelete && (\n                          <button\n                            type=\"button\"\n                            onClick={() => handleDelete(schedule.id)}\n                            className=\"ds-btn ds-btn-danger p-2 rounded-lg\"\n                            title=\"حذف\"\n                          >\n                            <Trash2 className=\"w-4 h-4\" />\n                          </button>\n                          )}\n                        </div>\n                      </td>\n                    </tr>\n                  ))}\n                </tbody>\n              </table>\n            </div>\n          ) : (\n            <div className=\"p-6\">\n              <div className=\"grid gap-5 sm:grid-cols-2 xl:grid-cols-3\">\n                <AnimatePresence>\n                  {filteredSchedules.map((schedule: any, index: number) => (\n                    <motion.div\n                      key={schedule.id}\n                      initial={{ opacity: 0, y: 16 }}\n                      animate={{ opacity: 1, y: 0 }}\n                      exit={{ opacity: 0, scale: 0.98 }}\n                      whileHover={{\n                        scale: 1.15,\n                        y: -8,\n                        zIndex: 20,\n                        boxShadow: '0 28px 56px rgba(2, 97, 116, 0.2), 0 0 0 1px rgba(8, 131, 149, 0.3)',\n                        transition: { duration: 0.3, ease: [0.25, 0.46, 0.45, 0.94] },\n                      }}\n                      transition={{\n                        duration: 0.25,\n                        delay: index * 0.03,\n                        ease: [0.25, 0.46, 0.45, 0.94],\n                      }}\n                      className=\"group relative flex flex-col rounded-2xl overflow-hidden cursor-pointer\"\n                      style={{\n                        background: 'var(--surface)',\n                        border: '2px solid var(--border-card)',\n                        boxShadow: '0 2px 8px rgba(15, 23, 42, 0.06), inset 0 1px 0 rgba(255,255,255,0.8)',\n                      }}\n                    >\n                      <div className=\"absolute inset-0 opacity-0 group-hover:opacity-100 pointer-events-none overflow-hidden rounded-2xl card-shine-hover\" />\n                      <div\n                        className=\"absolute top-0 bottom-0 w-1 rounded-r-full opacity-80 group-hover:opacity-100 group-hover:w-1.5 transition-all duration-300\"\n                        style={{\n                          right: 0,\n                          background: schedule.active\n                            ? 'linear-gradient(180deg, var(--success), #22c55e)'\n                            : 'linear-gradient(180deg, var(--text-muted), #94a3b8)',\n                          boxShadow: schedule.active ? '0 0 12px rgba(22, 163, 74, 0.3)' : '0 0 8px rgba(100, 116, 139, 0.2)',\n                        }}\n                      />\n                      <div\n                        className=\"absolute top-0 right-0 left-0 h-1 opacity-0 group-hover:opacity-100 transition-opacity duration-300\"\n                        style={{ background: 'linear-gradient(90deg, var(--primary-600), var(--primary-800))' }}\n                      />\n                      <div className=\"p-5 pl-5 pr-6 flex flex-col flex-1\">\n                        <div className=\"flex items-start justify-between gap-3 mb-2\">\n                          <h3\n                            className=\"text-lg font-bold leading-snug line-clamp-2 flex-1 min-w-0\"\n                            style={{ color: 'var(--text-strong)' }}\n                          >\n                            {schedule.template_title}\n                          </h3>\n                          <span\n                            className=\"inline-flex items-center px-2.5 py-1 rounded-lg text-xs font-bold shrink-0\"\n                            style={{\n                              background: schedule.active ? 'rgba(22, 163, 74, 0.12)' : 'rgba(100, 116, 139, 0.12)',\n                              color: schedule.active ? 'var(--success)' : 'var(--text-muted)',\n                            }}\n                          >\n                            {schedule.active ? 'نشط' : 'غير نشط'}\n                          </span>\n                        </div>\n                        {schedule.category_name && (\n                          <div\n                            className=\"inline-flex items-center gap-1.5 w-fit px-2.5 py-1 rounded-lg mb-3 text-sm font-medium\"\n                            style={{\n                              background: 'rgba(8, 131, 149, 0.08)',\n                              color: 'var(--primary-800)',\n                            }}\n                          >\n                            <FolderTree className=\"w-3.5 h-3.5\" />\n                            {schedule.category_name}\n                          </div>\n                        )}\n                        <div className=\"space-y-2 mb-4\">\n                          <div className=\"flex items-center gap-2 text-sm\">\n                            <Calendar className=\"w-4 h-4 flex-shrink-0\" style={{ color: 'var(--text-muted)' }} />\n                            <span style={{ color: 'var(--text-muted)' }}>التكرار:</span>\n                            <span style={{ color: 'var(--text)' }}>{getFrequencyLabel(schedule)}</span>\n                          </div>\n                          <div className=\"flex items-center gap-2 text-sm\">\n                            <Clock className=\"w-4 h-4 flex-shrink-0\" style={{ color: 'var(--text-muted)' }} />\n                            <span style={{ color: 'var(--text-muted)' }}>وقت الاستحقاق:</span>\n                            <span style={{ color: 'var(--text)' }}>{formatTime12h(schedule.due_time)}</span>\n                          </div>\n                          {schedule.assignee_name && (\n                            <div className=\"flex items-center gap-2 text-sm\">\n                              <User className=\"w-4 h-4 flex-shrink-0\" style={{ color: 'var(--text-muted)' }} />\n                              <span style={{ color: 'var(--text-muted)' }}>المسؤول:</span>\n                              <span style={{ color: 'var(--text)' }}>{schedule.assignee_name}</span>\n                            </div>\n                          )}\n                        </div>\n                        <div className=\"flex gap-2 pt-4 mt-auto border-t\" style={{ borderColor: 'var(--border)' }}>\n                          {canEdit && (\n                          <motion.button\n                            type=\"button\"\n                            onClick={(e) => { e.stopPropagation(); handleOpenModal(schedule); }}\n                            className=\"ds-btn ds-btn-outline flex-1 flex items-center justify-center gap-2 text-sm\"\n                            whileHover={{ scale: 1.03 }}\n                            whileTap={{ scale: 0.98 }}\n                          >\n                            <Edit className=\"w-4 h-4\" />\n                            تعديل\n                          </motion.button>\n                          )}\n                          <motion.button\n                            type=\"button\"\n                            onClick={(e) => { e.stopPropagation(); handleToggle(schedule.id, schedule.active); }}\n                            className=\"ds-btn ds-btn-ghost flex items-center justify-center p-2.5\"\n                            title={schedule.active ? 'إلغاء التفعيل' : 'تفعيل'}\n                            whileHover={{ scale: 1.05 }}\n                            whileTap={{ scale: 0.95 }}\n                          >\n                            {schedule.active ? <ToggleRight className=\"w-4 h-4\" /> : <ToggleLeft className=\"w-4 h-4\" />}\n                          </motion.button>\n                          {canDelete && (\n                          <motion.button\n                            type=\"button\"\n                            onClick={(e) => { e.stopPropagation(); handleDelete(schedule.id); }}\n                            className=\"ds-btn ds-btn-danger flex items-center justify-center p-2.5\"\n                            title=\"حذف\"\n                            whileHover={{ scale: 1.05 }}\n                            whileTap={{ scale: 0.95 }}\n                          >\n                            <Trash2 className=\"w-4 h-4\" />\n                          </motion.button>\n                          )}\n                        </div>\n                      </div>\n                    </motion.div>\n                  ))}\n                </AnimatePresence>\n              </div>\n            </div>\n          )}\n        </div>\n\n      {/* Create/Edit Modal */}\n      <Dialog open={showModal} onOpenChange={setShowModal}>\n        <DialogContent className=\"max-w-2xl max-h-[90vh] overflow-y-auto ds-popover\">\n          <DialogHeader>\n            <div className=\"flex items-center gap-3\">\n              <CompanyLogo size=\"sm\" animated={false} />\n              <DialogTitle className=\"text-xl font-bold text-slate-900\">{editingSchedule ? 'تعديل الجدول' : 'جدول جديد'}</DialogTitle>\n            </div>\n            <p className=\"text-sm text-slate-500 mt-1\">\n              {editingSchedule ? 'تعديل إعدادات الجدول الزمني.' : 'إضافة جدول زمني جديد لتوليد المهام تلقائياً.'}\n            </p>\n          </DialogHeader>\n          <form onSubmit={handleSubmit} className=\"space-y-4\">\n            <div className=\"space-y-2\">\n              <label className=\"text-sm font-medium text-slate-700\">قالب المهمة *</label>\n              <SearchableSelect\n                value={formData.templateId}\n                onChange={(val) => setFormData({ ...formData, templateId: val })}\n                options={templates}\n                getOptionLabel={(opt: any) => opt.title}\n                getOptionValue={(opt: any) => opt.id.toString()}\n                placeholder=\"— اختر قالب —\"\n                searchPlaceholder=\"ابحث عن قالب...\"\n              />\n            </div>\n\n            <div className=\"space-y-2\">\n              <label className=\"text-sm font-medium text-slate-700\">نوع التكرار *</label>\n              <SearchableSelect\n                value={formData.frequencyType}\n                onChange={(val) =>\n                  setFormData({ ...formData, frequencyType: val as any, daysOfWeek: [] })\n                }\n                options={[\n                  { value: 'daily', label: 'يومية' },\n                  { value: 'weekly', label: 'أسبوعية' },\n                  { value: 'monthly', label: 'شهرية' },\n                ]}\n                getOptionLabel={(opt: any) => opt.label}\n                getOptionValue={(opt: any) => opt.value}\n                placeholder=\"اختر نوع التكرار\"\n              />\n            </div>\n\n            {isGovSettlementTemplate && (\n              <div className=\"space-y-2 rounded-lg border border-slate-200 bg-slate-50 p-3\">\n                <label className=\"text-sm font-medium text-slate-700\">يوم التسوية المطلوب *</label>\n                <SearchableSelect\n                  value={String(formData.settlementOffsetDays)}\n                  onChange={(val) => setFormData({ ...formData, settlementOffsetDays: parseInt(val, 10) })}\n                  options={settlementOffsetOptions}\n                  getOptionLabel={(opt: any) => opt.label}\n                  getOptionValue={(opt: any) => String(opt.value)}\n                  placeholder=\"اختر تسوية...\"\n                  searchPlaceholder=\"ابحث...\"\n                />\n                <p className=\"text-xs text-slate-500\">\n                  مثال: عند اختيار الأربعاء و«تسوية اليوم الذي يسبقه» تُنشأ مهمة تطلب تسوية الثلاثاء. يمكن إنشاء عدة جداول لنفس القالب (تسوية نفس اليوم، اليوم السابق، إلخ) ليوم واحد.\n                </p>\n              </div>\n            )}\n\n            {formData.frequencyType === 'daily' && (\n              <div className=\"space-y-2\">\n                <label className=\"text-sm font-medium text-slate-700\">أيام الأسبوع *</label>\n                <div className=\"grid grid-cols-4 gap-2\">\n                  {days.map((day) => (\n                    <Button\n                      key={day.value}\n                      type=\"button\"\n                      variant={formData.daysOfWeek.includes(day.value) ? 'default' : 'outline'}\n                      onClick={() => toggleDay(day.value)}\n                      className=\"w-full\"\n                    >\n                      {day.label}\n                    </Button>\n                  ))}\n                </div>\n              </div>\n            )}\n\n            {formData.frequencyType === 'weekly' && (\n              <div className=\"space-y-2\">\n                <label className=\"text-sm font-medium text-slate-700\">يوم الأسبوع *</label>\n                <SearchableSelect\n                  value={formData.dayOfWeekSingle.toString()}\n                  onChange={(val) => setFormData({ ...formData, dayOfWeekSingle: parseInt(val) })}\n                  options={days}\n                  getOptionLabel={(opt: any) => opt.label}\n                  getOptionValue={(opt: any) => opt.value.toString()}\n                  placeholder=\"اختر يوم الأسبوع\"\n                />\n              </div>\n            )}\n\n            {formData.frequencyType === 'monthly' && (\n              <div className=\"space-y-2\">\n                <label className=\"text-sm font-medium text-slate-700\">يوم الشهر *</label>\n                <Input\n                  type=\"number\"\n                  min=\"1\"\n                  max=\"31\"\n                  value={formData.dayOfMonth}\n                  onChange={(e) =>\n                    setFormData({ ...formData, dayOfMonth: parseInt(e.target.value) || 1 })\n                  }\n                />\n              </div>\n            )}\n\n            <div className=\"grid grid-cols-2 gap-4\">\n              <div className=\"space-y-2\">\n                <label className=\"text-sm font-medium text-slate-700\">وقت الاستحقاق *</label>\n                <Input\n                  type=\"time\"\n                  value={formData.dueTime}\n                  onChange={(e) => setFormData({ ...formData, dueTime: e.target.value })}\n                />\n              </div>\n              <div className=\"space-y-2\">\n                <label className=\"text-sm font-medium text-slate-700\">دقائق السماح</label>\n                <Input\n                  type=\"number\"\n                  min=\"0\"\n                  value={formData.graceMinutes}\n                  onChange={(e) =>\n                    setFormData({ ...formData, graceMinutes: parseInt(e.target.value) || 0 })\n                  }\n                />\n              </div>\n            </div>\n\n            <div className=\"space-y-2\">\n              <label className=\"text-sm font-medium text-slate-700\">المسؤول الافتراضي</label>\n              <SearchableSelect\n                value={formData.defaultAssigneeUserId}\n                onChange={(val) => setFormData({ ...formData, defaultAssigneeUserId: val })}\n                options={[{ id: '', name: '— لا يوجد —' }, ...users]}\n                getOptionLabel={(opt: any) => opt.name}\n                getOptionValue={(opt: any) => opt.id?.toString() || ''}\n                placeholder=\"— لا يوجد —\"\n                searchPlaceholder=\"ابحث عن موظف...\"\n              />\n            </div>\n\n            <div className=\"flex items-center gap-2\">\n              <input\n                type=\"checkbox\"\n                id=\"active\"\n                checked={formData.active}\n                onChange={(e) => setFormData({ ...formData, active: e.target.checked })}\n                className=\"custom-checkbox\"\n              />\n              <label htmlFor=\"active\" className=\"text-sm font-medium cursor-pointer text-slate-700\">\n                نشط\n              </label>\n            </div>\n\n            <DialogFooter className=\"gap-2 pt-4 border-t border-slate-200\">\n              <Button type=\"button\" variant=\"outline\" onClick={() => setShowModal(false)} className=\"rounded-xl\">\n                إلغاء\n              </Button>\n              <Button\n                type=\"submit\"\n                disabled={createSchedule.isPending || updateSchedule.isPending}\n                className=\"rounded-xl font-semibold\"\n                style={{ background: 'linear-gradient(135deg, #026174, #068294)' }}\n              >\n                {createSchedule.isPending || updateSchedule.isPending\n                  ? 'جاري الحفظ...'\n                  : editingSchedule\n                  ? 'تحديث'\n                  : 'إنشاء'}\n              </Button>\n            </DialogFooter>\n          </form>\n        </DialogContent>\n      </Dialog>\n      </div>\n    </div>\n  );\n}\n\nexport default SchedulesV2;\n","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name Layers\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJtMTIuODMgMi4xOGEyIDIgMCAwIDAtMS42NiAwTDIuNiA2LjA4YTEgMSAwIDAgMCAwIDEuODNsOC41OCAzLjkxYTIgMiAwIDAgMCAxLjY2IDBsOC41OC0zLjlhMSAxIDAgMCAwIDAtMS44M1oiIC8+CiAgPHBhdGggZD0ibTIyIDE3LjY1LTkuMTcgNC4xNmEyIDIgMCAwIDEtMS42NiAwTDIgMTcuNjUiIC8+CiAgPHBhdGggZD0ibTIyIDEyLjY1LTkuMTcgNC4xNmEyIDIgMCAwIDEtMS42NiAwTDIgMTIuNjUiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/layers\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Layers = createLucideIcon('Layers', [\n  [\n    'path',\n    {\n      d: 'm12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z',\n      key: '8b97xw',\n    },\n  ],\n  ['path', { d: 'm22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65', key: 'dd6zsq' }],\n  ['path', { d: 'm22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65', key: 'ep9fru' }],\n]);\n\nexport default Layers;\n"],"names":["CalendarDays","createLucideIcon","width","height","x","y","rx","ry","key","x1","x2","y1","y2","d","Trash2","PenSquare","useUpdateSchedule","queryClient","useQueryClient","toast","useToast","useMutation","mutationFn","async","id","_ref","data","_objectWithoutProperties","_excluded","api","put","concat","onSuccess","invalidateQueries","queryKey","title","description","onError","error","_error$response2","_error$response2$data","response","variant","ToggleRight","cx","cy","r","ToggleLeft","days","value","label","_selectedTemplate$req","canCreate","useHasPermission","canEdit","canDelete","showModal","setShowModal","useState","editingSchedule","setEditingSchedule","searchQuery","setSearchQuery","filterStatus","setFilterStatus","filterCategory","setFilterCategory","filterFrequency","setFilterFrequency","filterAssignee","setFilterAssignee","viewMode","setViewMode","formData","setFormData","templateId","frequencyType","daysOfWeek","dayOfWeekSingle","dayOfMonth","dueTime","graceMinutes","defaultAssigneeUserId","active","settlementOffsetDays","schedules","isLoading","useQuery","queryFn","params","undefined","get","createSchedule","post","_error$response","_error$response$data","useCreateSchedule","updateSchedule","deleteSchedule","delete","_error$response3","_error$response3$data","useDeleteSchedule","toggleSchedule","_ref2","_error$response4","_error$response4$data","useToggleSchedule","templates","users","filter","u","role","categories","getFrequencyLabel","schedule","offset","settlement_offset_days","parseInt","offsetLabel","suffix","frequency_type","days_of_week","length","dayLabels","map","_days$find","find","day","Boolean","join","_days$find2","dayLabel","day_of_week_single","day_of_month","handleOpenModal","_schedule$template_id","_schedule$default_ass","_schedule$settlement_","template_id","toString","due_time","grace_minutes","default_assignee_user_id","selectedTemplate","t","_t$id","isGovSettlementTemplate","required_fields","category_type","handleDelete","window","confirm","mutateAsync","handleToggle","filteredSchedules","_schedule$template_ti","_schedule$category_na","_schedule$assignee_na","query","toLowerCase","template_title","includes","category_name","assignee_name","_schedule$category_id","_schedule$default_ass2","category_id","activeCount","s","inactiveCount","_jsx","className","style","padding","background","children","_jsxs","maxWidth","color","boxShadow","type","onClick","LayoutGrid","Table2","Plus","KpiCards","items","Icon","Hash","glow","gradient","Calendar","Layers","Filter","Search","placeholder","onChange","e","target","SearchableSelect","options","getOptionLabel","opt","getOptionValue","searchPlaceholder","name","_opt$id","_opt$id2","clearFilters","X","border","dir","formatTime12h","Edit","AnimatePresence","index","motion","div","initial","opacity","animate","exit","scale","whileHover","zIndex","transition","duration","ease","delay","right","FolderTree","Clock","User","borderColor","button","stopPropagation","whileTap","Dialog","open","onOpenChange","DialogContent","DialogHeader","CompanyLogo","size","animated","DialogTitle","onSubmit","preventDefault","payload","String","_objectSpread","val","Button","toggleDay","dayValue","Input","min","max","_opt$id3","checked","htmlFor","DialogFooter","disabled","isPending"],"ignoreList":[],"sourceRoot":""}
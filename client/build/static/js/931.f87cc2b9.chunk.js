"use strict";(self.webpackChunksttlment_client=self.webpackChunksttlment_client||[]).push([[931],{6931(t,e,s){s.d(e,{I:()=>tt});var i,n,r,o,h,a,l,u,c,d,p,A,f,v,b,y,g=s(22555),R=s(20454),m=s(39790),w=s(55149),O=s(26562),k=s(38458),C=s(24558),E=s(3491),M=s(11454),S=s(49210),U=s(60329),Q=s(79567),W=s(99723),x=s(5734),T=(i=new WeakMap,n=new WeakMap,r=new WeakMap,o=new WeakMap,h=new WeakMap,a=new WeakMap,l=new WeakMap,u=new WeakMap,c=new WeakMap,d=new WeakMap,p=new WeakMap,A=new WeakMap,f=new WeakMap,v=new WeakMap,b=new WeakMap,y=new WeakSet,class extends U.Q{constructor(t,e){super(),(0,m.A)(this,y),(0,w.A)(this,i,void 0),(0,w.A)(this,n,void 0),(0,w.A)(this,r,void 0),(0,w.A)(this,o,void 0),(0,w.A)(this,h,void 0),(0,w.A)(this,a,void 0),(0,w.A)(this,l,void 0),(0,w.A)(this,u,void 0),(0,w.A)(this,c,void 0),(0,w.A)(this,d,void 0),(0,w.A)(this,p,void 0),(0,w.A)(this,A,void 0),(0,w.A)(this,f,void 0),(0,w.A)(this,v,void 0),(0,w.A)(this,b,new Set),this.options=e,(0,C.A)(i,this,t),(0,C.A)(u,this,null),(0,C.A)(l,this,(0,Q.T)()),this.bindMethods(),this.setOptions(e)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){1===this.listeners.size&&((0,k.A)(n,this).addObserver(this),B((0,k.A)(n,this),this.options)?(0,O.A)(y,this,_).call(this):this.updateResult(),(0,O.A)(y,this,D).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return G((0,k.A)(n,this),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return G((0,k.A)(n,this),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,(0,O.A)(y,this,q).call(this),(0,O.A)(y,this,j).call(this),(0,k.A)(n,this).removeObserver(this)}setOptions(t){const e=this.options,s=(0,k.A)(n,this);if(this.options=(0,k.A)(i,this).defaultQueryOptions(t),void 0!==this.options.enabled&&"boolean"!==typeof this.options.enabled&&"function"!==typeof this.options.enabled&&"boolean"!==typeof(0,W.Eh)(this.options.enabled,(0,k.A)(n,this)))throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");(0,O.A)(y,this,L).call(this),(0,k.A)(n,this).setOptions(this.options),e._defaulted&&!(0,W.f8)(this.options,e)&&(0,k.A)(i,this).getQueryCache().notify({type:"observerOptionsUpdated",query:(0,k.A)(n,this),observer:this});const r=this.hasListeners();r&&H((0,k.A)(n,this),s,this.options,e)&&(0,O.A)(y,this,_).call(this),this.updateResult(),!r||(0,k.A)(n,this)===s&&(0,W.Eh)(this.options.enabled,(0,k.A)(n,this))===(0,W.Eh)(e.enabled,(0,k.A)(n,this))&&(0,W.d2)(this.options.staleTime,(0,k.A)(n,this))===(0,W.d2)(e.staleTime,(0,k.A)(n,this))||(0,O.A)(y,this,I).call(this);const o=(0,O.A)(y,this,F).call(this);!r||(0,k.A)(n,this)===s&&(0,W.Eh)(this.options.enabled,(0,k.A)(n,this))===(0,W.Eh)(e.enabled,(0,k.A)(n,this))&&o===(0,k.A)(v,this)||(0,O.A)(y,this,P).call(this,o)}getOptimisticResult(t){const e=(0,k.A)(i,this).getQueryCache().build((0,k.A)(i,this),t),s=this.createResult(e,t);return function(t,e){if(!(0,W.f8)(t.getCurrentResult(),e))return!0;return!1}(this,s)&&((0,C.A)(o,this,s),(0,C.A)(a,this,this.options),(0,C.A)(h,this,(0,k.A)(n,this).state)),s}getCurrentResult(){return(0,k.A)(o,this)}trackResult(t,e){return new Proxy(t,{get:(t,s)=>(this.trackProp(s),null===e||void 0===e||e(s),"promise"===s&&(this.trackProp("data"),this.options.experimental_prefetchInRender||"pending"!==(0,k.A)(l,this).status||(0,k.A)(l,this).reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(t,s))})}trackProp(t){(0,k.A)(b,this).add(t)}getCurrentQuery(){return(0,k.A)(n,this)}refetch(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=Object.assign({},((0,R.A)(t),t));return this.fetch((0,g.A)({},e))}fetchOptimistic(t){const e=(0,k.A)(i,this).defaultQueryOptions(t),s=(0,k.A)(i,this).getQueryCache().build((0,k.A)(i,this),e);return s.fetch().then(()=>this.createResult(s,e))}fetch(t){var e;return(0,O.A)(y,this,_).call(this,(0,g.A)((0,g.A)({},t),{},{cancelRefetch:null===(e=t.cancelRefetch)||void 0===e||e})).then(()=>(this.updateResult(),(0,k.A)(o,this)))}createResult(t,e){const s=(0,k.A)(n,this),i=this.options,A=(0,k.A)(o,this),f=(0,k.A)(h,this),v=(0,k.A)(a,this),b=t!==s?t.state:(0,k.A)(r,this),{state:y}=t;let R,m=(0,g.A)({},y),w=!1;if(e._optimisticResults){const n=this.hasListeners(),r=!n&&B(t,e),o=n&&H(t,s,e,i);(r||o)&&(m=(0,g.A)((0,g.A)({},m),(0,S.k)(y.data,t.options))),"isRestoring"===e._optimisticResults&&(m.fetchStatus="idle")}let{error:O,errorUpdatedAt:E,status:M}=m;R=m.data;let U=!1;if(void 0!==e.placeholderData&&void 0===R&&"pending"===M){let t;var x;if(null!==A&&void 0!==A&&A.isPlaceholderData&&e.placeholderData===(null===v||void 0===v?void 0:v.placeholderData))t=A.data,U=!0;else t="function"===typeof e.placeholderData?e.placeholderData(null===(x=(0,k.A)(p,this))||void 0===x?void 0:x.state.data,(0,k.A)(p,this)):e.placeholderData;void 0!==t&&(M="success",R=(0,W.pl)(null===A||void 0===A?void 0:A.data,t,e),w=!0)}if(e.select&&void 0!==R&&!U)if(A&&R===(null===f||void 0===f?void 0:f.data)&&e.select===(0,k.A)(c,this))R=(0,k.A)(d,this);else try{(0,C.A)(c,this,e.select),R=e.select(R),R=(0,W.pl)(null===A||void 0===A?void 0:A.data,R,e),(0,C.A)(d,this,R),(0,C.A)(u,this,null)}catch(q){(0,C.A)(u,this,q)}(0,k.A)(u,this)&&(O=(0,k.A)(u,this),R=(0,k.A)(d,this),E=Date.now(),M="error");const T="fetching"===m.fetchStatus,_="pending"===M,I="error"===M,F=_&&T,P=void 0!==R,D={status:M,fetchStatus:m.fetchStatus,isPending:_,isSuccess:"success"===M,isError:I,isInitialLoading:F,isLoading:F,data:R,dataUpdatedAt:m.dataUpdatedAt,error:O,errorUpdatedAt:E,failureCount:m.fetchFailureCount,failureReason:m.fetchFailureReason,errorUpdateCount:m.errorUpdateCount,isFetched:m.dataUpdateCount>0||m.errorUpdateCount>0,isFetchedAfterMount:m.dataUpdateCount>b.dataUpdateCount||m.errorUpdateCount>b.errorUpdateCount,isFetching:T,isRefetching:T&&!_,isLoadingError:I&&!P,isPaused:"paused"===m.fetchStatus,isPlaceholderData:w,isRefetchError:I&&P,isStale:$(t,e),refetch:this.refetch,promise:(0,k.A)(l,this),isEnabled:!1!==(0,W.Eh)(e.enabled,t)};if(this.options.experimental_prefetchInRender){const e=void 0!==D.data,i="error"===D.status&&!e,n=t=>{i?t.reject(D.error):e&&t.resolve(D.data)},r=()=>{const t=(0,C.A)(l,this,D.promise=(0,Q.T)());n(t)},o=(0,k.A)(l,this);switch(o.status){case"pending":t.queryHash===s.queryHash&&n(o);break;case"fulfilled":(i||D.data!==o.value)&&r();break;case"rejected":i&&D.error===o.reason||r()}}return D}updateResult(){const t=(0,k.A)(o,this),e=this.createResult((0,k.A)(n,this),this.options);if((0,C.A)(h,this,(0,k.A)(n,this).state),(0,C.A)(a,this,this.options),void 0!==(0,k.A)(h,this).data&&(0,C.A)(p,this,(0,k.A)(n,this)),(0,W.f8)(e,t))return;(0,C.A)(o,this,e);(0,O.A)(y,this,z).call(this,{listeners:(()=>{if(!t)return!0;const{notifyOnChangeProps:e}=this.options,s="function"===typeof e?e():e;if("all"===s||!s&&!(0,k.A)(b,this).size)return!0;const i=new Set(null!==s&&void 0!==s?s:(0,k.A)(b,this));return this.options.throwOnError&&i.add("error"),Object.keys((0,k.A)(o,this)).some(e=>{const s=e;return(0,k.A)(o,this)[s]!==t[s]&&i.has(s)})})()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&(0,O.A)(y,this,D).call(this)}});function _(t){(0,O.A)(y,this,L).call(this);let e=(0,k.A)(n,this).fetch(this.options,t);return null!==t&&void 0!==t&&t.throwOnError||(e=e.catch(W.lQ)),e}function I(){(0,O.A)(y,this,q).call(this);const t=(0,W.d2)(this.options.staleTime,(0,k.A)(n,this));if(W.S$||(0,k.A)(o,this).isStale||!(0,W.gn)(t))return;const e=(0,W.j3)((0,k.A)(o,this).dataUpdatedAt,t)+1;(0,C.A)(A,this,x.zs.setTimeout(()=>{(0,k.A)(o,this).isStale||this.updateResult()},e))}function F(){var t;return null!==(t="function"===typeof this.options.refetchInterval?this.options.refetchInterval((0,k.A)(n,this)):this.options.refetchInterval)&&void 0!==t&&t}function P(t){(0,O.A)(y,this,j).call(this),(0,C.A)(v,this,t),!W.S$&&!1!==(0,W.Eh)(this.options.enabled,(0,k.A)(n,this))&&(0,W.gn)((0,k.A)(v,this))&&0!==(0,k.A)(v,this)&&(0,C.A)(f,this,x.zs.setInterval(()=>{(this.options.refetchIntervalInBackground||E.m.isFocused())&&(0,O.A)(y,this,_).call(this)},(0,k.A)(v,this)))}function D(){(0,O.A)(y,this,I).call(this),(0,O.A)(y,this,P).call(this,(0,O.A)(y,this,F).call(this))}function q(){(0,k.A)(A,this)&&(x.zs.clearTimeout((0,k.A)(A,this)),(0,C.A)(A,this,void 0))}function j(){(0,k.A)(f,this)&&(x.zs.clearInterval((0,k.A)(f,this)),(0,C.A)(f,this,void 0))}function L(){const t=(0,k.A)(i,this).getQueryCache().build((0,k.A)(i,this),this.options);if(t===(0,k.A)(n,this))return;const e=(0,k.A)(n,this);(0,C.A)(n,this,t),(0,C.A)(r,this,t.state),this.hasListeners()&&(null===e||void 0===e||e.removeObserver(this),t.addObserver(this))}function z(t){M.jG.batch(()=>{t.listeners&&this.listeners.forEach(t=>{t((0,k.A)(o,this))}),(0,k.A)(i,this).getQueryCache().notify({query:(0,k.A)(n,this),type:"observerResultsUpdated"})})}function B(t,e){return function(t,e){return!1!==(0,W.Eh)(e.enabled,t)&&void 0===t.state.data&&!("error"===t.state.status&&!1===e.retryOnMount)}(t,e)||void 0!==t.state.data&&G(t,e,e.refetchOnMount)}function G(t,e,s){if(!1!==(0,W.Eh)(e.enabled,t)&&"static"!==(0,W.d2)(e.staleTime,t)){const i="function"===typeof s?s(t):s;return"always"===i||!1!==i&&$(t,e)}return!1}function H(t,e,s,i){return(t!==e||!1===(0,W.Eh)(i.enabled,t))&&(!s.suspense||"error"!==t.state.status)&&$(t,s)}function $(t,e){return!1!==(0,W.Eh)(e.enabled,t)&&t.isStaleByTime((0,W.d2)(e.staleTime,t))}var J=s(65043),K=s(63248);s(70579);function N(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var V=J.createContext(N()),X=J.createContext(!1),Y=(X.Provider,(t,e,s)=>e.fetchOptimistic(t).catch(()=>{s.clearReset()}));function Z(t,e,s){var i,n,r,o;const h=J.useContext(X),a=J.useContext(V),l=(0,K.jE)(s),u=l.defaultQueryOptions(t);null===(i=l.getDefaultOptions().queries)||void 0===i||null===(n=i._experimental_beforeQuery)||void 0===n||n.call(i,u);const c=l.getQueryCache().get(u.queryHash);u._optimisticResults=h?"isRestoring":"optimistic",(t=>{if(t.suspense){const e=1e3,s=t=>"static"===t?t:Math.max(null!==t&&void 0!==t?t:e,e),i=t.staleTime;t.staleTime="function"===typeof i?function(){return s(i(...arguments))}:s(i),"number"===typeof t.gcTime&&(t.gcTime=Math.max(t.gcTime,e))}})(u),((t,e,s)=>{const i=null!==s&&void 0!==s&&s.state.error&&"function"===typeof t.throwOnError?(0,W.GU)(t.throwOnError,[s.state.error,s]):t.throwOnError;(t.suspense||t.experimental_prefetchInRender||i)&&(e.isReset()||(t.retryOnMount=!1))})(u,a,c),(t=>{J.useEffect(()=>{t.clearReset()},[t])})(a);const d=!l.getQueryCache().get(u.queryHash),[p]=J.useState(()=>new e(l,u)),A=p.getOptimisticResult(u),f=!h&&!1!==t.subscribed;if(J.useSyncExternalStore(J.useCallback(t=>{const e=f?p.subscribe(M.jG.batchCalls(t)):W.lQ;return p.updateResult(),e},[p,f]),()=>p.getCurrentResult(),()=>p.getCurrentResult()),J.useEffect(()=>{p.setOptions(u)},[u,p]),((t,e)=>(null===t||void 0===t?void 0:t.suspense)&&e.isPending)(u,A))throw Y(u,p,a);if((t=>{let{result:e,errorResetBoundary:s,throwOnError:i,query:n,suspense:r}=t;return e.isError&&!s.isReset()&&!e.isFetching&&n&&(r&&void 0===e.data||(0,W.GU)(i,[e.error,n]))})({result:A,errorResetBoundary:a,throwOnError:u.throwOnError,query:c,suspense:u.suspense}))throw A.error;if(null===(r=l.getDefaultOptions().queries)||void 0===r||null===(o=r._experimental_afterQuery)||void 0===o||o.call(r,u,A),u.experimental_prefetchInRender&&!W.S$&&((t,e)=>t.isLoading&&t.isFetching&&!e)(A,h)){const t=d?Y(u,p,a):null===c||void 0===c?void 0:c.promise;null===t||void 0===t||t.catch(W.lQ).finally(()=>{p.updateResult()})}return u.notifyOnChangeProps?A:p.trackResult(A)}function tt(t,e){return Z(t,T,e)}}}]);
//# sourceMappingURL=931.f87cc2b9.chunk.js.map
/*! For license information please see 94.bc740320.chunk.js.LICENSE.txt */
"use strict";(self.webpackChunksttlment_client=self.webpackChunksttlment_client||[]).push([[94],{20254(e,a,s){s.d(a,{A:()=>i});const i=(0,s(21639).A)("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]])},23165(e,a,s){s.d(a,{A:()=>i});const i=(0,s(21639).A)("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]])},34537(e,a,s){s.d(a,{A:()=>i});const i=(0,s(21639).A)("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]])},46403(e,a,s){s.d(a,{A:()=>i});const i=(0,s(21639).A)("FileCheck",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["path",{d:"m9 15 2 2 4-4",key:"1grp1n"}]])},50797(e,a,s){s.d(a,{A:()=>i});const i=(0,s(21639).A)("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]])},56099(e,a,s){s.d(a,{A:()=>i});const i=(0,s(21639).A)("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]])},73094(e,a,s){s.r(a),s.d(a,{default:()=>X});var i=s(65043),t=s(73375),l=s(96938),n=s(79722),c=s(34348),r=s.n(c),d=s(34537),o=s(35613),m=s(56790),h=s(28646),p=s(91940),x=s(75088),v=s(46403),u=s(38449),y=s(23165),j=s(50797),g=s(20254),N=s(7118),f=s(40614),k=s(56099),w=s(70579);const b=e=>{const[a,s]=(0,i.useState)(0);return(0,i.useEffect)(()=>{s(0);const a=setInterval(()=>s(a=>Math.min(a+1,e)),2e3);return()=>clearInterval(a)},[e]),a},A=i.forwardRef((e,a)=>{let{currentTime:s,hasContentBelow:i}=e;const n=s.hours()%12,c=s.minutes(),r=s.seconds(),d=30*n+.5*c-90,o=6*c+.1*r-90,m=6*r-90,h=s.format("HH:mm:ss"),p=s.format("YYYY-MM-DD"),x=!i;return(0,w.jsx)(l.N,{children:x&&(0,w.jsxs)(t.P.div,{ref:a,className:"circular-clock-cinematic",initial:{opacity:0,scale:.5,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.7,y:15},transition:{type:"spring",stiffness:300,damping:28,mass:.7},children:[(0,w.jsxs)("svg",{viewBox:"0 0 120 120",className:"circular-clock-svg",children:[(0,w.jsxs)("defs",{children:[(0,w.jsxs)("linearGradient",{id:"clock-bg-grad",x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[(0,w.jsx)("stop",{offset:"0%",stopColor:"#068294"}),(0,w.jsx)("stop",{offset:"100%",stopColor:"#026174"})]}),(0,w.jsx)("filter",{id:"clock-shadow",children:(0,w.jsx)("feDropShadow",{dx:"0",dy:"4",stdDeviation:"4",floodOpacity:"0.3"})})]}),(0,w.jsx)("circle",{cx:"60",cy:"60",r:"54",fill:"url(#clock-bg-grad)",filter:"url(#clock-shadow)",className:"clock-face"}),(0,w.jsx)("circle",{cx:"60",cy:"60",r:"50",fill:"none",stroke:"rgba(255,255,255,0.3)",strokeWidth:"1"}),[0,1,2,3,4,5,6,7,8,9,10,11].map(e=>{const a=(30*e-90)*Math.PI/180,s=60+44*Math.cos(a),i=60+44*Math.sin(a),t=60+48*Math.cos(a),l=60+48*Math.sin(a);return(0,w.jsx)("line",{x1:s,y1:i,x2:t,y2:l,stroke:"rgba(255,255,255,0.6)",strokeWidth:e%3===0?2:1},e)}),(0,w.jsx)("line",{x1:"60",y1:"60",x2:60+18*Math.cos(d*Math.PI/180),y2:60+18*Math.sin(d*Math.PI/180),stroke:"white",strokeWidth:"3",strokeLinecap:"round"}),(0,w.jsx)("line",{x1:"60",y1:"60",x2:60+28*Math.cos(o*Math.PI/180),y2:60+28*Math.sin(o*Math.PI/180),stroke:"white",strokeWidth:"2",strokeLinecap:"round"}),(0,w.jsx)("line",{x1:"60",y1:"60",x2:60+38*Math.cos(m*Math.PI/180),y2:60+38*Math.sin(m*Math.PI/180),stroke:"#ffd93d",strokeWidth:"1",strokeLinecap:"round"})]}),(0,w.jsxs)("div",{className:"circular-clock-digital",children:[(0,w.jsx)("span",{className:"circular-clock-time",children:h}),(0,w.jsx)("span",{className:"circular-clock-date",children:p})]})]},"circular-clock")})});A.displayName="CircularClockDisplay";const P=e=>{let{slide:a,currentTime:s}=e;const i=b(5);return(0,w.jsxs)("div",{className:"slide opening-cinematic-new",children:[(0,w.jsx)("div",{className:"opening-bg-animated"}),(0,w.jsx)("div",{className:"particles-container",children:Array.from({length:50}).map((e,a)=>(0,w.jsx)(t.P.div,{className:"particle",initial:{x:Math.random()*window.innerWidth,y:Math.random()*window.innerHeight,opacity:0},animate:{y:[null,Math.random()*window.innerHeight],opacity:[0,.6,0]},transition:{duration:3*Math.random()+2,repeat:1/0,delay:2*Math.random()}},a))}),i>=1&&(0,w.jsx)(t.P.div,{className:"logo-container-cinematic",initial:{scale:0,opacity:0},animate:{scale:1,opacity:1},transition:{duration:1.2,type:"spring",stiffness:150,damping:15},children:(0,w.jsxs)(t.P.div,{className:"logo-wrapper-cinematic",animate:{scale:[1,1.08,1],rotate:[0,3,-3,0]},transition:{duration:6,repeat:1/0,ease:"easeInOut"},children:[(0,w.jsx)(t.P.img,{src:"/logo.png",alt:"ALSAQI Logo",className:"logo-cinematic-main",initial:{filter:"brightness(0) blur(20px)"},animate:{filter:"brightness(1) blur(0px)"},transition:{duration:1.5,delay:.5}}),(0,w.jsx)(t.P.div,{className:"logo-glow",animate:{opacity:[.3,.7,.3],scale:[1,1.2,1]},transition:{duration:3,repeat:1/0,ease:"easeInOut"}})]})}),i>=2&&(0,w.jsx)(t.P.div,{className:"company-name-container",initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:1,ease:"easeOut"},children:(0,w.jsx)(t.P.h1,{className:"company-name-cinematic",children:"\u0634\u0631\u0643\u0629 \u0627\u0644\u0633\u0627\u0642\u064a \u0644\u062e\u062f\u0645\u0627\u062a \u0627\u0644\u062f\u0641\u0639 \u0627\u0644\u0625\u0644\u0643\u062a\u0631\u0648\u0646\u064a"})}),i>=3&&(0,w.jsx)(t.P.div,{className:"department-name-container",initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:1,ease:"easeOut"},children:(0,w.jsx)(t.P.h2,{className:"department-name-cinematic",children:"\u0642\u0633\u0645 \u0627\u0644\u062a\u0633\u0648\u064a\u0627\u062a & \u0627\u0644\u0645\u0637\u0627\u0628\u0642\u0629"})}),i>=4&&(0,w.jsx)(t.P.div,{className:"datetime-container-cinematic",initial:{opacity:0,y:50},animate:{opacity:1,y:0},transition:{duration:1,type:"spring"},children:(0,w.jsxs)(t.P.div,{className:"datetime-box-modern",animate:{boxShadow:["0 0 20px rgba(6, 130, 148, 0.3)","0 0 40px rgba(6, 130, 148, 0.5)","0 0 20px rgba(6, 130, 148, 0.3)"]},transition:{duration:3,repeat:1/0,ease:"easeInOut"},children:[(0,w.jsxs)(t.P.div,{className:"date-display-cinematic",initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},transition:{duration:.5},children:[(0,w.jsx)(h.A,{className:"datetime-icon"}),(0,w.jsx)("span",{children:s.format("YYYY-MM-DD")})]},s.format("YYYY-MM-DD")),(0,w.jsxs)(t.P.div,{className:"time-display-cinematic-main",initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},transition:{duration:.5},children:[(0,w.jsx)(x.A,{className:"datetime-icon"}),(0,w.jsx)("span",{children:s.format("h:mm:ss A")})]},s.format("h:mm:ss A"))]})}),i>=5&&(0,w.jsxs)("div",{className:"decorative-lines",children:[(0,w.jsx)(t.P.div,{className:"line line-1",initial:{scaleX:0},animate:{scaleX:1},transition:{duration:1.5}}),(0,w.jsx)(t.P.div,{className:"line line-2",initial:{scaleX:0},animate:{scaleX:1},transition:{duration:1.5,delay:.2}})]})]})},M=e=>{let{slide:a,slideIntervalSec:s}=e;const i=a.completionRate||((a.scheduled||0)>0?Math.round((a.done||0)/a.scheduled*100):0),n=[{label:"\u0627\u0644\u0645\u062c\u062f\u0648\u0644\u0629 \u0627\u0644\u064a\u0648\u0645",value:a.scheduled||0,icon:y.A,color:"#068294"},{label:"\u0627\u0644\u0645\u0646\u062c\u0632\u0629 \u0627\u0644\u064a\u0648\u0645",value:a.done||0,icon:p.A,color:"#10b981"},{label:"\u0627\u0644\u0645\u062a\u0623\u062e\u0631\u0629 \u0627\u0644\u064a\u0648\u0645",value:a.overdue||0,icon:o.A,color:"#ef4444"},{label:"\u0642\u064a\u062f \u0627\u0644\u0627\u0646\u062a\u0638\u0627\u0631",value:a.pending||0,icon:x.A,color:"#f59e0b"}],c=(a.scheduled||0)-(a.done||0),r=b(7),m=r>=1,h=r>=6;return(0,w.jsxs)("div",{className:"slide overview-cinematic",children:[(0,w.jsx)(t.P.div,{initial:{opacity:0,x:-50},animate:{opacity:1,x:0},transition:{duration:.4},className:"logo-corner",children:(0,w.jsx)("img",{src:"/logo.png",alt:"ALSAQI",className:"logo-small"})}),(0,w.jsx)(l.N,{children:m&&(0,w.jsxs)(t.P.div,{initial:{y:-50,opacity:0},animate:{y:0,opacity:1},transition:{type:"spring",stiffness:180,damping:22},className:"slide-header-cinematic",children:[(0,w.jsx)(d.A,{className:"h-12 w-12",style:{color:"#068294"}}),(0,w.jsxs)("h1",{className:"slide-title-cinematic",children:["\u0646\u0638\u0631\u0629 \u0639\u0627\u0645\u0629 - ",a.date]})]},"oh-header")}),(0,w.jsx)("div",{className:"stats-grid-cinematic",children:n.map((e,a)=>{const s=e.icon;return r>=2+a?(0,w.jsxs)(t.P.div,{initial:{scale:.8,opacity:0,y:50},animate:{scale:1,opacity:1,y:0},transition:{type:"spring",stiffness:200},className:"stat-card-cinematic",style:{borderColor:e.color},children:[(0,w.jsx)(t.P.div,{className:"stat-icon-cinematic",style:{background:"".concat(e.color,"20"),color:e.color},children:(0,w.jsx)(s,{className:"h-10 w-10"})}),(0,w.jsxs)("div",{className:"stat-content-cinematic",children:[(0,w.jsx)(S,{value:e.value}),(0,w.jsx)("div",{className:"stat-label-cinematic",children:e.label})]})]},e.label):(0,w.jsx)("div",{className:"stat-card-cinematic stat-placeholder","aria-hidden":!0},e.label)})}),(0,w.jsx)(l.N,{children:h&&(0,w.jsxs)(t.P.div,{initial:{opacity:0},animate:{opacity:1},className:"overview-bottom-cinematic",children:[(0,w.jsxs)(t.P.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},transition:{type:"spring",stiffness:200},className:"completion-ring-cinematic",children:[(0,w.jsxs)("svg",{className:"progress-ring-cinematic",viewBox:"0 0 200 200",children:[(0,w.jsx)("circle",{cx:"100",cy:"100",r:"85",fill:"none",stroke:"rgba(6, 130, 148, 0.2)",strokeWidth:"12"}),(0,w.jsx)(t.P.circle,{cx:"100",cy:"100",r:"85",fill:"none",stroke:"#068294",strokeWidth:"12",strokeLinecap:"round",initial:{pathLength:0},animate:{pathLength:i/100},transition:{duration:2,delay:1},strokeDasharray:"".concat(2*Math.PI*85),transform:"rotate(-90 100 100)"})]}),(0,w.jsxs)("div",{className:"ring-content",children:[(0,w.jsx)(S,{value:i,suffix:"%"}),(0,w.jsx)("span",{className:"ring-label",children:"\u0646\u0633\u0628\u0629 \u0627\u0644\u0625\u0646\u062c\u0627\u0632"})]})]}),(0,w.jsxs)(t.P.div,{initial:{scale:.8,opacity:0,x:50},animate:{scale:1,opacity:1,x:0},transition:{type:"spring",stiffness:200},className:"remaining-card-cinematic",children:[(0,w.jsx)(y.A,{className:"h-8 w-8",style:{color:"#068294"}}),(0,w.jsxs)("div",{className:"remaining-content",children:[(0,w.jsx)(S,{value:c}),(0,w.jsx)("div",{className:"remaining-label",children:"\u0627\u0644\u0645\u062a\u0628\u0642\u064a \u0627\u0644\u064a\u0648\u0645"})]})]})]},"oh-bottom")})]})},S=e=>{let{value:a,suffix:s=""}=e;const[t,l]=(0,i.useState)(0);return(0,i.useEffect)(()=>{const e=a/60;let s=0,i=0;const t=setInterval(()=>{i++,s=Math.min(e*i,a),l(Math.floor(s)),i>=60&&(l(a),clearInterval(t))},2e3/60);return()=>clearInterval(t)},[a]),(0,w.jsxs)("span",{className:"animated-number",children:[t,s]})},I=e=>{var a;let{slide:s,slideIntervalSec:n}=e;const c=(null===(a=s.tasks)||void 0===a?void 0:a.length)||0,d=(0,i.useRef)(null),[m,v]=(0,i.useState)(12),[u,j]=(0,i.useState)(0),g=b(20),f=g>=1,k=g>=5;(0,i.useEffect)(()=>{const e=d.current;if(!e)return;const a=()=>{const a=getComputedStyle(e),s=parseFloat(a.getPropertyValue("--scheduled-card-h"))||220,i=parseFloat(a.getPropertyValue("--scheduled-card-min-w"))||320,t=parseFloat(a.getPropertyValue("--scheduled-grid-gap"))||20,l=e.clientWidth,n=e.clientHeight;if(!l||!n)return void v(12);const r=Math.max(1,Math.floor((l+t)/(i+t))),d=Math.max(1,Math.floor((n+t)/(s+t))),o=Math.max(1,r*d);v(o),c>o&&console.log("\ud83d\udcc4 Scheduled Tasks Paging: ".concat(c," tasks, showing ").concat(o," per page (").concat(r,"x").concat(d,"), total pages: ").concat(Math.ceil(c/o)))};a();const s=new ResizeObserver(()=>{setTimeout(a,100)});return s.observe(e),()=>s.disconnect()},[c]);const A=Math.max(1,Math.ceil(c/Math.max(1,m)));(0,i.useEffect)(()=>{if(j(0),A<=1)return;const e=Math.max(7e3,Math.floor(1e3*Math.max(10,n)/A)),a=window.setInterval(()=>j(e=>(e+1)%A),e);return()=>window.clearInterval(a)},[A,n]);const P=(0,i.useMemo)(()=>{const e=u*m;return(s.tasks||[]).slice(e,e+m)},[s.tasks,u,m]),M=e=>{if(!e)return null;try{const a=r()(e,"HH:mm"),s=a.format("h"),i=a.format("mm");return{hour:s,minute:i,period:a.format("A"),full:a.format("h:mm A")}}catch(a){return null}};return(0,w.jsxs)("div",{className:"slide scheduled-tasks-cinematic-new",children:[(0,w.jsx)(t.P.div,{initial:{opacity:0},animate:{opacity:1},className:"logo-corner",children:(0,w.jsx)("img",{src:"/logo.png",alt:"ALSAQI",className:"logo-small"})}),(0,w.jsx)(l.N,{children:f&&(0,w.jsxs)(t.P.div,{initial:{y:-30,opacity:0},animate:{y:0,opacity:1},transition:{type:"spring",stiffness:180},className:"scheduled-header-cinematic",children:[(0,w.jsxs)("div",{className:"scheduled-title-section",children:[(0,w.jsx)(h.A,{className:"h-10 w-10",style:{color:"#068294"}}),(0,w.jsx)("h1",{className:"scheduled-title-main",children:"\u0627\u0644\u0645\u0647\u0627\u0645 \u0627\u0644\u0645\u062c\u062f\u0648\u0644\u0629 \u0627\u0644\u064a\u0648\u0645"})]}),(0,w.jsx)("div",{className:"scheduled-kpis-row",children:[{icon:y.A,val:s.total||0,lbl:"\u0627\u0644\u0645\u062c\u062f\u0648\u0644\u0629",cls:""},{icon:p.A,val:s.completed||0,lbl:"\u0627\u0644\u0645\u0646\u062c\u0632\u0629",cls:"completed"},{icon:o.A,val:s.overdue||0,lbl:"\u0627\u0644\u0645\u062a\u0623\u062e\u0631\u0629",cls:"overdue"}].map((e,a)=>{const s=e.icon;return(e=>g>=2+e)(a)?(0,w.jsxs)(t.P.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},transition:{type:"spring",stiffness:200},className:"scheduled-kpi-card ".concat(e.cls),children:[(0,w.jsx)(s,{className:"h-7 w-7",style:{color:"completed"===e.cls?"#10b981":"overdue"===e.cls?"#ef4444":"#068294"}}),(0,w.jsxs)("div",{className:"scheduled-kpi-content",children:[(0,w.jsx)(S,{value:e.val}),(0,w.jsx)("div",{className:"scheduled-kpi-label",children:e.lbl})]})]},a):(0,w.jsx)("div",{className:"scheduled-kpi-card scheduled-kpi-placeholder","aria-hidden":!0},a)})})]},"sch-header")}),(0,w.jsxs)("div",{className:"scheduled-tasks-grid-container",ref:d,children:[k?s.tasks&&0!==s.tasks.length?(0,w.jsx)(l.N,{mode:"wait",initial:!1,children:(0,w.jsx)(t.P.div,{initial:{opacity:0,y:12},animate:{opacity:1,y:0},exit:{opacity:0,y:-12},transition:{duration:.45,ease:[.22,1,.36,1]},className:"scheduled-tasks-grid ".concat(c>20?"many-tasks-grid":c>10?"medium-tasks-grid":"few-tasks-grid"),children:P.map((e,a)=>{const s="completed"===e.status,i="overdue"===e.status,l=e.delayMinutes||0,n=M(e.expectedTime),c=M(e.actualCompletedTime);return(0,w.jsxs)(t.P.div,{initial:{scale:.9,opacity:0,y:20},animate:{scale:1,opacity:1,y:0},transition:{delay:.04*a,type:"spring",stiffness:150,damping:15},className:"scheduled-task-card-new ".concat(s?"completed":i?"overdue":"pending"),children:[(0,w.jsx)("div",{className:"task-status-indicator ".concat(s?"completed":i?"overdue":"pending")}),(0,w.jsxs)("div",{className:"scheduled-task-content",children:[(0,w.jsxs)("div",{className:"scheduled-task-header-new",children:[(0,w.jsx)("h3",{className:"scheduled-task-title-new",children:e.title||"\u0645\u0647\u0645\u0629 \u0628\u062f\u0648\u0646 \u0639\u0646\u0648\u0627\u0646"}),s&&(0,w.jsxs)(t.P.div,{initial:{scale:0},animate:{scale:1},className:"scheduled-status-badge completed",children:[(0,w.jsx)(p.A,{className:"h-4 w-4"}),(0,w.jsx)("span",{children:"\u0645\u0643\u062a\u0645\u0644\u0629"})]}),i&&(0,w.jsxs)(t.P.div,{initial:{scale:0},animate:{scale:1},className:"scheduled-status-badge overdue",children:[(0,w.jsx)(o.A,{className:"h-4 w-4"}),(0,w.jsx)("span",{children:"\u0645\u062a\u0623\u062e\u0631\u0629"})]}),!s&&!i&&(0,w.jsxs)("div",{className:"scheduled-status-badge pending",children:[(0,w.jsx)(x.A,{className:"h-4 w-4"}),(0,w.jsx)("span",{children:"\u0645\u0639\u0644\u0642\u0629"})]})]}),(0,w.jsxs)("div",{className:"scheduled-task-details-new",children:[(0,w.jsxs)("div",{className:"scheduled-detail-row",children:[(0,w.jsx)(x.A,{className:"scheduled-detail-icon"}),(0,w.jsx)("span",{className:"scheduled-detail-label",children:"\u0627\u0644\u0648\u0642\u062a \u0627\u0644\u0645\u0637\u0644\u0648\u0628:"}),n?(0,w.jsxs)("div",{className:"time-display-bi scheduled-time",children:[(0,w.jsxs)("div",{className:"time-main-bi",children:[(0,w.jsx)("span",{className:"time-hour-bi",children:n.hour}),(0,w.jsx)("span",{className:"time-separator-bi",children:":"}),(0,w.jsx)("span",{className:"time-minute-bi",children:n.minute})]}),(0,w.jsx)("span",{className:"time-period-bi",children:n.period})]}):(0,w.jsx)("span",{className:"scheduled-detail-value",children:"\u063a\u064a\u0631 \u0645\u062d\u062f\u062f"})]}),s&&c&&(0,w.jsxs)("div",{className:"scheduled-detail-row",children:[(0,w.jsx)(p.A,{className:"scheduled-detail-icon",style:{color:"#10b981"}}),(0,w.jsx)("span",{className:"scheduled-detail-label",children:"\u0648\u0642\u062a \u0627\u0644\u062a\u0646\u0641\u064a\u0630 \u0627\u0644\u0641\u0639\u0644\u064a:"}),(0,w.jsxs)("div",{className:"time-display-bi completed-time-bi scheduled-time",children:[(0,w.jsxs)("div",{className:"time-main-bi",children:[(0,w.jsx)("span",{className:"time-hour-bi",children:c.hour}),(0,w.jsx)("span",{className:"time-separator-bi",children:":"}),(0,w.jsx)("span",{className:"time-minute-bi",children:c.minute})]}),(0,w.jsx)("span",{className:"time-period-bi",children:c.period})]})]}),i&&l>0&&(0,w.jsxs)("div",{className:"scheduled-detail-row",children:[(0,w.jsx)(o.A,{className:"scheduled-detail-icon",style:{color:"#ef4444"}}),(0,w.jsx)("span",{className:"scheduled-detail-label",children:"\u0645\u062f\u0629 \u0627\u0644\u062a\u0623\u062e\u064a\u0631:"}),(0,w.jsx)("span",{className:"scheduled-detail-value delay",children:D(l)})]}),e.executedBy&&(0,w.jsxs)("div",{className:"scheduled-detail-row",children:[(0,w.jsx)(N.A,{className:"scheduled-detail-icon"}),(0,w.jsx)("span",{className:"scheduled-detail-label",children:"\u0627\u0644\u0645\u0646\u0641\u0630:"}),(0,w.jsx)("span",{className:"scheduled-detail-value",children:e.executedBy})]})]})]})]},e.id||a)})},"scheduled-page-".concat(u,"-").concat(m))}):(0,w.jsxs)(t.P.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},className:"empty-state-cinematic",children:[(0,w.jsx)(p.A,{className:"h-20 w-20 mb-4",style:{color:"#068294"}}),(0,w.jsx)("p",{className:"empty-text-cinematic",children:"\u0644\u0627 \u062a\u0648\u062c\u062f \u0645\u0647\u0627\u0645 \u0645\u062c\u062f\u0648\u0644\u0629 \u0627\u0644\u064a\u0648\u0645"})]}):null,A>1&&(0,w.jsxs)("div",{className:"scheduled-page-indicator",children:[(0,w.jsx)("span",{children:u+1}),(0,w.jsx)("span",{className:"sep",children:"/"}),(0,w.jsx)("span",{children:A})]})]})]})},E=e=>{let{slide:a,slideIntervalSec:s}=e;const n=a.tasks||[],c=n.length,r=n.filter(e=>"completed"===e.status).length,d=c-r,o=(0,i.useRef)(null),[m,h]=(0,i.useState)(6),[v,u]=(0,i.useState)(0),j=b(6),g=j>=1,f=e=>j>=2+e,A=j>=5;(0,i.useEffect)(()=>{const e=o.current;if(!e)return;const a=()=>{const a=e.clientHeight;h(a?Math.max(2,Math.floor((a+20)/220)):6)};a();const s=new ResizeObserver(()=>setTimeout(a,100));return s.observe(e),()=>s.disconnect()},[c]);const P=Math.max(1,Math.ceil(c/Math.max(1,m)));(0,i.useEffect)(()=>{if(u(0),P<=1)return;const e=Math.max(6e3,Math.floor(1e3*Math.max(10,s)/P)),a=window.setInterval(()=>u(e=>(e+1)%P),e);return()=>window.clearInterval(a)},[P,s]);const M=(0,i.useMemo)(()=>{const e=v*m;return n.slice(e,e+m)},[n,v,m]);return(0,w.jsxs)("div",{className:"slide additional-tasks-cinematic-v2",children:[(0,w.jsx)(t.P.div,{className:"logo-corner",children:(0,w.jsx)("img",{src:"/logo.png",alt:"ALSAQI",className:"logo-small"})}),g&&(0,w.jsxs)(t.P.div,{initial:{y:-20,opacity:0},animate:{y:0,opacity:1},transition:{type:"spring",stiffness:180,damping:22},className:"additional-tasks-header-v2",children:[(0,w.jsxs)("div",{className:"additional-tasks-title-row",children:[(0,w.jsx)("div",{className:"additional-tasks-icon-wrap",children:(0,w.jsx)(k.A,{className:"h-10 w-10"})}),(0,w.jsxs)("div",{children:[(0,w.jsx)("h1",{className:"additional-tasks-title-v2",children:"\u0627\u0644\u0645\u0647\u0627\u0645 \u0627\u0644\u0625\u0636\u0627\u0641\u064a\u0629"}),(0,w.jsx)("p",{className:"additional-tasks-date-v2",children:a.date})]})]}),c>0&&(0,w.jsxs)("div",{className:"additional-tasks-stats-bar",children:[f(0)&&(0,w.jsxs)(t.P.div,{initial:{scaleX:0},animate:{scaleX:1},transition:{type:"spring",stiffness:200},className:"additional-stat-pill completed",children:[(0,w.jsx)(p.A,{className:"h-5 w-5"}),(0,w.jsx)("span",{children:r}),(0,w.jsx)("span",{children:"\u0645\u0643\u062a\u0645\u0644\u0629"})]}),f(1)&&(0,w.jsxs)(t.P.div,{initial:{scaleX:0},animate:{scaleX:1},transition:{type:"spring",stiffness:200},className:"additional-stat-pill pending",children:[(0,w.jsx)(x.A,{className:"h-5 w-5"}),(0,w.jsx)("span",{children:d}),(0,w.jsx)("span",{children:"\u0642\u064a\u062f \u0627\u0644\u0627\u0646\u062a\u0638\u0627\u0631"})]}),f(2)&&(0,w.jsxs)(t.P.div,{initial:{scaleX:0},animate:{scaleX:1},transition:{type:"spring",stiffness:200},className:"additional-stat-pill total",children:[(0,w.jsx)(y.A,{className:"h-5 w-5"}),(0,w.jsx)("span",{children:c}),(0,w.jsx)("span",{children:"\u0627\u0644\u0625\u062c\u0645\u0627\u0644\u064a"})]})]})]},"add-header"),(0,w.jsxs)("div",{className:"additional-tasks-grid-wrap",ref:o,children:[A?0===c?(0,w.jsxs)(t.P.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},className:"additional-empty-state-v2",children:[(0,w.jsx)("div",{className:"additional-empty-icon",children:(0,w.jsx)(k.A,{className:"h-24 w-24"})}),(0,w.jsx)("p",{className:"additional-empty-title",children:"\u0644\u0627 \u062a\u0648\u062c\u062f \u0645\u0647\u0627\u0645 \u0625\u0636\u0627\u0641\u064a\u0629"}),(0,w.jsx)("p",{className:"additional-empty-desc",children:"\u0627\u0644\u0645\u0647\u0627\u0645 \u0627\u0644\u0625\u0636\u0627\u0641\u064a\u0629 \u0627\u0644\u062a\u064a \u064a\u064f\u0646\u0634\u0626\u0647\u0627 \u0627\u0644\u0645\u0648\u0638\u0641\u0648\u0646 \u0633\u062a\u0638\u0647\u0631 \u0647\u0646\u0627"})]}):(0,w.jsx)(l.N,{mode:"wait",initial:!1,children:(0,w.jsx)(t.P.div,{initial:{opacity:0,y:16},animate:{opacity:1,y:0},exit:{opacity:0,y:-16},transition:{duration:.4,ease:[.22,1,.36,1]},className:"additional-tasks-grid-v2",children:M.map((e,a)=>{const s="completed"===e.status;return(0,w.jsxs)(t.P.div,{initial:{opacity:0,scale:.95,y:20},animate:{opacity:1,scale:1,y:0},transition:{delay:.06*a,type:"spring",stiffness:260,damping:22},className:"additional-task-card-v2 ".concat(s?"completed":"pending"),children:[(0,w.jsx)("div",{className:"additional-card-accent"}),(0,w.jsxs)("div",{className:"additional-card-content",children:[(0,w.jsxs)("div",{className:"additional-card-header",children:[(0,w.jsx)("h3",{className:"additional-card-title",children:e.title||"\u0645\u0647\u0645\u0629 \u0628\u062f\u0648\u0646 \u0639\u0646\u0648\u0627\u0646"}),s?(0,w.jsxs)("span",{className:"additional-badge-v2 completed",children:[(0,w.jsx)(p.A,{className:"h-4 w-4"}),"\u0645\u0643\u062a\u0645\u0644\u0629"]}):(0,w.jsxs)("span",{className:"additional-badge-v2 pending",children:[(0,w.jsx)(x.A,{className:"h-4 w-4"}),"\u0642\u064a\u062f \u0627\u0644\u0627\u0646\u062a\u0638\u0627\u0631"]})]}),(0,w.jsxs)("div",{className:"additional-card-meta",children:[e.expectedTime&&(0,w.jsxs)("div",{className:"additional-meta-item",children:[(0,w.jsx)(x.A,{className:"h-4 w-4"}),(0,w.jsx)("span",{children:e.expectedTime})]}),s&&e.actualCompletedTime&&(0,w.jsxs)("div",{className:"additional-meta-item done",children:[(0,w.jsx)(p.A,{className:"h-4 w-4"}),(0,w.jsxs)("span",{children:["\u062a\u0645: ",e.actualCompletedTime]})]}),e.executedBy&&(0,w.jsxs)("div",{className:"additional-meta-item user",children:[(0,w.jsx)(N.A,{className:"h-4 w-4"}),(0,w.jsx)("span",{children:e.executedBy})]})]})]})]},"".concat(e.id||a,"-").concat(v))})},"add-page-".concat(v))}):null,A&&P>1&&(0,w.jsx)("div",{className:"additional-page-dots-v2",children:Array.from({length:P}).map((e,a)=>(0,w.jsx)("div",{className:"additional-dot ".concat(a===v?"active":""),"aria-hidden":!0},a))})]})]})},T=e=>{var a;let{slide:s,slideIntervalSec:n}=e;const{employee:c,daily:m}=s,h=b(8),v=h>=1,u=h>=4,j=h>=8,[N,f]=(0,i.useState)(!1);(0,i.useEffect)(()=>f(!1),[null===c||void 0===c?void 0:c.id]);const k=null!==m&&void 0!==m&&null!==(a=m.attendance)&&void 0!==a&&a.loginTime?r()(m.attendance.loginTime,"HH:mm").subtract(30,"minutes").format("h:mm A"):null,A=(null===m||void 0===m?void 0:m.tasks)||[],P=A.length,M=A.filter(e=>"completed"===e.status).length,S=A.filter(e=>"pending"===e.status).length,I=P>0?Math.round(M/P*100):0,E=(0,i.useRef)(null),[T,L]=(0,i.useState)(10),[C,F]=(0,i.useState)(0);(0,i.useEffect)(()=>{const e=E.current;if(!e)return;const a=()=>{const a=getComputedStyle(e),s=parseFloat(a.getPropertyValue("--task-row-height"))||44,i=e.clientHeight;if(!i)return void L(10);const t=Math.max(1,Math.floor(i/s));L(t),P>t&&console.log("\ud83d\udcc4 Employee Tasks Paging: ".concat(P," tasks, showing ").concat(t," per page, total pages: ").concat(Math.ceil(P/t)))};a();const s=new ResizeObserver(()=>{setTimeout(a,100)});return s.observe(e),()=>s.disconnect()},[P]);const R=Math.max(1,Math.ceil(P/Math.max(1,T)));(0,i.useEffect)(()=>{if(F(0),R<=1)return;const e=Math.max(7e3,Math.floor(1e3*Math.max(10,n)/R)),a=window.setInterval(()=>F(e=>(e+1)%R),e);return()=>window.clearInterval(a)},[R,n]);const z=(0,i.useMemo)(()=>{const e=C*T;return A.slice(e,e+T)},[A,C,T]),Q=e=>{if(!e)return null;try{const a=r()(e,"HH:mm"),s=a.format("h"),i=a.format("mm"),t=a.format("A");return{hour:s,minute:i,period:t,hour24:a.format("HH"),full:a.format("h:mm A"),display:"".concat(s,":").concat(i," ").concat(t)}}catch(a){return null}};return(0,w.jsxs)("div",{className:"slide employee-daily-cinematic",children:[(0,w.jsx)(t.P.div,{initial:{opacity:0},animate:{opacity:1},className:"logo-corner",children:(0,w.jsx)("img",{src:"/logo.png",alt:"ALSAQI",className:"logo-small"})}),v&&(0,w.jsxs)(t.P.div,{initial:{y:-50,opacity:0},animate:{y:0,opacity:1},transition:{type:"spring",stiffness:180,damping:22},className:"employee-header-cinematic",children:[(0,w.jsx)("div",{className:"employee-avatar-cinematic",children:c.avatarUrl&&!N?(0,w.jsx)(t.P.img,{initial:{scale:0},animate:{scale:1},transition:{type:"spring",stiffness:200},src:c.avatarUrl.startsWith("http")?c.avatarUrl:"".concat(window.location.origin).concat(c.avatarUrl),alt:c.name,className:"avatar-image",onError:()=>f(!0)}):(0,w.jsx)(t.P.div,{initial:{scale:0},animate:{scale:1},transition:{type:"spring",stiffness:200},className:"avatar-placeholder-cinematic",children:(e=>{if(!e)return"?";const a=e.trim().split(" ");return a.length>=2?(a[0][0]+a[1][0]).toUpperCase():e[0].toUpperCase()})(c.name)})}),(0,w.jsxs)("div",{className:"employee-info-cinematic",children:[(0,w.jsx)("h1",{className:"employee-name-cinematic",children:c.name}),k&&(0,w.jsxs)(t.P.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.5},className:"attendance-time-cinematic",children:[(0,w.jsx)(g.A,{className:"h-5 w-5"}),(0,w.jsxs)("span",{children:["\u062d\u0636\u0648\u0631 \u0627\u0644\u064a\u0648\u0645: ",k]})]}),u&&P>0&&(0,w.jsxs)(t.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{type:"spring",stiffness:200},className:"employee-kpis-cinematic",children:[(0,w.jsxs)("div",{className:"kpi-item-cinematic",children:[(0,w.jsx)(y.A,{className:"h-5 w-5"}),(0,w.jsx)("span",{className:"kpi-label",children:"\u0627\u0644\u0645\u0643\u0644\u0641 \u0628\u0647\u0627"}),(0,w.jsx)("span",{className:"kpi-value",children:P})]}),(0,w.jsxs)("div",{className:"kpi-item-cinematic completed-kpi",children:[(0,w.jsx)(p.A,{className:"h-5 w-5"}),(0,w.jsx)("span",{className:"kpi-label",children:"\u0627\u0644\u0645\u0643\u062a\u0645\u0644\u0629"}),(0,w.jsx)("span",{className:"kpi-value",children:M})]}),(0,w.jsxs)("div",{className:"kpi-item-cinematic pending-kpi",children:[(0,w.jsx)(x.A,{className:"h-5 w-5"}),(0,w.jsx)("span",{className:"kpi-label",children:"\u0627\u0644\u0645\u0639\u0644\u0642\u0629"}),(0,w.jsx)("span",{className:"kpi-value",children:S})]}),(0,w.jsxs)("div",{className:"kpi-item-cinematic rate-kpi",children:[(0,w.jsx)(d.A,{className:"h-5 w-5"}),(0,w.jsx)("span",{className:"kpi-label",children:"\u0646\u0633\u0628\u0629 \u0627\u0644\u0625\u0646\u062c\u0627\u0632"}),(0,w.jsxs)("span",{className:"kpi-value",children:[I,"%"]})]})]})]})]},"emp-daily-header"),j&&(0,w.jsx)("div",{className:"employee-tasks-list-cinematic",children:m.tasks&&0!==m.tasks.length?(0,w.jsxs)("div",{className:"tasks-table-cinematic ".concat(P>15?"many-tasks":""," ").concat(P>25?"very-many-tasks":""),children:[(0,w.jsxs)(t.P.div,{initial:{opacity:0},animate:{opacity:1},className:"tasks-table-header-cinematic",children:[(0,w.jsx)("div",{className:"task-col-name",children:"\u0627\u0633\u0645 \u0627\u0644\u0645\u0647\u0645\u0629"}),(0,w.jsx)("div",{className:"task-col-time",children:"\u0627\u0644\u0648\u0642\u062a \u0627\u0644\u0645\u0641\u062a\u0631\u0636"}),(0,w.jsx)("div",{className:"task-col-time",children:"\u0627\u0644\u0648\u0642\u062a \u0627\u0644\u0641\u0639\u0644\u064a"}),(0,w.jsx)("div",{className:"task-col-status",children:"\u0627\u0644\u062d\u0627\u0644\u0629"}),(0,w.jsx)("div",{className:"task-col-delay",children:"\u0627\u0644\u062a\u0623\u062e\u064a\u0631"})]}),(0,w.jsx)("div",{className:"tasks-table-rows-container",ref:E,style:{"--task-count":P},children:(0,w.jsx)(l.N,{mode:"wait",initial:!1,children:(0,w.jsx)(t.P.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.35,ease:[.22,1,.36,1]},children:z.map((e,a)=>{const s="completed"===e.status,i="overdue"===e.status,l="pending"===e.status,n=e.delayMinutes||0,c=Q(e.expectedTime),r=Q(e.actualCompletedTime);return(0,w.jsxs)(t.P.div,{initial:{y:-30,opacity:0,scale:.95},animate:{y:0,opacity:1,scale:1},transition:{delay:.08*a,type:"spring",stiffness:120,damping:15},className:"task-row-cinematic ".concat(s?"completed":i?"overdue":l?"pending":""),children:[(0,w.jsx)("div",{className:"task-col-name",children:(0,w.jsxs)("span",{className:"task-title-row",children:["ad-hoc"===e.type&&(0,w.jsx)("span",{className:"task-type-badge",children:"\u0625\u0636\u0627\u0641\u064a\u0629"}),e.title||"\u0645\u0647\u0645\u0629 \u0628\u062f\u0648\u0646 \u0639\u0646\u0648\u0627\u0646"]})}),(0,w.jsx)("div",{className:"task-col-time",children:c?(0,w.jsxs)("div",{className:"time-display-bi",children:[(0,w.jsxs)("div",{className:"time-main-bi",children:[(0,w.jsx)("span",{className:"time-hour-bi",children:c.hour}),(0,w.jsx)("span",{className:"time-separator-bi",children:":"}),(0,w.jsx)("span",{className:"time-minute-bi",children:c.minute})]}),(0,w.jsx)("span",{className:"time-period-bi",children:c.period})]}):(0,w.jsx)("span",{className:"time-value-empty",children:"\u063a\u064a\u0631 \u0645\u062d\u062f\u062f"})}),(0,w.jsx)("div",{className:"task-col-time",children:s&&r?(0,w.jsxs)("div",{className:"time-display-bi completed-time-bi",children:[(0,w.jsxs)("div",{className:"time-main-bi",children:[(0,w.jsx)("span",{className:"time-hour-bi",children:r.hour}),(0,w.jsx)("span",{className:"time-separator-bi",children:":"}),(0,w.jsx)("span",{className:"time-minute-bi",children:r.minute})]}),(0,w.jsx)("span",{className:"time-period-bi",children:r.period})]}):(0,w.jsx)("span",{className:"time-value-empty",children:"-"})}),(0,w.jsx)("div",{className:"task-col-status",children:s?(0,w.jsxs)(t.P.div,{initial:{scale:0,rotate:-180},animate:{scale:1,rotate:0},transition:{delay:.08*a+.3,type:"spring",stiffness:200},className:"status-badge completed-badge-row stamp-effect",children:[(0,w.jsx)("div",{className:"stamp-pattern"}),(0,w.jsx)(p.A,{className:"h-4 w-4"}),(0,w.jsx)("span",{children:"\u0645\u0643\u062a\u0645\u0644\u0629"})]}):i?(0,w.jsxs)("span",{className:"status-badge overdue-badge-row",children:[(0,w.jsx)(o.A,{className:"h-4 w-4"}),(0,w.jsx)("span",{children:"\u0645\u062a\u0623\u062e\u0631\u0629"})]}):l?(0,w.jsxs)("span",{className:"status-badge pending-badge-row",children:[(0,w.jsx)(x.A,{className:"h-4 w-4"}),(0,w.jsx)("span",{children:"\u0645\u0639\u0644\u0642\u0629"})]}):(0,w.jsx)("span",{className:"status-badge",children:"-"})}),(0,w.jsx)("div",{className:"task-col-delay",children:n>0?(0,w.jsx)("span",{className:"delay-value",children:D(n)}):(0,w.jsx)("span",{className:"delay-value-empty",children:"-"})})]},e.id||a)})},"employee-page-".concat(C,"-").concat(T))})}),R>1&&(0,w.jsxs)("div",{className:"table-page-indicator",children:[(0,w.jsx)("span",{children:C+1}),(0,w.jsx)("span",{className:"sep",children:"/"}),(0,w.jsx)("span",{children:R})]})]}):(0,w.jsxs)(t.P.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},className:"empty-state-cinematic",children:[(0,w.jsx)(p.A,{className:"h-16 w-16 mb-4",style:{color:"#068294"}}),(0,w.jsx)("p",{className:"empty-text-cinematic",children:"\u0644\u0627 \u062a\u0648\u062c\u062f \u0645\u0647\u0627\u0645 \u0644\u0647\u0630\u0627 \u0627\u0644\u0645\u0648\u0638\u0641 \u0627\u0644\u064a\u0648\u0645"})]})})]})},L=e=>{var a,s,n,c,m,v,j,g,f,b;let{slide:A,slideIntervalSec:P}=e;const{monthly:M,categories:I,totalEmployees:E,month:T}=A,L=M||{},C=null!==(a=L.totalTasks)&&void 0!==a?a:0,D=null!==(s=L.scheduledTotal)&&void 0!==s?s:0,F=null!==(n=L.adHocTotal)&&void 0!==n?n:0,R=null!==(c=L.completed)&&void 0!==c?c:0,z=(m=L.onTime,null!==(v=L.late)&&void 0!==v?v:0),Q=null!==(j=L.pending)&&void 0!==j?j:0,Y=null!==(g=L.accuracy)&&void 0!==g?g:0,H=null!==(f=null===(b=L.attendance)||void 0===b?void 0:b.daysPresent)&&void 0!==f?f:0,U=I||[],[O,W]=(U.length>0&&Math.max(...U.map(e=>e.count||0),1),(0,i.useState)(0)),[_,B]=(0,i.useState)(0);(0,i.useEffect)(()=>{B(0);const e=setInterval(()=>{B(e=>Math.min(e+1,25))},2e3);return()=>clearInterval(e)},[]);const V=Math.max(1,Math.ceil(U.length/15));(0,i.useEffect)(()=>{if(W(0),V<=1)return;const e=Math.max(7e3,800*(P||10)),a=setInterval(()=>W(e=>(e+1)%V),e);return()=>clearInterval(a)},[V,P]);const q=(0,i.useMemo)(()=>{const e=15*O;return U.slice(e,e+15)},[U,O]),X=_>=1,G=_>=10;return(0,w.jsxs)("div",{className:"slide department-monthly-cinematic",children:[(0,w.jsx)(t.P.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.4},className:"logo-corner",children:(0,w.jsx)("img",{src:"/logo.png",alt:"ALSAQI",className:"logo-small"})}),(0,w.jsx)(l.N,{children:X&&(0,w.jsx)(t.P.div,{initial:{opacity:0,y:-40},animate:{opacity:1,y:0},transition:{type:"spring",stiffness:180,damping:22},className:"department-header-cinematic",children:(0,w.jsxs)("div",{className:"department-title-wrap",children:[(0,w.jsx)(N.A,{className:"department-icon-main",style:{color:"#068294"}}),(0,w.jsxs)("div",{children:[(0,w.jsx)("h1",{className:"department-title-main",children:"\u0625\u0646\u062c\u0627\u0632\u0627\u062a \u0627\u0644\u0642\u0633\u0645 \u0627\u0644\u0634\u0647\u0631\u064a\u0629"}),(0,w.jsxs)("p",{className:"department-subtitle",children:[T||r()().format("MMMM YYYY")," \u2014 ",E," \u0645\u0648\u0638\u0641"]})]})]})},"dept-title")}),(0,w.jsx)("div",{className:"department-kpis-cinematic",children:[{icon:y.A,val:C,lbl:"\u0625\u062c\u0645\u0627\u0644\u064a \u0627\u0644\u0645\u0647\u0627\u0645",cls:""},{icon:u.A,val:D,lbl:"\u0627\u0644\u0645\u0647\u0627\u0645 \u0627\u0644\u0645\u062c\u062f\u0648\u0644\u0629",cls:""},{icon:k.A,val:F,lbl:"\u0627\u0644\u0645\u0647\u0627\u0645 \u0627\u0644\u0625\u0636\u0627\u0641\u064a\u0629",cls:""},{icon:p.A,val:R,lbl:"\u0627\u0644\u0645\u0647\u0627\u0645 \u0627\u0644\u0645\u0646\u062c\u0632\u0629",cls:"dept-kpi-completed"},{icon:o.A,val:z,lbl:"\u0645\u0646\u0641\u0630\u0629 \u0645\u062a\u0623\u062e\u0631\u0627\u064b",cls:"dept-kpi-warning"},{icon:x.A,val:Q,lbl:"\u0627\u0644\u0645\u0647\u0627\u0645 \u0627\u0644\u0645\u0639\u0644\u0642\u0629",cls:""},{icon:d.A,val:Y,suffix:"%",lbl:"\u0646\u0633\u0628\u0629 \u0627\u0644\u062f\u0642\u0629",cls:"dept-kpi-rate"},{icon:h.A,val:H,lbl:"\u0625\u062c\u0645\u0627\u0644\u064a \u0623\u064a\u0627\u0645 \u0627\u0644\u062d\u0636\u0648\u0631",cls:""}].map((e,a)=>{const s=e.icon;return(e=>_>=2+e)(a)?(0,w.jsxs)(t.P.div,{initial:{opacity:0,y:-24,scale:.92},animate:{opacity:1,y:0,scale:1},transition:{type:"spring",stiffness:200,damping:24},className:"dept-kpi-card ".concat(e.cls),children:[(0,w.jsx)("div",{className:"dept-kpi-icon",children:(0,w.jsx)(s,{className:"h-6 w-6"})}),(0,w.jsxs)("div",{className:"dept-kpi-val",children:[e.val,e.suffix||""]}),(0,w.jsx)("div",{className:"dept-kpi-lbl",children:e.lbl})]},a):(0,w.jsx)("div",{className:"dept-kpi-card dept-kpi-placeholder","aria-hidden":!0},a)})}),(0,w.jsxs)("div",{className:"department-categories-cinematic",children:[(0,w.jsx)(l.N,{children:G&&(0,w.jsxs)(t.P.h2,{initial:{opacity:0,y:-16},animate:{opacity:1,y:0},transition:{type:"spring",stiffness:180,damping:22},className:"department-cat-title",children:["\u0625\u062d\u0635\u0627\u0626\u064a\u0627\u062a \u0634\u0647\u0631\u064a\u0629 \u062d\u0633\u0628 \u0627\u0644\u0641\u0626\u0629 \u2014 ",T||r()().format("MMMM YYYY")]},"cat-title")}),0===U.length?G&&(0,w.jsxs)(t.P.div,{initial:{opacity:0},animate:{opacity:1},className:"department-empty",children:[(0,w.jsx)(u.A,{className:"h-14 w-14 mb-3",style:{color:"#068294"}}),(0,w.jsx)("p",{children:"\u0644\u0627 \u062a\u0648\u062c\u062f \u0625\u062d\u0635\u0627\u0626\u064a\u0627\u062a \u0634\u0647\u0631\u064a\u0629"})]}):(0,w.jsxs)("div",{className:"department-cat-table-wrap",children:[(0,w.jsx)("div",{className:"department-cat-grid-5x3",children:q.map((e,a)=>_>=11+a?(0,w.jsxs)(t.P.div,{initial:{opacity:0,y:20,scale:.94},animate:{opacity:1,y:0,scale:1},transition:{type:"spring",stiffness:220,damping:24},className:"department-cat-cell",children:[(0,w.jsx)("span",{className:"department-cat-cell-name",children:e.name}),(0,w.jsxs)("span",{className:"department-cat-cell-count",children:[(0,w.jsx)(S,{value:e.count||0})," \u0645\u0631\u0629"]})]},a):(0,w.jsx)("div",{className:"department-cat-cell department-cat-cell-placeholder"},a))}),V>1&&_>=11&&(0,w.jsxs)(t.P.div,{initial:{opacity:0},animate:{opacity:1},className:"monthly-page-indicator",children:[(0,w.jsx)("span",{children:O+1}),(0,w.jsx)("span",{className:"sep",children:"/"}),(0,w.jsx)("span",{children:V})]})]})]})]})},C=e=>{var a,s,n,c,m,v,j,N,f,A,P,M,I,E,T,L;let{slide:C,slideIntervalSec:D}=e;const{employee:F,monthly:R,daily:z}=C,Q=b(11),Y=Q>=1,H=Q>=10,U=Q>=11,[O,W]=(0,i.useState)(!1);(0,i.useEffect)(()=>W(!1),[null===F||void 0===F?void 0:F.id]);const _=null!==(a=R.attendance)&&void 0!==a&&a.loginTime?r()(R.attendance.loginTime,"HH:mm").subtract(30,"minutes").format("h:mm A"):null,B=null!==(s=null!==(n=R.totalTasks)&&void 0!==n?n:R.tasksDone)&&void 0!==s?s:0,V=null!==(c=R.scheduledTotal)&&void 0!==c?c:0,q=null!==(m=R.adHocTotal)&&void 0!==m?m:0,X=null!==(v=null!==(j=R.completed)&&void 0!==j?j:R.tasksDone)&&void 0!==v?v:0,G=null!==(N=R.onTime)&&void 0!==N?N:0,J=null!==(f=R.late)&&void 0!==f?f:0,Z=null!==(A=R.pending)&&void 0!==A?A:0,K=(P=R.coverage,M=R.avgDuration,null!==(I=R.accuracy)&&void 0!==I?I:B>0?Math.round(G/B*100):0),$=null!==(E=null===(T=R.attendance)||void 0===T?void 0:T.daysPresent)&&void 0!==E?E:0,ee=R.categories&&R.categories.length>0?Math.max(...R.categories.map(e=>e.count||0)):0,ae=R.categories||[],se=ae.length,ie=(0,i.useRef)(null),[te,le]=(0,i.useState)(10),[ne,ce]=(0,i.useState)(0);(0,i.useEffect)(()=>{const e=ie.current;if(!e)return;const a=()=>{const a=getComputedStyle(e),s=parseFloat(a.getPropertyValue("--category-card-h"))||140,i=parseFloat(a.getPropertyValue("--category-card-min-w"))||280,t=parseFloat(a.getPropertyValue("--category-grid-gap"))||16,l=e.clientWidth,n=e.clientHeight;if(!l||!n)return void le(10);const c=Math.max(1,Math.floor((l+t)/(i+t))),r=Math.max(1,Math.floor((n+t)/(s+t))),d=Math.max(1,c*r);le(d),se>d&&console.log("\ud83d\udcc4 Monthly Categories Paging: ".concat(se," categories, showing ").concat(d," per page (").concat(c,"x").concat(r,"), total pages: ").concat(Math.ceil(se/d)))};a();const s=new ResizeObserver(()=>{setTimeout(a,100)});return s.observe(e),()=>s.disconnect()},[se]);const re=Math.max(1,Math.ceil(se/Math.max(1,te)));(0,i.useEffect)(()=>{if(ce(0),re<=1)return;const e=Math.max(7e3,Math.floor(1e3*Math.max(10,D)/re)),a=window.setInterval(()=>ce(e=>(e+1)%re),e);return()=>window.clearInterval(a)},[re,D]);const de=(0,i.useMemo)(()=>{const e=ne*te;return ae.slice(e,e+te)},[ae,ne,te]);return(0,w.jsxs)("div",{className:"slide employee-monthly-cinematic",children:[(0,w.jsx)(t.P.div,{initial:{opacity:0},animate:{opacity:1},className:"logo-corner",children:(0,w.jsx)("img",{src:"/logo.png",alt:"ALSAQI",className:"logo-small"})}),(0,w.jsx)(l.N,{children:Y&&(0,w.jsxs)(t.P.div,{initial:{y:-50,opacity:0},animate:{y:0,opacity:1},transition:{type:"spring",stiffness:180,damping:22},className:"employee-header-cinematic",children:[(0,w.jsx)("div",{className:"employee-avatar-cinematic",children:F.avatarUrl&&!O?(0,w.jsx)(t.P.img,{initial:{scale:0},animate:{scale:1},transition:{type:"spring",stiffness:200},src:F.avatarUrl.startsWith("http")?F.avatarUrl:"".concat(window.location.origin).concat(F.avatarUrl),alt:F.name,className:"avatar-image",onError:()=>W(!0)}):(0,w.jsx)(t.P.div,{initial:{scale:0},animate:{scale:1},transition:{type:"spring",stiffness:200},className:"avatar-placeholder-cinematic",children:(e=>{if(!e)return"?";const a=e.trim().split(" ");return a.length>=2?(a[0][0]+a[1][0]).toUpperCase():e[0].toUpperCase()})(F.name)})}),(0,w.jsxs)("div",{className:"employee-info-cinematic",children:[(0,w.jsx)("h1",{className:"employee-name-cinematic",children:F.name}),_&&(0,w.jsxs)(t.P.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.5},className:"attendance-time-cinematic",children:[(0,w.jsx)(g.A,{className:"h-5 w-5"}),(0,w.jsxs)("span",{children:["\u062d\u0636\u0648\u0631 \u0627\u0644\u064a\u0648\u0645: ",_]})]})]})]},"emp-m-header")}),(0,w.jsx)("div",{className:"monthly-kpis-cinematic",children:[{icon:y.A,val:B,lbl:"\u0625\u062c\u0645\u0627\u0644\u064a \u0627\u0644\u0645\u0647\u0627\u0645",cls:""},{icon:u.A,val:V,lbl:"\u0627\u0644\u0645\u0647\u0627\u0645 \u0627\u0644\u0645\u062c\u062f\u0648\u0644\u0629",cls:""},{icon:k.A,val:q,lbl:"\u0627\u0644\u0645\u0647\u0627\u0645 \u0627\u0644\u0625\u0636\u0627\u0641\u064a\u0629",cls:""},{icon:p.A,val:X,lbl:"\u0627\u0644\u0645\u0647\u0627\u0645 \u0627\u0644\u0645\u0646\u062c\u0632\u0629",cls:"completed"},{icon:o.A,val:J,lbl:"\u0645\u0646\u0641\u0630\u0629 \u0645\u062a\u0623\u062e\u0631\u0627\u064b",cls:"warning"},{icon:x.A,val:Z,lbl:"\u0627\u0644\u0645\u0647\u0627\u0645 \u0627\u0644\u0645\u0639\u0644\u0642\u0629",cls:""},{icon:d.A,val:K,lbl:"\u0646\u0633\u0628\u0629 \u0627\u0644\u062f\u0642\u0629",cls:"rate",suffix:"%"},{icon:h.A,val:$,lbl:"\u0623\u064a\u0627\u0645 \u0627\u0644\u062d\u0636\u0648\u0631",cls:"days"}].map((e,a)=>{const s=e.icon;return(e=>Q>=2+e)(a)?(0,w.jsxs)(t.P.div,{initial:{opacity:0,x:-20,scale:.9},animate:{opacity:1,x:0,scale:1},transition:{type:"spring",stiffness:200,damping:22},className:"kpi-card-monthly",children:[(0,w.jsx)("div",{className:"kpi-icon-monthly ".concat(e.cls||""),children:(0,w.jsx)(s,{className:"h-5 w-5"})}),(0,w.jsxs)("div",{className:"kpi-content-monthly",children:[(0,w.jsxs)("div",{className:"kpi-value-monthly ".concat(e.cls||""),children:[e.val,e.suffix||""]}),(0,w.jsx)("div",{className:"kpi-label-monthly",children:e.lbl})]})]},a):(0,w.jsx)("div",{className:"kpi-card-monthly kpi-placeholder","aria-hidden":!0},a)})}),(0,w.jsxs)("div",{className:"monthly-stats-cinematic",children:[(0,w.jsx)(l.N,{children:H&&(0,w.jsxs)(t.P.h2,{initial:{opacity:0,y:-16},animate:{opacity:1,y:0},transition:{type:"spring",stiffness:180},className:"section-title-cinematic",children:["\u0625\u062d\u0635\u0627\u0626\u064a\u0627\u062a \u0634\u0647\u0631\u064a\u0629 \u062d\u0633\u0628 \u0627\u0644\u0641\u0626\u0629 - ",(null===(L=R.attendance)||void 0===L?void 0:L.month)||r()().format("MMMM YYYY")]},"cat-title")}),R.categories&&0!==R.categories.length?(0,w.jsxs)("div",{className:"categories-grid-horizontal-cinematic",ref:ie,children:[(0,w.jsx)(l.N,{mode:"wait",initial:!1,children:(0,w.jsx)(t.P.div,{initial:{opacity:0,y:12},animate:{opacity:1,y:0},exit:{opacity:0,y:-12},transition:{duration:.45,ease:[.22,1,.36,1]},className:"categories-grid-horizontal-cinematic-inner",children:de.map((e,a)=>{const s=ee>0?(e.count||0)/ee*100:0;return U?(0,w.jsxs)(t.P.div,{initial:{scale:.8,opacity:0,y:30},animate:{scale:1,opacity:1,y:0},transition:{type:"spring",stiffness:150},className:"category-card-horizontal-cinematic",children:[(0,w.jsxs)("div",{className:"category-header-horizontal",children:[(0,w.jsx)(u.A,{className:"h-5 w-5",style:{color:"#068294"}}),(0,w.jsx)("h3",{className:"category-name-horizontal",children:e.name})]}),(0,w.jsxs)("div",{className:"category-stats-horizontal",children:[(0,w.jsx)(S,{value:e.count||0}),(0,w.jsx)("span",{className:"category-label-horizontal",children:"\u0645\u0631\u0629"})]}),(0,w.jsx)("div",{className:"category-bar-container-horizontal",children:(0,w.jsx)(t.P.div,{className:"category-bar-horizontal",children:(0,w.jsx)(t.P.div,{className:"category-bar-fill-horizontal",initial:{width:0},animate:{width:"".concat(s,"%")},transition:{delay:.2,duration:.6,ease:"easeOut"}})})})]},a):(0,w.jsx)("div",{className:"category-card-horizontal-cinematic category-placeholder","aria-hidden":!0},a)})},"monthly-categories-page-".concat(ne,"-").concat(te))}),re>1&&(0,w.jsxs)("div",{className:"monthly-page-indicator",children:[(0,w.jsx)("span",{children:ne+1}),(0,w.jsx)("span",{className:"sep",children:"/"}),(0,w.jsx)("span",{children:re})]})]}):H&&(0,w.jsxs)(t.P.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},className:"empty-state-cinematic",children:[(0,w.jsx)(u.A,{className:"h-16 w-16 mb-4",style:{color:"#068294"}}),(0,w.jsx)("p",{className:"empty-text-cinematic",children:"\u0644\u0627 \u062a\u0648\u062c\u062f \u0625\u062d\u0635\u0627\u0626\u064a\u0627\u062a \u0634\u0647\u0631\u064a\u0629"})]})]})]})},D=e=>{if(e<60)return"".concat(e," \u062f\u0642\u064a\u0642\u0629");const a=Math.floor(e/60),s=e%60;return s>0?"".concat(a," \u0633\u0627\u0639\u0629 ").concat(s," \u062f\u0642\u064a\u0642\u0629"):"".concat(a," \u0633\u0627\u0639\u0629")},F=e=>{var a;let{slide:s}=e;const i=b(4+((null===(a=s.records)||void 0===a?void 0:a.length)||0)),l=i>=1,n=i>=2,c=i>=3;return(0,w.jsxs)("div",{className:"slide overview-cinematic",children:[(0,w.jsx)(t.P.div,{className:"logo-corner",children:(0,w.jsx)("img",{src:"/logo.png",alt:"ALSAQI",className:"logo-small"})}),l&&(0,w.jsxs)(t.P.div,{initial:{y:-30,opacity:0},animate:{y:0,opacity:1},transition:{type:"spring",stiffness:180},className:"slide-header-cinematic",children:[(0,w.jsx)(g.A,{className:"h-12 w-12",style:{color:"#068294"}}),(0,w.jsxs)("h1",{className:"slide-title-cinematic",children:["\u0627\u0644\u062d\u0636\u0648\u0631 \u2014 ",s.date]})]}),n&&(0,w.jsx)(t.P.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},transition:{type:"spring",stiffness:180},className:"stats-grid-cinematic",style:{marginBottom:"2rem"},children:(0,w.jsxs)(t.P.div,{className:"stat-card-cinematic",style:{borderColor:"#068294"},children:[(0,w.jsx)("div",{className:"stat-icon-cinematic",style:{background:"rgba(6,130,148,0.2)",color:"#068294"},children:(0,w.jsx)(N.A,{className:"h-10 w-10"})}),(0,w.jsxs)("div",{className:"stat-content-cinematic",children:[(0,w.jsx)(S,{value:s.present||0}),(0,w.jsx)("div",{className:"stat-label-cinematic",children:"\u0645\u0648\u0638\u0641 \u062d\u0636\u0631 \u0627\u0644\u064a\u0648\u0645"})]})]})}),c&&(s.records&&0!==s.records.length?(0,w.jsx)("div",{className:"attendance-list-cinematic",children:(s.records||[]).map((e,a)=>i>=4+a?(0,w.jsxs)(t.P.div,{initial:{x:50,opacity:0},animate:{x:0,opacity:1},transition:{type:"spring",stiffness:200},className:"attendance-item-cinematic",children:[(0,w.jsx)("div",{className:"attendance-avatar-cinematic",children:e.name?e.name.charAt(0):"?"}),(0,w.jsxs)("div",{children:[(0,w.jsx)("h3",{className:"attendance-name-cinematic",children:e.name||"\u063a\u064a\u0631 \u0645\u062d\u062f\u062f"}),e.time&&(0,w.jsx)("span",{className:"attendance-time-cinematic",children:e.time})]})]},a):(0,w.jsx)("div",{className:"attendance-item-cinematic attendance-placeholder","aria-hidden":!0},a))}):(0,w.jsxs)(t.P.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},className:"empty-state-cinematic",children:[(0,w.jsx)(g.A,{className:"h-16 w-16 mb-4",style:{color:"#068294"}}),(0,w.jsx)("p",{className:"empty-text-cinematic",children:"\u0644\u0627 \u064a\u0648\u062c\u062f \u062d\u0636\u0648\u0631"})]}))]})},R=e=>{var a;let{slide:s}=e;const i=b(3+((null===(a=s.coverage)||void 0===a?void 0:a.length)||0)),l=i>=1,n=i>=2;return(0,w.jsxs)("div",{className:"slide overview-cinematic",children:[(0,w.jsx)(t.P.div,{className:"logo-corner",children:(0,w.jsx)("img",{src:"/logo.png",alt:"ALSAQI",className:"logo-small"})}),l&&(0,w.jsxs)(t.P.div,{initial:{y:-30,opacity:0},animate:{y:0,opacity:1},transition:{type:"spring",stiffness:180},className:"slide-header-cinematic",children:[(0,w.jsx)(N.A,{className:"h-12 w-12",style:{color:"#068294"}}),(0,w.jsx)("h1",{className:"slide-title-cinematic",children:"\u0627\u0644\u062a\u063a\u0637\u064a\u0629 \u2014 \u0645\u0646 \u0642\u0627\u0645 \u0628\u0645\u0647\u0627\u0645 \u0627\u0644\u0622\u062e\u0631\u064a\u0646"})]}),n&&(s.coverage&&0!==s.coverage.length?(0,w.jsx)("div",{className:"stats-grid-cinematic",children:(s.coverage||[]).map((e,a)=>i>=3+a?(0,w.jsxs)(t.P.div,{initial:{scale:.8,opacity:0,y:30},animate:{scale:1,opacity:1,y:0},transition:{type:"spring",stiffness:200},className:"stat-card-cinematic coverage-card-cinematic",children:[(0,w.jsx)("div",{className:"stat-icon-cinematic",style:{background:"rgba(6,130,148,0.2)",color:"#068294"},children:(0,w.jsxs)("span",{className:"coverage-rank-cinematic",children:["#",a+1]})}),(0,w.jsxs)("div",{className:"stat-content-cinematic",children:[(0,w.jsx)(S,{value:e.count}),(0,w.jsx)("div",{className:"stat-label-cinematic",children:e.name})]})]},a):(0,w.jsx)("div",{className:"stat-card-cinematic stat-placeholder","aria-hidden":!0},a))}):(0,w.jsxs)(t.P.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},className:"empty-state-cinematic",children:[(0,w.jsx)(N.A,{className:"h-16 w-16 mb-4",style:{color:"#068294"}}),(0,w.jsx)("p",{className:"empty-text-cinematic",children:"\u0644\u0627 \u062a\u0648\u062c\u062f \u062a\u063a\u0637\u064a\u0629"})]}))]})},z=e=>{let{slide:a}=e;const s=a.categories||[],i=s.reduce((e,a)=>e+(a.count||0),0),l=b(3+s.length),n=l>=1,c=l>=2;return(0,w.jsxs)("div",{className:"slide overview-cinematic",children:[(0,w.jsx)(t.P.div,{className:"logo-corner",children:(0,w.jsx)("img",{src:"/logo.png",alt:"ALSAQI",className:"logo-small"})}),n&&(0,w.jsxs)(t.P.div,{initial:{y:-30,opacity:0},animate:{y:0,opacity:1},transition:{type:"spring",stiffness:180},className:"slide-header-cinematic",children:[(0,w.jsx)(u.A,{className:"h-12 w-12",style:{color:"#068294"}}),(0,w.jsxs)("h1",{className:"slide-title-cinematic",children:["\u062a\u0648\u0632\u064a\u0639 \u0627\u0644\u0641\u0626\u0627\u062a \u2014 ",a.date]})]}),c&&(0===s.length?(0,w.jsxs)(t.P.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},className:"empty-state-cinematic",children:[(0,w.jsx)(u.A,{className:"h-16 w-16 mb-4",style:{color:"#068294"}}),(0,w.jsx)("p",{className:"empty-text-cinematic",children:"\u0644\u0627 \u062a\u0648\u062c\u062f \u0641\u0626\u0627\u062a"})]}):(0,w.jsx)("div",{className:"stats-grid-cinematic",children:s.map((e,a)=>{const s=i>0?Math.round((e.count||0)/i*100):0;return l>=3+a?(0,w.jsxs)(t.P.div,{initial:{scale:.8,opacity:0,y:30},animate:{scale:1,opacity:1,y:0},transition:{type:"spring",stiffness:200},className:"stat-card-cinematic",children:[(0,w.jsx)("div",{className:"stat-icon-cinematic",style:{background:"rgba(6,130,148,0.2)",color:"#068294"},children:(0,w.jsx)(u.A,{className:"h-8 w-8"})}),(0,w.jsxs)("div",{className:"stat-content-cinematic",children:[(0,w.jsx)(S,{value:e.count}),(0,w.jsx)("div",{className:"stat-label-cinematic",children:e.name}),(0,w.jsxs)("span",{className:"category-pct-cinematic",children:[s,"%"]})]})]},a):(0,w.jsx)("div",{className:"stat-card-cinematic stat-placeholder","aria-hidden":!0},a)})}))]})},Q=e=>{let{slide:a}=e;const s=a.topPerformers||[],i=b(3+Math.min(s.length,8)),l=i>=1,n=i>=2;return(0,w.jsxs)("div",{className:"slide overview-cinematic",children:[(0,w.jsx)(t.P.div,{className:"logo-corner",children:(0,w.jsx)("img",{src:"/logo.png",alt:"ALSAQI",className:"logo-small"})}),l&&(0,w.jsxs)(t.P.div,{initial:{y:-30,opacity:0},animate:{y:0,opacity:1},transition:{type:"spring",stiffness:180},className:"slide-header-cinematic",children:[(0,w.jsx)(d.A,{className:"h-12 w-12",style:{color:"#068294"}}),(0,w.jsx)("h1",{className:"slide-title-cinematic",children:"\u0623\u0641\u0636\u0644 \u0627\u0644\u0623\u062f\u0627\u0621"})]}),n&&(0===s.length?(0,w.jsxs)(t.P.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},className:"empty-state-cinematic",children:[(0,w.jsx)(d.A,{className:"h-16 w-16 mb-4",style:{color:"#068294"}}),(0,w.jsx)("p",{className:"empty-text-cinematic",children:"\u0644\u0627 \u062a\u0648\u062c\u062f \u0628\u064a\u0627\u0646\u0627\u062a"})]}):(0,w.jsx)("div",{className:"stats-grid-cinematic",children:s.slice(0,8).map((e,a)=>i>=3+a?(0,w.jsxs)(t.P.div,{initial:{scale:.8,opacity:0,y:30},animate:{scale:1,opacity:1,y:0},transition:{type:"spring",stiffness:200},className:"stat-card-cinematic recognition-card-cinematic",children:[(0,w.jsx)("div",{className:"stat-icon-cinematic",style:{background:"rgba(6,130,148,0.2)",color:"#068294"},children:(0,w.jsxs)("span",{children:["#",a+1]})}),(0,w.jsxs)("div",{className:"stat-content-cinematic",children:[(0,w.jsx)("div",{className:"stat-label-cinematic",children:e.name}),(0,w.jsxs)("span",{className:"recognition-stats-cinematic",children:[e.tasks," \u0645\u0647\u0645\u0629 \u2014 ",e.onTime," \u0641\u064a \u0627\u0644\u0648\u0642\u062a"]})]})]},a):(0,w.jsx)("div",{className:"stat-card-cinematic stat-placeholder","aria-hidden":!0},a))}))]})},Y=e=>{let{slide:a}=e;const s=a.tasks||[],i=b(3+Math.min(s.length,10)),l=i>=1,n=i>=2;return(0,w.jsxs)("div",{className:"slide overview-cinematic",children:[(0,w.jsx)(t.P.div,{className:"logo-corner",children:(0,w.jsx)("img",{src:"/logo.png",alt:"ALSAQI",className:"logo-small"})}),l&&(0,w.jsxs)(t.P.div,{initial:{y:-30,opacity:0},animate:{y:0,opacity:1},transition:{type:"spring",stiffness:180},className:"slide-header-cinematic",children:[(0,w.jsx)(o.A,{className:"h-12 w-12",style:{color:"#ef4444"}}),(0,w.jsx)("h1",{className:"slide-title-cinematic",children:"\u0627\u0644\u0645\u0647\u0627\u0645 \u0627\u0644\u0645\u062a\u0623\u062e\u0631\u0629"})]}),n&&(0===s.length?(0,w.jsxs)(t.P.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},className:"empty-state-cinematic",children:[(0,w.jsx)(p.A,{className:"h-16 w-16 mb-4",style:{color:"#10b981"}}),(0,w.jsx)("p",{className:"empty-text-cinematic",children:"\u0644\u0627 \u062a\u0648\u062c\u062f \u0645\u0647\u0627\u0645 \u0645\u062a\u0623\u062e\u0631\u0629"})]}):(0,w.jsx)("div",{className:"task-list-cinematic",children:s.slice(0,10).map((e,a)=>i>=3+a?(0,w.jsxs)(t.P.div,{initial:{x:50,opacity:0},animate:{x:0,opacity:1},transition:{type:"spring",stiffness:200},className:"task-item-cinematic overdue-item",children:[(0,w.jsx)(o.A,{className:"h-6 w-6",style:{color:"#ef4444"}}),(0,w.jsxs)("div",{children:[(0,w.jsx)("h3",{className:"task-title-cinematic",children:e.title||"\u0645\u0647\u0645\u0629"}),(0,w.jsxs)("span",{className:"task-meta-cinematic",children:[e.assignedTo," \u2014 ",e.dueTime]})]})]},a):(0,w.jsx)("div",{className:"task-item-cinematic task-placeholder","aria-hidden":!0},a))}))]})},H=e=>{let{slide:a}=e;const s=a.imports||[],i=b(3+Math.min(s.length,8)),l=i>=1,n=i>=2;return(0,w.jsxs)("div",{className:"slide overview-cinematic",children:[(0,w.jsx)(t.P.div,{className:"logo-corner",children:(0,w.jsx)("img",{src:"/logo.png",alt:"ALSAQI",className:"logo-small"})}),l&&(0,w.jsxs)(t.P.div,{initial:{y:-30,opacity:0},animate:{y:0,opacity:1},transition:{type:"spring",stiffness:180},className:"slide-header-cinematic",children:[(0,w.jsx)(d.A,{className:"h-12 w-12",style:{color:"#068294"}}),(0,w.jsxs)("h1",{className:"slide-title-cinematic",children:["\u0627\u0633\u062a\u064a\u0631\u0627\u062f RTGS \u2014 ",a.date]})]}),n&&(0===s.length?(0,w.jsx)(t.P.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},className:"empty-state-cinematic",children:(0,w.jsx)("p",{className:"empty-text-cinematic",children:"\u0644\u0645 \u064a\u062a\u0645 \u062a\u062d\u0645\u064a\u0644 \u0623\u064a \u0645\u0644\u0641 RTGS \u0645\u0624\u062e\u0631\u0627\u064b"})}):(0,w.jsx)("div",{className:"task-list-cinematic",children:s.slice(0,8).map((e,a)=>i>=3+a?(0,w.jsxs)(t.P.div,{initial:{x:50,opacity:0},animate:{x:0,opacity:1},transition:{type:"spring",stiffness:200},className:"task-item-cinematic",children:[(0,w.jsx)(d.A,{className:"h-6 w-6",style:{color:"#068294"}}),(0,w.jsxs)("div",{children:[(0,w.jsx)("h3",{className:"task-title-cinematic",children:e.filename||"\u0645\u0644\u0641"}),(0,w.jsxs)("span",{className:"task-meta-cinematic",children:[e.importedAt," \u2014 ",e.rowCount," \u062d\u0631\u0643\u0629"]})]})]},a):(0,w.jsx)("div",{className:"task-item-cinematic task-placeholder","aria-hidden":!0},a))}))]})},U=e=>{let{slide:a}=e;const s=a.cards||[],i=b(3+Math.min(s.length,6)),l=i>=1,n=i>=2;return(0,w.jsxs)("div",{className:"slide overview-cinematic",children:[(0,w.jsx)(t.P.div,{className:"logo-corner",children:(0,w.jsx)("img",{src:"/logo.png",alt:"ALSAQI",className:"logo-small"})}),l&&(0,w.jsxs)(t.P.div,{initial:{y:-30,opacity:0},animate:{y:0,opacity:1},transition:{type:"spring",stiffness:180},className:"slide-header-cinematic",children:[(0,w.jsx)(d.A,{className:"h-12 w-12",style:{color:"#068294"}}),(0,w.jsx)("h1",{className:"slide-title-cinematic",children:"\u0643\u0631\u0648\u062a \u0627\u0644\u062a\u0633\u0648\u064a\u0627\u062a \u2014 \u062d\u0633\u0628 \u0627\u0644\u062a\u062d\u0645\u064a\u0644"})]}),n&&(0===s.length?(0,w.jsx)(t.P.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},className:"empty-state-cinematic",children:(0,w.jsx)("p",{className:"empty-text-cinematic",children:"\u0644\u0627 \u062a\u0648\u062c\u062f \u062a\u0633\u0648\u064a\u0627\u062a \u062a\u0645 \u062a\u062d\u0645\u064a\u0644\u0647\u0627"})}):(0,w.jsx)("div",{className:"stats-grid-cinematic",children:s.slice(0,6).map((e,a)=>{return i>=3+a?(0,w.jsxs)(t.P.div,{initial:{scale:.8,opacity:0,y:30},animate:{scale:1,opacity:1,y:0},transition:{type:"spring",stiffness:200},className:"stat-card-cinematic",children:[(0,w.jsx)("div",{className:"stat-icon-cinematic",style:{background:"rgba(6,130,148,0.2)",color:"#068294"},children:(0,w.jsx)("span",{className:"stat-value-cinematic",children:e.rowCount})}),(0,w.jsxs)("div",{className:"stat-content-cinematic",children:[(0,w.jsx)("div",{className:"stat-label-cinematic",children:e.filename}),(0,w.jsxs)("span",{className:"task-meta-cinematic",children:["STTLE: ",(s=e.totalSttle,null!=s?s.toLocaleString("en-US",{maximumFractionDigits:0}):"0")," IQD"]})]})]},a):(0,w.jsx)("div",{className:"stat-card-cinematic stat-placeholder","aria-hidden":!0},a);var s})}))]})},O=e=>{let{slide:a}=e;const s=a.records||[],i=b(3+Math.min(s.length,8)),l=i>=1,n=i>=2;return(0,w.jsxs)("div",{className:"slide overview-cinematic",children:[(0,w.jsx)(t.P.div,{className:"logo-corner",children:(0,w.jsx)("img",{src:"/logo.png",alt:"ALSAQI",className:"logo-small"})}),l&&(0,w.jsxs)(t.P.div,{initial:{y:-30,opacity:0},animate:{y:0,opacity:1},transition:{type:"spring",stiffness:180},className:"slide-header-cinematic",children:[(0,w.jsx)(d.A,{className:"h-12 w-12",style:{color:"#068294"}}),(0,w.jsx)("h1",{className:"slide-title-cinematic",children:"\u0645\u0637\u0627\u0628\u0642\u0629 CT"})]}),n&&(0===s.length?(0,w.jsx)(t.P.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},className:"empty-state-cinematic",children:(0,w.jsx)("p",{className:"empty-text-cinematic",children:"\u0644\u0627 \u062a\u0648\u062c\u062f \u0633\u062c\u0644\u0627\u062a CT"})}):(0,w.jsx)("div",{className:"task-list-cinematic",children:s.slice(0,8).map((e,a)=>{return i>=3+a?(0,w.jsxs)(t.P.div,{initial:{x:50,opacity:0},animate:{x:0,opacity:1},transition:{type:"spring",stiffness:200},className:"task-item-cinematic ".concat("matched"===e.matchStatus?"completed":""),children:["matched"===e.matchStatus?(0,w.jsx)(p.A,{className:"h-6 w-6",style:{color:"#10b981"}}):(0,w.jsx)(o.A,{className:"h-6 w-6",style:{color:"#f59e0b"}}),(0,w.jsxs)("div",{children:[(0,w.jsxs)("h3",{className:"task-title-cinematic",children:[e.sttlDateFrom," \u2014 ",e.sttlDateTo]}),(0,w.jsxs)("span",{className:"task-meta-cinematic",children:["CT: ",(s=e.ctValue,null!=s?s.toLocaleString("en-US",{maximumFractionDigits:0}):"0")," \u2014 ","matched"===e.matchStatus?"\u2713 \u0645\u0637\u0627\u0628\u0642":"\u063a\u064a\u0631 \u0645\u0637\u0627\u0628\u0642"]})]})]},a):(0,w.jsx)("div",{className:"task-item-cinematic task-placeholder","aria-hidden":!0},a);var s})}))]})},W=e=>{let{slide:a,slideIntervalSec:s=10}=e;const l=a.categories||[],n=a.month||"",c=(0,i.useRef)(null),[r,d]=(0,i.useState)(0),[m,h]=(0,i.useState)(8),v=b(6),j=v>=1,g=e=>v>=2+e,N=v>=6,f=(0,i.useMemo)(()=>({completed:l.reduce((e,a)=>e+(a.completed||0),0),late:l.reduce((e,a)=>e+(a.completedLate||0),0),pending:l.reduce((e,a)=>e+(a.pending||0),0),total:l.reduce((e,a)=>e+(a.total||0),0)}),[l]);(0,i.useEffect)(()=>{const e=c.current;if(!e)return;const a=()=>{const a=e.clientHeight;h(Math.max(1,Math.floor(a/56)))};a();const s=new ResizeObserver(()=>setTimeout(a,50));return s.observe(e),()=>s.disconnect()},[l.length]);const k=Math.max(1,Math.ceil(l.length/m)),A=l.slice(r*m,(r+1)*m);return(0,i.useEffect)(()=>{if(k<=1)return;const e=setInterval(()=>d(e=>(e+1)%k),1e3*(s||10));return()=>clearInterval(e)},[k,s]),(0,w.jsxs)("div",{className:"slide monthly-scheduled-fullscreen",children:[(0,w.jsx)(t.P.div,{className:"logo-corner",children:(0,w.jsx)("img",{src:"/logo.png",alt:"ALSAQI",className:"logo-small"})}),j&&(0,w.jsxs)(t.P.div,{initial:{y:-30,opacity:0},animate:{y:0,opacity:1},transition:{type:"spring",stiffness:180},className:"monthly-fixed-bar",children:[(0,w.jsxs)("div",{className:"monthly-fixed-title",children:[(0,w.jsx)(y.A,{className:"h-8 w-8"}),(0,w.jsxs)("div",{children:[(0,w.jsxs)("h1",{children:["\u0625\u0646\u062c\u0627\u0632\u0627\u062a \u0627\u0644\u0634\u0647\u0631 \u2014 ",n]}),(0,w.jsx)("span",{children:"\u0627\u0644\u0645\u0647\u0627\u0645 \u0627\u0644\u0645\u062c\u062f\u0648\u0644\u0629 \u062d\u0633\u0628 \u0627\u0644\u0641\u0626\u0629"})]})]}),(0,w.jsxs)("div",{className:"monthly-fixed-kpi",children:[g(0)&&(0,w.jsxs)(t.P.span,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},className:"kpi-item completed",children:[(0,w.jsx)(p.A,{className:"h-4 w-4"}),f.completed," \u0645\u0646\u062c\u0632\u0629"]}),g(1)&&(0,w.jsxs)(t.P.span,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},className:"kpi-item late",children:[(0,w.jsx)(o.A,{className:"h-4 w-4"}),f.late," \u0645\u062a\u0623\u062e\u0631\u0629"]}),g(2)&&(0,w.jsxs)(t.P.span,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},className:"kpi-item pending",children:[(0,w.jsx)(x.A,{className:"h-4 w-4"}),f.pending," \u0645\u0639\u0644\u0642\u0629"]}),g(3)&&(0,w.jsxs)(t.P.span,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},className:"kpi-item total",children:[f.total," \u0627\u0644\u0625\u062c\u0645\u0627\u0644\u064a"]})]})]}),(0,w.jsx)("div",{className:"monthly-content-area",ref:c,children:N?0===l.length?(0,w.jsxs)("div",{className:"monthly-empty-full",children:[(0,w.jsx)(u.A,{className:"h-16 w-16"}),(0,w.jsx)("p",{children:"\u0644\u0627 \u062a\u0648\u062c\u062f \u0645\u0647\u0627\u0645 \u0645\u062c\u062f\u0648\u0644\u0629 \u0647\u0630\u0627 \u0627\u0644\u0634\u0647\u0631"})]}):(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)("div",{className:"monthly-table-wrap",children:(0,w.jsxs)("table",{className:"monthly-detail-table",children:[(0,w.jsx)("thead",{children:(0,w.jsxs)("tr",{children:[(0,w.jsx)("th",{children:"\u0627\u0644\u0641\u0626\u0629"}),(0,w.jsx)("th",{children:"\u0645\u0646\u062c\u0632\u0629"}),(0,w.jsx)("th",{children:"\u0645\u062a\u0623\u062e\u0631\u0629"}),(0,w.jsx)("th",{children:"\u0645\u0639\u0644\u0642\u0629"}),(0,w.jsx)("th",{children:"\u0627\u0644\u0625\u062c\u0645\u0627\u0644\u064a"})]})}),(0,w.jsx)("tbody",{children:A.map((e,a)=>(0,w.jsxs)(t.P.tr,{initial:{opacity:0,x:16},animate:{opacity:1,x:0},transition:{delay:.03*a},children:[(0,w.jsxs)("td",{className:"cat-name",children:[(0,w.jsx)(u.A,{className:"h-4 w-4"}),e.name]}),(0,w.jsx)("td",{className:"num completed",children:e.completed}),(0,w.jsx)("td",{className:"num late",children:e.completedLate}),(0,w.jsx)("td",{className:"num pending",children:e.pending}),(0,w.jsx)("td",{className:"num total",children:e.total})]},a))})]})}),k>1&&(0,w.jsxs)("div",{className:"monthly-pager",children:[Array.from({length:k}).map((e,a)=>(0,w.jsx)("div",{className:"monthly-pager-dot ".concat(a===r?"active":"")},a)),(0,w.jsxs)("span",{className:"monthly-pager-text",children:[r+1," / ",k]})]})]}):null})]})},_=e=>{let{slide:a,slideIntervalSec:s=10}=e;const l=a.groups||[],n=a.month||"",c=(0,i.useRef)(null),[r,d]=(0,i.useState)(0),[o,m]=(0,i.useState)(2),[h,x]=(0,i.useState)(new Set),v=b(5),u=v>=1,y=e=>v>=2+e,j=v>=4,g=(0,i.useMemo)(()=>l.reduce((e,a)=>{var s;return e+((null===(s=a.tasks)||void 0===s?void 0:s.length)||0)},0),[l]);(0,i.useEffect)(()=>{const e=c.current;if(!e)return;const a=()=>{const a=e.clientHeight;m(Math.max(1,Math.floor(a/220)))};a();const s=new ResizeObserver(()=>setTimeout(a,50));return s.observe(e),()=>s.disconnect()},[l.length]);const N=Math.max(1,Math.ceil(l.length/o)),f=l.slice(r*o,(r+1)*o);return(0,i.useEffect)(()=>{if(N<=1)return;const e=setInterval(()=>d(e=>(e+1)%N),1e3*(s||10));return()=>clearInterval(e)},[N,s]),(0,w.jsxs)("div",{className:"slide monthly-additional-fullscreen",children:[(0,w.jsx)(t.P.div,{className:"logo-corner",children:(0,w.jsx)("img",{src:"/logo.png",alt:"ALSAQI",className:"logo-small"})}),u&&(0,w.jsxs)(t.P.div,{initial:{y:-30,opacity:0},animate:{y:0,opacity:1},transition:{type:"spring",stiffness:180},className:"monthly-fixed-bar",children:[(0,w.jsxs)("div",{className:"monthly-fixed-title",children:[(0,w.jsx)(k.A,{className:"h-8 w-8"}),(0,w.jsxs)("div",{children:[(0,w.jsxs)("h1",{children:["\u0627\u0644\u0645\u0647\u0627\u0645 \u0627\u0644\u0625\u0636\u0627\u0641\u064a\u0629 \u0627\u0644\u0634\u0647\u0631\u064a\u0629 \u2014 ",n]}),(0,w.jsx)("span",{children:"\u0645\u062c\u0645\u0639\u0629 \u062d\u0633\u0628 \u0627\u0644\u0645\u0648\u0638\u0641 \u0627\u0644\u0645\u0646\u0641\u0630"})]})]}),(0,w.jsxs)("div",{className:"monthly-fixed-kpi",children:[y(0)&&(0,w.jsxs)(t.P.span,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},className:"kpi-item total",children:[l.length," \u0645\u0648\u0638\u0641"]}),y(1)&&(0,w.jsxs)(t.P.span,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},className:"kpi-item completed",children:[g," \u0645\u0647\u0645\u0629 \u0645\u0646\u062c\u0632\u0629"]})]})]}),(0,w.jsx)("div",{className:"monthly-content-area monthly-additional-content",ref:c,children:j?0===l.length?(0,w.jsxs)("div",{className:"monthly-empty-full",children:[(0,w.jsx)(k.A,{className:"h-16 w-16"}),(0,w.jsx)("p",{children:"\u0644\u0627 \u062a\u0648\u062c\u062f \u0645\u0647\u0627\u0645 \u0625\u0636\u0627\u0641\u064a\u0629 \u0645\u0646\u062c\u0632\u0629 \u0647\u0630\u0627 \u0627\u0644\u0634\u0647\u0631"})]}):(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)("div",{className:"monthly-additional-cards-grid",children:f.map((e,a)=>{var s,i,l,n,c,r,d;return(0,w.jsxs)(t.P.div,{initial:{opacity:0,y:12},animate:{opacity:1,y:0},transition:{delay:.08*a},className:"monthly-employee-card-full",children:[(0,w.jsxs)("div",{className:"monthly-employee-card-header",children:[(0,w.jsx)("div",{className:"monthly-employee-avatar-wrap",children:null!==(i=e.employee)&&void 0!==i&&i.avatarUrl&&!h.has(null===(l=e.employee)||void 0===l?void 0:l.id)?(0,w.jsx)("img",{src:e.employee.avatarUrl.startsWith("http")?e.employee.avatarUrl:"".concat(window.location.origin).concat(e.employee.avatarUrl),alt:e.employee.name,className:"monthly-employee-avatar",onError:()=>{var a;return null!=(null===(a=e.employee)||void 0===a?void 0:a.id)&&x(a=>new Set(a).add(e.employee.id))}}):(0,w.jsx)("div",{className:"monthly-employee-avatar-placeholder",children:(null===(n=e.employee)||void 0===n||null===(c=n.name)||void 0===c?void 0:c.charAt(0))||"?"})}),(0,w.jsxs)("div",{className:"monthly-employee-card-info",children:[(0,w.jsx)("h3",{children:(null===(r=e.employee)||void 0===r?void 0:r.name)||"\u2014"}),(0,w.jsxs)("span",{children:[(null===(d=e.tasks)||void 0===d?void 0:d.length)||0," \u0645\u0647\u0645\u0629"]})]})]}),(0,w.jsx)("div",{className:"monthly-employee-tasks-list",children:(e.tasks||[]).map((e,a)=>(0,w.jsxs)(t.P.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.02*a},className:"monthly-task-row",children:[(0,w.jsx)(p.A,{className:"h-4 w-4"}),(0,w.jsx)("span",{className:"task-title",children:e.title}),e.doneAt&&(0,w.jsx)("span",{className:"task-date",children:e.doneAt})]},a))})]},(null===(s=e.employee)||void 0===s?void 0:s.id)||a)})}),N>1&&(0,w.jsxs)("div",{className:"monthly-pager",children:[Array.from({length:N}).map((e,a)=>(0,w.jsx)("div",{className:"monthly-pager-dot ".concat(a===r?"active":"")},a)),(0,w.jsxs)("span",{className:"monthly-pager-text",children:[r+1," / ",N]})]})]}):null})]})},B=e=>{var a;let{slide:s}=e;const n=s.kpis||[],c=s.categories||[],[h,x]=(0,i.useState)(0),u=null!==(a=n[h])&&void 0!==a?a:null,g=b(4+c.length),N=g>=1,f=g>=2,k=g>=3,A=function(e){return null==e?"\u2014":arguments.length>1&&void 0!==arguments[1]&&arguments[1]&&"number"===typeof e&&e>=1e3?e.toLocaleString("en-US",{minimumFractionDigits:0,maximumFractionDigits:0}):"number"===typeof e&&(e%1!==0||e>=1e3)?e.toLocaleString("en-US",{minimumFractionDigits:0,maximumFractionDigits:2}):String(e)};(0,i.useEffect)(()=>{if(n.length<=1)return;const e=setInterval(()=>x(e=>(e+1)%n.length),2e3);return()=>clearInterval(e)},[n.length]);const P=c.length>0?Math.max(...c.map(e=>e.value||e.count||0),1):1;return(0,w.jsxs)("div",{className:"slide settlements-matching-overview-slide",children:[(0,w.jsx)("div",{className:"film-letterbox film-letterbox-top","aria-hidden":!0}),(0,w.jsx)("div",{className:"film-letterbox film-letterbox-bottom","aria-hidden":!0}),(0,w.jsx)("div",{className:"film-vignette","aria-hidden":!0}),N&&(0,w.jsxs)(t.P.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{type:"spring",stiffness:180},className:"settlements-overview-header",children:[(0,w.jsx)("img",{src:"/logo.png",alt:"ALSAQI",className:"settlements-logo"}),(0,w.jsx)("div",{className:"settlements-stamp-wrap",children:(0,w.jsx)("img",{src:"/stamp-settlement-reconciliation.png",alt:"\u062e\u062a\u0645 \u0627\u0644\u062a\u0633\u0648\u064a\u0627\u062a",className:"settlements-stamp"})}),(0,w.jsx)("h1",{className:"settlements-overview-title",children:"\u0627\u0644\u062a\u0633\u0648\u064a\u0627\u062a \u0648\u0627\u0644\u0645\u0637\u0627\u0628\u0642\u0629"})]}),f&&(0,w.jsx)("div",{className:"settlements-kpi-drop-zone",children:(0,w.jsx)(l.N,{mode:"wait",children:u&&(0,w.jsxs)(t.P.div,{initial:{opacity:0,y:-120,scale:.8},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:60,scale:.9},transition:{type:"spring",stiffness:200,damping:22},className:"settlements-kpi-card-drop",children:[(0,w.jsx)("div",{className:"settlements-kpi-icon",style:{background:"linear-gradient(135deg, rgba(6,130,148,0.2) 0%, rgba(2,97,116,0.2) 100%)",color:"#068294"},children:(e=>{switch(e){case"upload":return(0,w.jsx)(j.A,{className:"h-12 w-12"});case"activity":default:return(0,w.jsx)(d.A,{className:"h-12 w-12"});case"dollar":case"bank":return(0,w.jsx)(m.A,{className:"h-12 w-12"});case"file":return(0,w.jsx)(v.A,{className:"h-12 w-12"});case"check":return(0,w.jsx)(p.A,{className:"h-12 w-12"});case"alert":return(0,w.jsx)(o.A,{className:"h-12 w-12"});case"target":return(0,w.jsx)(y.A,{className:"h-12 w-12"})}})(u.icon)}),(0,w.jsxs)("div",{className:"settlements-kpi-value",dir:"ltr",children:["number"===u.format?A(u.value,!0):u.value,u.suffix||""]}),(0,w.jsx)("div",{className:"settlements-kpi-label",children:u.label})]},u.id)})}),(0,w.jsxs)("div",{className:"settlements-categories-section",children:[k&&(0,w.jsxs)(t.P.h2,{initial:{opacity:0,y:-16},animate:{opacity:1,y:0},transition:{type:"spring",stiffness:180},className:"settlements-categories-title",children:["\u062d\u0633\u0628 \u0627\u0644\u0645\u0635\u0631\u0641 \u2014 ",s.month||r()().format("MMMM YYYY")]}),0===c.length?k&&(0,w.jsx)(t.P.p,{initial:{opacity:0},animate:{opacity:1},className:"settlements-empty-cat",children:"\u0644\u0627 \u062a\u0648\u062c\u062f \u0628\u064a\u0627\u0646\u0627\u062a \u062d\u0633\u0628 \u0627\u0644\u0645\u0635\u0631\u0641"}):(0,w.jsx)("div",{className:"settlements-categories-grid",children:c.map((e,a)=>{var s,i;const l=P>0?(null!==(s=null!==(i=e.value)&&void 0!==i?i:e.count)&&void 0!==s?s:0)/P*100:0;return g>=4+a?(0,w.jsxs)(t.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{type:"spring",stiffness:200},className:"settlements-category-card",children:[(0,w.jsx)("div",{className:"settlements-cat-name",children:e.name}),(0,w.jsxs)("div",{className:"settlements-cat-stats",children:[(0,w.jsxs)("span",{className:"settlements-cat-count",children:[A(e.count)," \u062d\u0631\u0643\u0629"]}),(0,w.jsxs)("span",{className:"settlements-cat-value",dir:"ltr",children:[A(e.value)," IQD"]})]}),(0,w.jsx)("div",{className:"settlements-cat-bar-wrap",children:(0,w.jsx)(t.P.div,{className:"settlements-cat-bar-fill",initial:{width:0},animate:{width:"".concat(l,"%")},transition:{delay:.2,duration:.6},style:{background:"linear-gradient(90deg, #026174 0%, #068294 100%)"}})})]},a):(0,w.jsx)("div",{className:"settlements-category-card cat-placeholder","aria-hidden":!0},a)})})]})]})},V=e=>{let{slide:a,slideDurationSec:s=40}=e;const l=a.cards||[],[n,c]=(0,i.useState)(0),r=Math.max(1,Math.ceil(l.length/4)),o=l.slice(4*n,4*(n+1)),m=e=>null!=e?e.toLocaleString("en-US",{minimumFractionDigits:0,maximumFractionDigits:2}):"\u2014",h=e=>e?e.replace(/-/g,"/"):"\u2014",p=b(3+Math.min(o.length,4)),x=p>=1,v=p>=2;return(0,i.useEffect)(()=>{c(0)},[l.length]),(0,i.useEffect)(()=>{if(r<=1)return;const e=1e3*(s||40),a=Math.max(2e3,Math.floor(e/r)),i=setInterval(()=>{c(e=>(e+1)%r)},a);return()=>clearInterval(i)},[r,s]),(0,w.jsxs)("div",{className:"slide overview-cinematic government-settlement-cards-slide",children:[(0,w.jsx)(t.P.div,{className:"logo-corner",children:(0,w.jsx)("img",{src:"/logo.png",alt:"ALSAQI",className:"logo-small"})}),x&&(0,w.jsxs)(t.P.div,{initial:{y:-30,opacity:0},animate:{y:0,opacity:1},transition:{type:"spring",stiffness:180},className:"slide-header-cinematic",children:[(0,w.jsx)(d.A,{className:"h-12 w-12",style:{color:"var(--primary-600)"}}),(0,w.jsxs)("h1",{className:"slide-title-cinematic",children:["\u0643\u0631\u0648\u062a \u0627\u0644\u062a\u0633\u0648\u064a\u0627\u062a \u0627\u0644\u062d\u0643\u0648\u0645\u064a\u0629 \u2014 ",a.date?a.date.replace(/-/g,"/"):""]})]}),v?0===l.length?(0,w.jsx)(t.P.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},className:"empty-state-cinematic",children:(0,w.jsx)("p",{className:"empty-text-cinematic",children:"\u0644\u0627 \u062a\u0648\u062c\u062f \u062a\u0633\u0648\u064a\u0627\u062a RTGS \u0644\u0639\u0631\u0636\u0647\u0627"})}):(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)("div",{className:"settlement-cards-grid-cinematic",children:o.map((e,a)=>{var s;const i="\u062a\u0633\u0648\u064a\u0629 ".concat(h(e.sttl_date)," \u2014 ").concat(e.bank_name||"\u2014"),l=e.rows||[],c=e.totals||{},r="".concat(e.sttl_date,"-").concat(e.bank_name,"-").concat(4*n+a);return p>=3+a?(0,w.jsxs)(t.P.div,{initial:{scale:.9,opacity:0,y:30},animate:{scale:1,opacity:1,y:0},transition:{type:"spring",stiffness:200},className:"settlement-card-cinematic",children:[(0,w.jsx)("div",{className:"settlement-card-header-cinematic",children:i}),(0,w.jsx)("div",{className:"settlement-card-body-cinematic",children:l.slice(0,2).map((e,a)=>{var s;return(0,w.jsxs)("div",{className:"settlement-row-cinematic",children:[(0,w.jsxs)("div",{className:"settlement-row-date",children:["\u062a\u0627\u0631\u064a\u062e \u0627\u0644\u062d\u0631\u0643\u0629: ",(0,w.jsx)("span",{dir:"ltr",children:h(e.transaction_date)})]}),(0,w.jsxs)("div",{className:"settlement-row-grid",children:[(0,w.jsx)("span",{children:"\u0639\u062f\u062f \u0627\u0644\u062d\u0631\u0643\u0627\u062a"}),(0,w.jsx)("span",{dir:"ltr",children:null===(s=e.movement_count)||void 0===s?void 0:s.toLocaleString("en-US")}),(0,w.jsx)("span",{children:"\u0642\u064a\u0645\u0629 \u0627\u0644\u062d\u0631\u0643\u0627\u062a"}),(0,w.jsx)("span",{dir:"ltr",children:m(e.sum_amount)}),(0,w.jsx)("span",{children:"\u0642\u064a\u0645\u0629 \u0627\u0644\u0639\u0645\u0648\u0644\u0629"}),(0,w.jsx)("span",{dir:"ltr",children:m(e.sum_fees)}),(0,w.jsx)("span",{children:"\u0639\u0645\u0648\u0644\u0629 \u0627\u0644\u0645\u062d\u0635\u0644"}),(0,w.jsx)("span",{dir:"ltr",children:m(e.sum_acq)})]}),(0,w.jsxs)("div",{className:"settlement-row-total",children:["\u0642\u064a\u0645\u0629 \u0627\u0644\u062a\u0633\u0648\u064a\u0629 ",(0,w.jsxs)("span",{dir:"ltr",children:[m(e.sum_sttle)," IQD"]})]})]},a)})}),(0,w.jsxs)("div",{className:"settlement-card-footer-cinematic",children:[(0,w.jsx)("div",{className:"settlement-footer-title",children:"\u0625\u062c\u0645\u0627\u0644\u064a \u0627\u0644\u062a\u0633\u0648\u064a\u0629"}),(0,w.jsxs)("div",{className:"settlement-footer-grid",children:[(0,w.jsx)("span",{children:"\u0639\u062f\u062f \u0627\u0644\u062d\u0631\u0643\u0627\u062a"}),(0,w.jsx)("span",{dir:"ltr",children:null===(s=c.movement_count)||void 0===s?void 0:s.toLocaleString("en-US")}),(0,w.jsx)("span",{children:"\u0642\u064a\u0645\u0629 \u0627\u0644\u062d\u0631\u0643\u0627\u062a"}),(0,w.jsxs)("span",{dir:"ltr",children:[m(c.sum_amount)," IQD"]}),(0,w.jsx)("span",{children:"\u0642\u064a\u0645\u0629 \u0627\u0644\u0639\u0645\u0648\u0644\u0629"}),(0,w.jsxs)("span",{dir:"ltr",children:[m(c.sum_fees)," IQD"]}),(0,w.jsx)("span",{children:"\u0639\u0645\u0648\u0644\u0629 \u0627\u0644\u0645\u062d\u0635\u0644"}),(0,w.jsxs)("span",{dir:"ltr",children:[m(c.sum_acq)," IQD"]}),(0,w.jsx)("span",{children:"\u0642\u064a\u0645\u0629 \u0627\u0644\u062a\u0633\u0648\u064a\u0629"}),(0,w.jsxs)("span",{dir:"ltr",children:[m(c.sum_sttle)," IQD"]})]})]}),(0,w.jsxs)("div",{className:"settlement-card-logo-footer",children:[(0,w.jsx)("img",{src:"/logo-icon.png",alt:"\u0627\u0644\u0633\u0627\u0642\u064a",className:"settlement-logo-small"}),(0,w.jsx)("span",{className:"view-details-btn-cinematic",children:"\u0639\u0631\u0636 \u0627\u0644\u062a\u0641\u0635\u064a\u0644"})]})]},r):(0,w.jsx)("div",{className:"settlement-card-cinematic card-placeholder","aria-hidden":!0},r)})}),r>1&&(0,w.jsx)("div",{className:"settlement-cards-page-indicator",children:Array.from({length:r}).map((e,a)=>(0,w.jsx)("div",{className:"settlement-cards-page-dot ".concat(a===n?"active":""),"aria-hidden":!0},a))})]}):null]})},q=e=>{let{slide:a}=e;const s=a.tasks||[],i=b(3+Math.min(s.length,8)),l=i>=1,n=i>=2;return(0,w.jsxs)("div",{className:"slide overview-cinematic",children:[(0,w.jsx)(t.P.div,{className:"logo-corner",children:(0,w.jsx)("img",{src:"/logo.png",alt:"ALSAQI",className:"logo-small"})}),l&&(0,w.jsxs)(t.P.div,{initial:{y:-30,opacity:0},animate:{y:0,opacity:1},transition:{type:"spring",stiffness:180},className:"slide-header-cinematic",children:[(0,w.jsx)(d.A,{className:"h-12 w-12",style:{color:"#068294"}}),(0,w.jsxs)("h1",{className:"slide-title-cinematic",children:["\u0627\u0644\u062a\u0633\u0648\u064a\u0629 \u0627\u0644\u062d\u0643\u0648\u0645\u064a\u0629 \u2014 ",a.date]})]}),n&&(0===s.length?(0,w.jsx)(t.P.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},className:"empty-state-cinematic",children:(0,w.jsx)("p",{className:"empty-text-cinematic",children:"\u0644\u0627 \u062a\u0648\u062c\u062f \u0645\u0647\u0627\u0645 \u062a\u0633\u0648\u064a\u0629 \u062d\u0643\u0648\u0645\u064a\u0629 \u0627\u0644\u064a\u0648\u0645"})}):(0,w.jsx)("div",{className:"task-list-cinematic",children:s.slice(0,8).map((e,a)=>{return i>=3+a?(0,w.jsxs)(t.P.div,{initial:{x:50,opacity:0},animate:{x:0,opacity:1},transition:{type:"spring",stiffness:200},className:"task-item-cinematic ".concat("matched"===e.verificationStatus?"completed":""),children:["matched"===e.verificationStatus?(0,w.jsx)(p.A,{className:"h-6 w-6",style:{color:"#10b981"}}):(0,w.jsx)(o.A,{className:"h-6 w-6",style:{color:"#f59e0b"}}),(0,w.jsxs)("div",{children:[(0,w.jsx)("h3",{className:"task-title-cinematic",children:e.title}),(0,w.jsxs)("span",{className:"task-meta-cinematic",children:["\u062a\u0633\u0648\u064a\u0629: ",e.targetSettlementDate," \u2014 ",(s=e.settlementValue,null!=s?s.toLocaleString("en-US",{maximumFractionDigits:0}):"\u2014")," IQD"]})]})]},a):(0,w.jsx)("div",{className:"task-item-cinematic task-placeholder","aria-hidden":!0},a);var s})}))]})},X=()=>{var e;const[a,s]=(0,i.useState)(null),[c,m]=(0,i.useState)(0),[h,x]=(0,i.useState)(!0),[v,u]=(0,i.useState)(null),[y,j]=(0,i.useState)(r()().tz("Asia/Baghdad")),[g,N]=(0,i.useState)([]),[k,b]=(0,i.useState)(!1),[S,D]=(0,i.useState)(0),X=(0,i.useRef)(null),G=(0,i.useRef)(null),J=(0,i.useRef)(null),Z=(0,i.useRef)(null),[K,$]=(0,i.useState)(!1);(0,i.useEffect)(()=>{if(!X.current)return;const e=()=>{var e;if(g.length>0)return void $(!0);const a=Z.current;if(!a)return;const s=a.getBoundingClientRect(),i=s.left+s.width/2,t=s.top+s.height/2;let l=document.elementFromPoint(i,t);const n=J.current;if(n&&(l===n||n.contains(l))){const e=n.style.pointerEvents;n.style.pointerEvents="none",l=document.elementFromPoint(i,t),n.style.pointerEvents=e}const c=l&&(l.closest(".slide-container-cinematic")||l.closest(".toast-container")||(null===(e=l.classList)||void 0===e?void 0:e.contains("toast")));$(!!c)};e();const a=setInterval(e,400);return()=>clearInterval(a)},[g.length,c]),(0,i.useEffect)(()=>{(async()=>{try{X.current&&(X.current.requestFullscreen?await X.current.requestFullscreen():X.current.webkitRequestFullscreen?await X.current.webkitRequestFullscreen():X.current.mozRequestFullScreen?await X.current.mozRequestFullScreen():X.current.msRequestFullscreen&&await X.current.msRequestFullscreen(),b(!0))}catch(e){console.error("\u062e\u0637\u0623 \u0641\u064a \u062a\u0641\u0639\u064a\u0644 \u0648\u0636\u0639 \u0645\u0644\u0621 \u0627\u0644\u0634\u0627\u0634\u0629:",e)}})();const e=()=>{b(!!(document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement))};return document.addEventListener("fullscreenchange",e),document.addEventListener("webkitfullscreenchange",e),document.addEventListener("mozfullscreenchange",e),document.addEventListener("MSFullscreenChange",e),()=>{document.removeEventListener("fullscreenchange",e),document.removeEventListener("webkitfullscreenchange",e),document.removeEventListener("mozfullscreenchange",e),document.removeEventListener("MSFullscreenChange",e)}},[]),(0,i.useEffect)(()=>{const e=setInterval(()=>{j(r()().tz("Asia/Baghdad"))},1e3);return()=>clearInterval(e)},[]),(0,i.useEffect)(()=>(ae(),()=>{G.current&&(G.current.abort(),G.current=null)}),[]),(0,i.useEffect)(()=>{var e;if(null!==a&&void 0!==a&&null!==(e=a.settings)&&void 0!==e&&e.refreshInterval){const e=setInterval(ae,Math.max(5e3,1e3*a.settings.refreshInterval));return()=>clearInterval(e)}},[null===a||void 0===a||null===(e=a.settings)||void 0===e?void 0:e.refreshInterval]);const ee={opening:"opening",overview:"overview","scheduled-tasks":"scheduledTasks","additional-tasks":"additionalTasks",employee:"employee","employee-monthly":"employeeMonthly","department-monthly-overview":"departmentMonthlyOverview",overdue:"overdue",attendance:"attendance",coverage:"coverage",categories:"categories",recognition:"recognition","rtgs-imports-today":"rtgsImportsToday","rtgs-settlements-by-import":"rtgsSettlementsByImport","ct-matching":"ctMatching","government-settlements":"governmentSettlements","government-settlement-cards":"governmentSettlementCards","settlements-matching-overview":"settlementsMatchingOverview","monthly-scheduled-by-category":"monthlyScheduledByCategory","monthly-additional-by-employee":"monthlyAdditionalByEmployee"};(0,i.useEffect)(()=>{var e,s;if(null===a||void 0===a||!a.slides||0===a.slides.length)return;const i=a.slides[c],t=(null===(e=a.settings)||void 0===e?void 0:e.slideDurations)||{},l=1e3*((null===(s=a.settings)||void 0===s?void 0:s.slideInterval)||10),n=i?ee[i.type]||i.type:null,r=n&&"number"===typeof t[n]?1e3*t[n]:l,d=setTimeout(()=>{m(e=>(e+1)%a.slides.length)},Math.max(3e3,r));return()=>clearTimeout(d)},[a,c]),(0,i.useEffect)(()=>{let e=null;try{e=new WebSocket("ws://localhost:5001"),e.onopen=()=>{console.log("\u2705 WebSocket connected for TV Dashboard")},e.onmessage=e=>{try{const a=JSON.parse(e.data);if("task_executed"===a.type){const e=a.taskTitle||"\u0645\u0647\u0645\u0629",s=a.userName||"\u0645\u0633\u062a\u062e\u062f\u0645",i=r()().tz("Asia/Baghdad").format("h:mm:ss A");se("\u2705 \u062a\u0645 \u0625\u0646\u062c\u0627\u0632 \u0645\u0647\u0645\u0629 (".concat(e,") \u0628\u0648\u0627\u0633\u0637\u0629 (").concat(s,") \u0627\u0644\u0633\u0627\u0639\u0629 ").concat(i),"success"),setTimeout(()=>ae(),2e3)}else if("task_created"===a.type){const e=a.title||"\u0645\u0647\u0645\u0629",s=a.userName||"\u0645\u0633\u062a\u062e\u062f\u0645",i=r()().tz("Asia/Baghdad").format("h:mm:ss A");se("\u2795 \u062a\u0645 \u0625\u0636\u0627\u0641\u0629 \u0645\u0647\u0645\u0629 \u062c\u062f\u064a\u062f\u0629 (".concat(e,") \u0628\u0648\u0627\u0633\u0637\u0629 (").concat(s,") \u0627\u0644\u0633\u0627\u0639\u0629 ").concat(i),"info"),setTimeout(()=>ae(),2e3)}}catch(a){console.error("Error parsing WebSocket message:",a)}},e.onerror=e=>{console.error("WebSocket error:",e)},e.onclose=()=>{console.log("WebSocket disconnected, reconnecting..."),setTimeout(()=>{var a;null===(a=e)||void 0===a||a.readyState,WebSocket.CLOSED},5e3)}}catch(v){console.error("Failed to connect WebSocket:",v)}return()=>{e&&e.close()}},[]),(0,i.useEffect)(()=>{if(!h)return void D(100);D(0);const e=Date.now(),a=setInterval(()=>{const a=Date.now()-e,s=Math.min(1,a/3e3),i=Math.round(90*s);D(i)},100);return()=>clearInterval(a)},[h]);const ae=async()=>{try{var e,a,i,t,l;G.current&&G.current.abort(),x(!0),u(null);const c=new AbortController;G.current=c;const r=setTimeout(()=>c.abort(),6e4);console.log("\ud83d\udd04 \u0628\u062f\u0621 \u062c\u0644\u0628 \u0628\u064a\u0627\u0646\u0627\u062a TV Dashboard...");const d=await n.A.get("/api/tv-dashboard",{signal:c.signal,timeout:6e4,headers:{"Content-Type":"application/json"}});if(clearTimeout(r),c.signal.aborted)return;if(console.log("\u2705 \u062a\u0645 \u0627\u0633\u062a\u0644\u0627\u0645 \u0627\u0644\u0628\u064a\u0627\u0646\u0627\u062a:",{hasData:!!d.data,hasSlides:!(null===(e=d.data)||void 0===e||!e.slides),slidesCount:null===(a=d.data)||void 0===a||null===(i=a.slides)||void 0===i?void 0:i.length,hasSettings:!(null===(t=d.data)||void 0===t||!t.settings)}),null!==(l=d.data)&&void 0!==l&&l.slides){const e=d.data.slides.filter(e=>"employee"===e.type);console.log("\ud83d\udc65 \u0639\u062f\u062f \u0634\u0631\u0627\u0626\u062d \u0627\u0644\u0645\u0648\u0638\u0641\u064a\u0646: ".concat(e.length)),e.slice(0,3).forEach(e=>{var a,s,i,t;const l=(null===(a=e.daily)||void 0===a||null===(s=a.tasks)||void 0===s?void 0:s.length)||0;console.log("   ".concat(null===(i=e.employee)||void 0===i?void 0:i.name,": ").concat(l," \u0645\u0647\u0645\u0629"),null!==(t=e.daily)&&void 0!==t&&t.tasks?"\u2705":"\u274c"),0===l&&e.daily&&console.log("   \u26a0\ufe0f daily object:",Object.keys(e.daily))})}if(!(d.data&&d.data.slides&&Array.isArray(d.data.slides)))throw console.error("\u274c \u0628\u064a\u0627\u0646\u0627\u062a \u063a\u064a\u0631 \u0635\u062d\u064a\u062d\u0629:",d.data),new Error("\u0628\u064a\u0627\u0646\u0627\u062a \u063a\u064a\u0631 \u0635\u062d\u064a\u062d\u0629 \u0645\u0646 \u0627\u0644\u062e\u0627\u062f\u0645");if(c.signal.aborted)return;s(d.data),x(!1),u(null),G.current=null,console.log("\u2705 \u062a\u0645 \u062a\u062d\u062f\u064a\u062b \u0627\u0644\u0628\u064a\u0627\u0646\u0627\u062a \u0628\u0646\u062c\u0627\u062d")}catch(g){var c,r,d,o,m;if("CanceledError"===g.name||"ERR_CANCELED"===g.code||"canceled"===g.message)return void console.log("\u2139\ufe0f \u062a\u0645 \u0625\u0644\u063a\u0627\u0621 \u0627\u0644\u0637\u0644\u0628 (\u0647\u0630\u0627 \u0637\u0628\u064a\u0639\u064a \u0639\u0646\u062f \u062a\u063a\u064a\u064a\u0631 \u0627\u0644\u0633\u0644\u0627\u064a\u062f)");console.error("\u274c \u062e\u0637\u0623 \u0641\u064a \u062c\u0644\u0628 \u0628\u064a\u0627\u0646\u0627\u062a \u0644\u0648\u062d\u0629 \u0627\u0644\u062a\u062d\u0643\u0645:",g),x(!1),G.current=null;let e="\u062e\u0637\u0623 \u0641\u064a \u062c\u0644\u0628 \u0627\u0644\u0628\u064a\u0627\u0646\u0627\u062a";if("AbortError"===g.name||"ECONNABORTED"===g.code)e="\u0627\u0646\u062a\u0647\u062a \u0645\u0647\u0644\u0629 \u0627\u0644\u0627\u062a\u0635\u0627\u0644. \u064a\u0631\u062c\u0649 \u0627\u0644\u0645\u062d\u0627\u0648\u0644\u0629 \u0645\u0631\u0629 \u0623\u062e\u0631\u0649.";else if("ECONNREFUSED"===g.code||null!==(c=g.message)&&void 0!==c&&c.includes("Network Error"))e="\u062e\u0637\u0623 \u0641\u064a \u0627\u0644\u0627\u062a\u0635\u0627\u0644 \u0628\u0627\u0644\u062e\u0627\u062f\u0645. \u062a\u0623\u0643\u062f \u0645\u0646 \u0623\u0646 \u0627\u0644\u062e\u0627\u062f\u0645 \u064a\u0639\u0645\u0644.";else if(403===(null===(r=g.response)||void 0===r?void 0:r.status)){var h;e="\u063a\u064a\u0631 \u0645\u0635\u0631\u062d \u0628\u0627\u0644\u0648\u0635\u0648\u0644. \u064a\u0631\u062c\u0649 \u0627\u0644\u062a\u062d\u0642\u0642 \u0645\u0646 \u0625\u0639\u062f\u0627\u062f\u0627\u062a \u0627\u0644\u062e\u0627\u062f\u0645.",console.error("\u062e\u0637\u0623 403 - \u062a\u0641\u0627\u0635\u064a\u0644:",null===(h=g.response)||void 0===h?void 0:h.data)}else if(500===(null===(d=g.response)||void 0===d?void 0:d.status)){var p,v,y,j;e=(null===(p=g.response)||void 0===p||null===(v=p.data)||void 0===v?void 0:v.message)||"\u062e\u0637\u0623 \u0641\u064a \u0627\u0644\u062e\u0627\u062f\u0645. \u064a\u0631\u062c\u0649 \u0627\u0644\u0645\u062d\u0627\u0648\u0644\u0629 \u0644\u0627\u062d\u0642\u0627\u064b.",null!==(y=g.response)&&void 0!==y&&null!==(j=y.data)&&void 0!==j&&j.details&&console.error("\u062a\u0641\u0627\u0635\u064a\u0644 \u0627\u0644\u062e\u0637\u0623 \u0645\u0646 \u0627\u0644\u062e\u0627\u062f\u0645:",g.response.data.details)}else null!==(o=g.response)&&void 0!==o&&null!==(m=o.data)&&void 0!==m&&m.error&&(e=g.response.data.error);u(e)}},se=function(e){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"info";const s={id:Date.now().toString(),message:e,type:a,timestamp:y.format("h:mm:ss A")};N(e=>[...e,s]),setTimeout(()=>{N(e=>e.filter(e=>e.id!==s.id))},1e4)};if(h&&!v)return(0,w.jsx)("div",{ref:X,className:"tv-cinematic-dashboard",children:(0,w.jsxs)("div",{className:"loading-screen-cinematic loading-screen-pro",children:[(0,w.jsx)("div",{className:"loading-pro-bg"}),(0,w.jsxs)(t.P.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.6},className:"loading-content loading-content-pro",children:[(0,w.jsx)(t.P.div,{animate:{rotate:360},transition:{duration:3,repeat:1/0,ease:"linear"},className:"loading-logo-ring",children:(0,w.jsx)("div",{className:"loading-logo-inner",children:(0,w.jsx)("img",{src:"/logo-icon.png",alt:"\u0627\u0644\u0633\u0627\u0642\u064a",className:"loading-logo-img"})})}),(0,w.jsx)(t.P.h1,{initial:{y:24,opacity:0},animate:{y:0,opacity:1},transition:{delay:.2,duration:.5},className:"loading-title-pro",children:"\u0642\u0633\u0645 \u0627\u0644\u062a\u0633\u0648\u064a\u0627\u062a \u0648\u0627\u0644\u0645\u0637\u0627\u0628\u0642\u0629"}),(0,w.jsx)(t.P.p,{initial:{y:16,opacity:0},animate:{y:0,opacity:1},transition:{delay:.35,duration:.5},className:"loading-subtitle-pro",children:"\u062c\u0627\u0631\u064a \u0627\u0644\u062a\u062d\u0645\u064a\u0644..."}),(0,w.jsxs)(t.P.div,{initial:{opacity:0,width:0},animate:{opacity:1,width:"100%"},transition:{delay:.5,duration:.4},className:"loading-progress-wrapper",children:[(0,w.jsx)("div",{className:"loading-progress-track",children:(0,w.jsx)(t.P.div,{className:"loading-progress-fill",initial:{width:0},animate:{width:"".concat(S,"%")},transition:{duration:.5,ease:"easeOut"}})}),(0,w.jsxs)("span",{className:"loading-progress-text",children:[S,"%"]})]})]})]})});if(v||!h&&!a)return(0,w.jsx)("div",{ref:X,className:"tv-cinematic-dashboard",children:(0,w.jsx)("div",{className:"error-screen-cinematic",children:(0,w.jsxs)(t.P.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},className:"error-content",children:[(0,w.jsx)(t.P.div,{initial:{scale:0,rotate:-180},animate:{scale:1,rotate:0},transition:{duration:1,type:"spring"},className:"error-logo-container",children:(0,w.jsx)("img",{src:"/logo.png",alt:"ALSAQI Logo",className:"error-logo"})}),(0,w.jsx)(t.P.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.3},children:(0,w.jsx)(o.A,{className:"h-24 w-24 mb-8",style:{color:"#068294"}})}),(0,w.jsx)(t.P.h1,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.5},className:"error-title",children:"\u0642\u0633\u0645 \u0627\u0644\u062a\u0633\u0648\u064a\u0627\u062a \u0648\u0627\u0644\u0645\u0637\u0627\u0628\u0642\u0629"}),(0,w.jsx)(t.P.p,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.7},className:"error-message",children:v||"\u0641\u0634\u0644 \u0641\u064a \u062c\u0644\u0628 \u0627\u0644\u0628\u064a\u0627\u0646\u0627\u062a. \u064a\u0631\u062c\u0649 \u0627\u0644\u062a\u062d\u0642\u0642 \u0645\u0646 \u0627\u062a\u0635\u0627\u0644 \u0627\u0644\u062e\u0627\u062f\u0645."}),(0,w.jsx)(t.P.button,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.9},onClick:ae,className:"retry-button-cinematic",whileHover:{scale:1.05},whileTap:{scale:.95},children:"\u0625\u0639\u0627\u062f\u0629 \u0627\u0644\u0645\u062d\u0627\u0648\u0644\u0629"})]})})});if(!a||!a.slides||0===a.slides.length)return(0,w.jsx)("div",{ref:X,className:"tv-cinematic-dashboard",children:(0,w.jsx)("div",{className:"error-screen-cinematic",children:(0,w.jsxs)(t.P.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},className:"error-content",children:[(0,w.jsx)(o.A,{className:"h-24 w-24 mb-8",style:{color:"#068294"}}),(0,w.jsx)("h1",{className:"error-title",children:"\u0642\u0633\u0645 \u0627\u0644\u062a\u0633\u0648\u064a\u0627\u062a \u0648\u0627\u0644\u0645\u0637\u0627\u0628\u0642\u0629"}),(0,w.jsx)("p",{className:"error-message",children:"\u0644\u0627 \u062a\u0648\u062c\u062f \u0628\u064a\u0627\u0646\u0627\u062a \u0644\u0644\u0639\u0631\u0636"}),(0,w.jsx)("button",{onClick:ae,className:"retry-button-cinematic",children:"\u0625\u0639\u0627\u062f\u0629 \u0627\u0644\u0645\u062d\u0627\u0648\u0644\u0629"})]})})});const ie=Math.max(0,Math.min(c,a.slides.length-1));ie!==c&&m(ie);const te=a.slides[ie];return(0,w.jsxs)("div",{ref:X,className:"tv-cinematic-dashboard",children:[(0,w.jsx)(l.N,{mode:"wait",initial:!1,children:(0,w.jsx)(t.P.div,{initial:{opacity:0,scale:.95,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:1.05,y:-20},transition:{duration:.8,ease:[.4,0,.2,1],opacity:{duration:.6}},className:"slide-container-cinematic",children:(()=>{var e,s,i,t,l,n,c,r,d,m,h,p,x,v,u,j;if(!te)return(0,w.jsxs)("div",{className:"error-screen-cinematic",children:[(0,w.jsx)(o.A,{className:"h-20 w-20 mb-4",style:{color:"#ef4444"}}),(0,w.jsx)("h2",{children:"\u062e\u0637\u0623 \u0641\u064a \u062a\u062d\u0645\u064a\u0644 \u0627\u0644\u0634\u0631\u064a\u062d\u0629"}),(0,w.jsx)("p",{children:"\u0627\u0644\u0634\u0631\u064a\u062d\u0629 \u0627\u0644\u062d\u0627\u0644\u064a\u0629 \u063a\u064a\u0631 \u0645\u0648\u062c\u0648\u062f\u0629"})]});switch(te.type){case"opening":return(0,w.jsx)(P,{slide:te,currentTime:y});case"overview":return(0,w.jsx)(M,{slide:te,slideIntervalSec:null!==(e=null===(s=a.settings)||void 0===s?void 0:s.slideInterval)&&void 0!==e?e:90});case"scheduled-tasks":return(0,w.jsx)(I,{slide:te,slideIntervalSec:null!==(i=null===(t=a.settings)||void 0===t?void 0:t.slideInterval)&&void 0!==i?i:90});case"additional-tasks":return(0,w.jsx)(E,{slide:te,slideIntervalSec:null!==(l=null===(n=a.settings)||void 0===n?void 0:n.slideInterval)&&void 0!==l?l:90});case"employee":return(0,w.jsx)(T,{slide:te,slideIntervalSec:null!==(c=null===(r=a.settings)||void 0===r?void 0:r.slideInterval)&&void 0!==c?c:90});case"employee-monthly":return(0,w.jsx)(C,{slide:te,slideIntervalSec:null!==(d=null===(m=a.settings)||void 0===m?void 0:m.slideInterval)&&void 0!==d?d:90});case"department-monthly-overview":return(0,w.jsx)(L,{slide:te,slideIntervalSec:null!==(h=null===(p=a.settings)||void 0===p?void 0:p.slideInterval)&&void 0!==h?h:90});case"attendance":return(0,w.jsx)(F,{slide:te});case"coverage":return(0,w.jsx)(R,{slide:te});case"categories":return(0,w.jsx)(z,{slide:te});case"recognition":return(0,w.jsx)(Q,{slide:te});case"overdue":return(0,w.jsx)(Y,{slide:te});case"rtgs-imports-today":return(0,w.jsx)(H,{slide:te});case"rtgs-settlements-by-import":return(0,w.jsx)(U,{slide:te});case"ct-matching":return(0,w.jsx)(O,{slide:te});case"government-settlements":return(0,w.jsx)(q,{slide:te});case"government-settlement-cards":{var g,N,f,k;const e=null!==(N=null!==(f=((null===(g=a.settings)||void 0===g?void 0:g.slideDurations)||{}).governmentSettlementCards)&&void 0!==f?f:null===(k=a.settings)||void 0===k?void 0:k.slideInterval)&&void 0!==N?N:40;return(0,w.jsx)(V,{slide:te,slideDurationSec:e})}case"settlements-matching-overview":return(0,w.jsx)(B,{slide:te});case"monthly-scheduled-by-category":return(0,w.jsx)(W,{slide:te,slideIntervalSec:null!==(x=null===(v=a.settings)||void 0===v?void 0:v.slideInterval)&&void 0!==x?x:10});case"monthly-additional-by-employee":return(0,w.jsx)(_,{slide:te,slideIntervalSec:null!==(u=null===(j=a.settings)||void 0===j?void 0:j.slideInterval)&&void 0!==u?u:10});default:return(0,w.jsxs)("div",{className:"error-screen-cinematic",children:[(0,w.jsx)(o.A,{className:"h-20 w-20 mb-4",style:{color:"#ef4444"}}),(0,w.jsx)("h2",{children:"\u0634\u0631\u064a\u062d\u0629 \u063a\u064a\u0631 \u0645\u0639\u0631\u0648\u0641\u0629"}),(0,w.jsxs)("p",{children:["\u0646\u0648\u0639 \u0627\u0644\u0634\u0631\u064a\u062d\u0629: ",te.type||"\u063a\u064a\u0631 \u0645\u062d\u062f\u062f"]})]})}})()},ie)}),(0,w.jsx)("div",{className:"toast-container",children:(0,w.jsx)(l.N,{children:g.map(e=>(0,w.jsxs)(t.P.div,{initial:{x:400,opacity:0},animate:{x:0,opacity:1},exit:{x:400,opacity:0},transition:{duration:.5},className:"toast toast-".concat(e.type),children:[(0,w.jsxs)("div",{className:"toast-content",children:["success"===e.type&&(0,w.jsx)(p.A,{className:"h-5 w-5"}),"warning"===e.type&&(0,w.jsx)(o.A,{className:"h-5 w-5"}),"info"===e.type&&(0,w.jsx)(d.A,{className:"h-5 w-5"}),(0,w.jsx)("span",{className:"toast-message",children:e.message}),(0,w.jsx)("span",{className:"toast-time",children:e.timestamp})]}),(0,w.jsx)("button",{onClick:()=>N(a=>a.filter(a=>a.id!==e.id)),className:"toast-close",children:(0,w.jsx)(f.A,{className:"h-4 w-4"})})]},e.id))})}),(0,w.jsxs)("div",{className:"slide-counter-cinematic",children:[(0,w.jsx)("span",{className:"counter-current",children:ie+1}),(0,w.jsx)("span",{className:"counter-separator",children:"/"}),(0,w.jsx)("span",{className:"counter-total",children:a.slides.length})]}),(0,w.jsx)("div",{ref:Z,className:"circular-clock-sensor","aria-hidden":!0}),(0,w.jsx)(A,{ref:J,currentTime:y,hasContentBelow:K})]})}}}]);
//# sourceMappingURL=94.bc740320.chunk.js.map